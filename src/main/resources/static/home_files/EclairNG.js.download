/*
 * This code is for Internal Salesforce use only, and subject to change without notice.
 * Customers shouldn't reference this file in any web pages.
 */
(function(){function Nl(h,l){for(var d=0;d<l.length;d++){var a=l[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(h,a.key,a)}}function dc(h,l,d){l&&Nl(h.prototype,l);d&&Nl(h,d);return h}function Lb(h,l){h.prototype=Object.create(l.prototype);h.prototype.constructor=h;h.__proto__=l}function Li(h){Li=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)};return Li(h)}function Rg(h,l){Rg=Object.setPrototypeOf||
function(d,a){d.__proto__=a;return d};return Rg(h,l)}function ir(){if("undefined"===typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(h){return!1}}function Mi(h,l,d){Mi=ir()?Reflect.construct:function(a,b,c){var f=[null];f.push.apply(f,b);a=new (Function.bind.apply(a,f));c&&Rg(a,c.prototype);return a};return Mi.apply(null,arguments)}function Ni(h){var l=
"function"===typeof Map?new Map:void 0;Ni=function(d){function a(){return Mi(d,arguments,Li(this).constructor)}if(null===d||-1===Function.toString.call(d).indexOf("[native code]"))return d;if("function"!==typeof d)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof l){if(l.has(d))return l.get(d);l.set(d,a)}a.prototype=Object.create(d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});return Rg(a,d)};return Ni(h)}function jr(h,
l){if(h){if("string"===typeof h)return Ol(h,l);var d=Object.prototype.toString.call(h).slice(8,-1);"Object"===d&&h.constructor&&(d=h.constructor.name);if("Map"===d||"Set"===d)return Array.from(d);if("Arguments"===d||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Ol(h,l)}}function Ol(h,l){if(null==l||l>h.length)l=h.length;for(var d=0,a=Array(l);d<l;d++)a[d]=h[d];return a}function hd(h){var l=0;if("undefined"===typeof Symbol||null==h[Symbol.iterator]){if(Array.isArray(h)||(h=jr(h)))return function(){return l>=
h.length?{done:!0}:{done:!1,value:h[l++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}l=h[Symbol.iterator]();return l.next.bind(l)}function da(h){return"undefined"===typeof h}function Dd(h){return"number"===typeof h}function Sg(h){return"number"===typeof h&&0===h%1}function sc(){try{return"undefined"!==typeof Intl&&Intl.DateTimeFormat}catch(h){return!1}}function uf(){return!da(Intl.DateTimeFormat.prototype.formatToParts)}
function Pl(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(h){return!1}}function Ql(h,l,d){return 0===h.length?void 0:h.reduce(function(a,b){var c=[l(b),b];return a?d(a[0],c[0])===a[0]?a:c:c},null)[1]}function Rl(h,l){return l.reduce(function(d,a){d[a]=h[a];return d},{})}function oe(h,l){return Object.prototype.hasOwnProperty.call(h,l)}function Qc(h,l,d){return Sg(h)&&h>=l&&h<=d}function pe(h,l){void 0===l&&(l=2);var d=0>h?"-":"",a=d?-1*h:h,a=a.toString().length<l?("0".repeat(l)+
a).slice(-l):a.toString();return""+d+a}function jb(h){return da(h)||null===h||""===h?void 0:parseInt(h,10)}function Oi(h){if(!da(h)&&!(null===h||""===h))return h=1E3*parseFloat("0."+h),Math.floor(h)}function Pi(h,l,d){void 0===d&&(d=!1);l=Math.pow(10,l);return(d?Math.trunc:Math.round)(h*l)/l}function tc(h){return 0===h%4&&(0!==h%100||0===h%400)}function Tg(h,l){var d=l-1-12*Math.floor((l-1)/12)+1;return 2===d?tc(h+(l-d)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][d-1]}function qe(h){var l=Date.UTC(h.year,
h.month-1,h.day,h.hour,h.minute,h.second,h.millisecond);100>h.year&&0<=h.year&&(l=new Date(l),l.setUTCFullYear(l.getUTCFullYear()-1900));return+l}function Ug(h){var l=h-1,l=(l+Math.floor(l/4)-Math.floor(l/100)+Math.floor(l/400))%7;return 4===(h+Math.floor(h/4)-Math.floor(h/100)+Math.floor(h/400))%7||3===l?53:52}function Qi(h){return 99<h?h:60<h?1900+h:2E3+h}function Sl(h,l,d,a){void 0===a&&(a=null);h=new Date(h);var b={hour12:!1,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};
a&&(b.timeZone=a);l=Object.assign({timeZoneName:l},b);return(a=sc())&&uf()?(d=(new Intl.DateTimeFormat(d,l)).formatToParts(h).find(function(a){return"timezonename"===a.type.toLowerCase()}))?d.value:null:a?(b=(new Intl.DateTimeFormat(d,b)).format(h),(new Intl.DateTimeFormat(d,l)).format(h).substring(b.length).replace(/^[, \u200e]+/,"")):null}function Vg(h,l){var d=parseInt(h,10);Number.isNaN(d)&&(d=0);var a=parseInt(l,10)||0,a=0>d||Object.is(d,-0)?-a:a;return 60*d+a}function Tl(h){var l=Number(h);
if("boolean"===typeof h||""===h||Number.isNaN(l))throw new Mb("Invalid unit value "+h);return l}function Wg(h,l,d){var a={},b;for(b in h)if(oe(h,b)&&!(0<=d.indexOf(b))){var c=h[b];void 0===c||null===c||(a[l(b)]=Tl(c))}return a}function Xg(h,l){var d=Math.trunc(Math.abs(h/60)),a=Math.trunc(Math.abs(h%60)),b=0<=h?"+":"-";switch(l){case "short":return""+b+pe(d,2)+":"+pe(a,2);case "narrow":return""+b+d+(0<a?":"+a:"");case "techie":return""+b+pe(d,2)+pe(a,2);default:throw new RangeError("Value format "+
l+" is out of range for property format");}}function Yg(h){return Rl(h,["hour","minute","second","millisecond"])}function Ca(h){return JSON.stringify(h,Object.keys(h).sort())}function Ul(h){switch(h){case "narrow":return[].concat(kr);case "short":return[].concat(Vl);case "long":return[].concat(lr);case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function Wl(h){switch(h){case "narrow":return[].concat(mr);
case "short":return[].concat(Xl);case "long":return[].concat(Yl);case "numeric":return"1234567".split("");default:return null}}function Zl(h){switch(h){case "narrow":return[].concat(nr);case "short":return[].concat(or);case "long":return[].concat(pr);default:return null}}function qr(h,l,d,a){void 0===d&&(d="always");void 0===a&&(a=!1);var b={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute",
"min."],seconds:["second","sec."]},c=-1===["hours","minutes","seconds"].indexOf(h);if("auto"===d&&c)switch(d="days"===h,l){case 1:return d?"tomorrow":"next "+b[h][0];case -1:return d?"yesterday":"last "+b[h][0];case 0:return d?"today":"this "+b[h][0]}d=Object.is(l,-0)||0>l;l=Math.abs(l);var c=1===l,f=b[h];h=a?c?f[1]:f[2]||f[1]:c?b[h][0]:h;return d?l+" "+h+" ago":"in "+l+" "+h}function rr(h){h=Rl(h,"weekday era year month day hour minute second timeZoneName hour12".split(" "));switch(Ca(h)){case Ca(Zg):return"M/d/yyyy";
case Ca(Ri):return"LLL d, yyyy";case Ca($l):return"EEE, LLL d, yyyy";case Ca(Si):return"LLLL d, yyyy";case Ca(Ti):return"EEEE, LLLL d, yyyy";case Ca(Ui):return"h:mm a";case Ca(Vi):return"h:mm:ss a";case Ca(Wi):return"h:mm a";case Ca(Xi):return"h:mm a";case Ca(Yi):return"HH:mm";case Ca(Zi):return"HH:mm:ss";case Ca($i):return"HH:mm";case Ca(aj):return"HH:mm";case Ca(bj):return"M/d/yyyy, h:mm a";case Ca(cj):return"LLL d, yyyy, h:mm a";case Ca(dj):return"LLLL d, yyyy, h:mm a";case Ca(ej):return"EEEE, LLLL d, yyyy, h:mm a";
case Ca(fj):return"M/d/yyyy, h:mm:ss a";case Ca(gj):return"LLL d, yyyy, h:mm:ss a";case Ca(am):return"EEE, d LLL yyyy, h:mm a";case Ca(hj):return"LLLL d, yyyy, h:mm:ss a";case Ca(ij):return"EEEE, LLLL d, yyyy, h:mm:ss a";default:return"EEEE, LLLL d, yyyy, h:mm a"}}function bm(h,l){for(var d="",a=hd(h),b;!(b=a()).done;)b=b.value,d=b.literal?d+b.val:d+l(b.val);return d}function Ed(h,l){var d;if(da(h)||null===h)return l;if(h instanceof re)return h;if("string"===typeof h){var a=h.toLowerCase();return"local"===
a?l:"utc"===a||"gmt"===a?yb.utcInstance:null!=(d=uc.parseGMTOffset(h))?yb.instance(d):uc.isValidSpecifier(a)?uc.create(h):yb.parseSpecifier(a)||new jj(h)}return Dd(h)?yb.instance(h):"object"===typeof h&&h.offset&&"number"===typeof h.offset?h:new jj(h)}function kj(h,l){void 0===l&&(l={});var d=JSON.stringify([h,l]),a=lj[d];a||(a=new Intl.DateTimeFormat(h,l),lj[d]=a);return a}function sr(h){for(var l=[],d=1;12>=d;d++){var a=Na.utc(2016,d,1);l.push(h(a))}return l}function tr(h){for(var l=[],d=1;7>=d;d++){var a=
Na.utc(2016,11,13+d);l.push(h(a))}return l}function $g(h,l,d,a,b){h=h.listingMode(d);return"error"===h?null:"en"===h?a(l):b(l)}function se(){for(var h=arguments.length,l=Array(h),d=0;d<h;d++)l[d]=arguments[d];h=l.reduce(function(a,b){return a+b.source},"");return RegExp("^"+h+"$")}function Fd(){for(var h=arguments.length,l=Array(h),d=0;d<h;d++)l[d]=arguments[d];return function(a){return l.reduce(function(b,c){var f=b[0],e=b[1],d=c(a,b[2]),k=d[1],h=d[2];return[Object.assign(f,d[0]),e||k,h]},[{},null,
1]).slice(0,2)}}function te(h){if(null==h)return[null,null];for(var l=arguments.length,d=Array(1<l?l-1:0),a=1;a<l;a++)d[a-1]=arguments[a];for(l=0;l<d.length;l++){var b=d[l],a=b[1];if(b=b[0].exec(h))return a(b)}return[null,null]}function cm(){for(var h=arguments.length,l=Array(h),d=0;d<h;d++)l[d]=arguments[d];return function(a,b){var c={},f;for(f=0;f<l.length;f++)c[l[f]]=jb(a[b+f]);return[c,null,b+f]}}function ue(h,l,d){h=h[l];return da(h)?d:jb(h)}function dm(h,l){return[{year:ue(h,l),month:ue(h,l+
1,1),day:ue(h,l+2,1)},null,l+3]}function Gd(h,l){return[{hours:ue(h,l,0),minutes:ue(h,l+1,0),seconds:ue(h,l+2,0),milliseconds:Oi(h[l+3])},null,l+4]}function ve(h,l){var d=!h[l]&&!h[l+1],a=Vg(h[l+1],h[l+2]);return[{},d?null:yb.instance(a),l+3]}function em(h,l){return[{},h[l]?uc.create(h[l]):null,l+1]}function ur(h){var l=h[2],d=h[3],a=h[4],b=h[5],c=h[6],f=h[7],e=h[8],g="-"===h[0][0],k=f&&"-"===f[0],m=function(a,c){void 0===c&&(c=!1);return void 0!==a&&(c||a&&g)?-a:a};return[{years:m(jb(h[1])),months:m(jb(l)),
weeks:m(jb(d)),days:m(jb(a)),hours:m(jb(b)),minutes:m(jb(c)),seconds:m(jb(f),"-0"===f),milliseconds:m(Oi(e),k)}]}function mj(h,l,d,a,b,c,f){l={year:2===l.length?Qi(jb(l)):jb(l),month:Vl.indexOf(d)+1,day:jb(a),hour:jb(b),minute:jb(c)};f&&(l.second=jb(f));h&&(l.weekday=3<h.length?Yl.indexOf(h)+1:Xl.indexOf(h)+1);return l}function vr(h){var l=h[8],d=h[9],a=h[10],b=h[11];h=mj(h[1],h[4],h[3],h[2],h[5],h[6],h[7]);l=l?wr[l]:d?0:Vg(a,b);return[h,new yb(l)]}function fm(h){return[mj(h[1],h[4],h[3],h[2],h[5],
h[6],h[7]),yb.utcInstance]}function xr(h){return[mj(h[1],h[7],h[2],h[3],h[4],h[5],h[6]),yb.utcInstance]}function Hd(h,l,d){void 0===d&&(d=!1);h={values:d?l.values:Object.assign({},h.values,l.values||{}),loc:h.loc.clone(l.loc),conversionAccuracy:l.conversionAccuracy||h.conversionAccuracy};return new kb(h)}function gm(h,l,d,a,b){h=h[b][d];var c=l[d]/h,c=Math.sign(c)!==Math.sign(a[b])&&0!==a[b]&&1>=Math.abs(c)?0>c?Math.floor(c):Math.ceil(c):Math.trunc(c);a[b]+=c;l[d]-=c*h}function yr(h,l){zr.reduce(function(d,
a){if(da(l[a]))return d;d&&gm(h,l,d,l,a);return a},null)}function Id(h){if(Dd(h))return kb.fromMillis(h);if(kb.isDuration(h))return h;if("object"===typeof h)return kb.fromObject(h);throw new Mb("Unknown duration argument "+h+" of type "+typeof h);}function hm(h,l){var d=function(a){return a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},d=d(l)-d(h);return Math.floor(kb.fromMillis(d).as("days"))}function Ar(h,l,d){for(var a={},b,c,f=0,e=[["years",function(a,c){return c.year-a.year}],["quarters",
function(a,c){return c.quarter-a.quarter}],["months",function(a,c){return c.month-a.month+12*(c.year-a.year)}],["weeks",function(a,c){var b=hm(a,c);return(b-b%7)/7}],["days",hm]];f<e.length;f++){var g=e[f],k=g[0],g=g[1];if(0<=d.indexOf(k)){var m;b=k;g=g(h,l);c=h.plus((m={},m[k]=g,m));if(c>l){var n;h=h.plus((n={},n[k]=g-1,n));g-=1}else h=c;a[k]=g}}return[h,a,c,b]}function Br(h,l,d,a){var b=Ar(h,l,d);h=b[0];var c=b[1],f=b[2],e=b[3],b=l-h;d=d.filter(function(a){return 0<=["hours","minutes","seconds",
"milliseconds"].indexOf(a)});if(0===d.length){if(f<l)var g,f=h.plus((g={},g[e]=1,g));f!==h&&(c[e]=(c[e]||0)+b/(f-h))}l=kb.fromObject(Object.assign(c,a));if(0<d.length){var k;return(k=kb.fromMillis(b,a)).shiftTo.apply(k,d).plus(l)}return l}function ec(h,l){var d=h.numberingSystem;void 0===l&&(l="");return RegExp(""+nj[d||"latn"]+l)}function Y(h,l){void 0===l&&(l=function(d){return d});return{regex:h,deser:function(d){var a=l,b;d=d[0];var c=parseInt(d,10);if(isNaN(c)){for(var c="",f=0;f<d.length;f++){var e=
d.charCodeAt(f);if(-1!==d[f].search(nj.hanidec))c+=Cr.indexOf(d[f]);else for(b in im){var g=im[b],k=g[0],g=g[1];e>=k&&e<=g&&(c+=e-k)}}b=parseInt(c,10)}else b=c;return a(b)}}}function Dr(h){return h.replace(/\./g,"\\.?").replace(oj,jm)}function fc(h,l){return null===h?null:{regex:RegExp(h.map(Dr).join("|")),deser:function(d){var a=d[0];return h.findIndex(function(b){return a.replace(/\./g,"").replace(oj," ").toLowerCase()===b.replace(/\./g,"").replace(oj," ").toLowerCase()})+l}}}function km(h,l){return{regex:h,
deser:function(d){return Vg(d[1],d[2])},groups:l}}function lm(h){return{regex:h,deser:function(h){return h[0]}}}function Er(h,l){var d=ec(l),a=ec(l,"{2}"),b=ec(l,"{3}"),c=ec(l,"{4}"),f=ec(l,"{6}"),e=ec(l,"{1,2}"),g=ec(l,"{1,3}"),k=ec(l,"{1,6}"),m=ec(l,"{1,9}"),n=ec(l,"{2,4}"),q=ec(l,"{4,6}"),s=function(a){return{regex:RegExp(a.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:function(a){return a[0]},literal:!0}},u=function(u){if(h.literal)return s(u);switch(u.val){case "G":return fc(l.eras("short",
!1),0);case "GG":return fc(l.eras("long",!1),0);case "y":return Y(k);case "yy":return Y(n,Qi);case "yyyy":return Y(c);case "yyyyy":return Y(q);case "yyyyyy":return Y(f);case "M":return Y(e);case "MM":return Y(a);case "MMM":return fc(l.months("short",!0,!1),1);case "MMMM":return fc(l.months("long",!0,!1),1);case "L":return Y(e);case "LL":return Y(a);case "LLL":return fc(l.months("short",!1,!1),1);case "LLLL":return fc(l.months("long",!1,!1),1);case "d":return Y(e);case "dd":return Y(a);case "o":return Y(g);
case "ooo":return Y(b);case "HH":return Y(a);case "H":return Y(e);case "hh":return Y(a);case "h":return Y(e);case "mm":return Y(a);case "m":return Y(e);case "q":return Y(e);case "qq":return Y(a);case "s":return Y(e);case "ss":return Y(a);case "S":return Y(g);case "SSS":return Y(b);case "u":return lm(m);case "a":return fc(l.meridiems(),0);case "kkkk":return Y(c);case "kk":return Y(n,Qi);case "W":return Y(e);case "WW":return Y(a);case "E":case "c":return Y(d);case "EEE":return fc(l.weekdays("short",
!1,!1),1);case "EEEE":return fc(l.weekdays("long",!1,!1),1);case "ccc":return fc(l.weekdays("short",!0,!1),1);case "cccc":return fc(l.weekdays("long",!0,!1),1);case "Z":case "ZZ":return km(RegExp("([+-]"+e.source+")(?::("+a.source+"))?"),2);case "ZZZ":return km(RegExp("([+-]"+e.source+")("+a.source+")?"),2);case "z":return lm(/[a-z_+-/]{1,256}?/i);default:return s(u)}}(h)||{invalidReason:Fr};u.token=h;return u}function Gr(h){return["^"+h.map(function(h){return h.regex}).reduce(function(h,d){return h+
"("+d.source+")"},"")+"$",h]}function Hr(h,l,d){if(h=h.match(l)){l={};var a=1,b;for(b in d)if(oe(d,b)){var c=d[b],f=c.groups?c.groups+1:1;!c.literal&&c.token&&(l[c.token.val[0]]=c.deser(h.slice(a,a+f)));a+=f}return[h,l]}return[h,{}]}function Ir(h){var l=function(a){switch(a){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";
case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}},d;d=da(h.Z)?da(h.z)?null:uc.create(h.z):new yb(h.Z);da(h.q)||(h.M=3*(h.q-1)+1);da(h.h)||(12>h.h&&1===h.a?h.h+=12:12===h.h&&0===h.a&&(h.h=0));0===h.G&&h.y&&(h.y=-h.y);da(h.u)||(h.S=Oi(h.u));return[Object.keys(h).reduce(function(a,b){var c=l(b);c&&(a[c]=h[b]);return a},{}),d]}function Jr(){pj||(pj=Na.fromMillis(1555555555555));return pj}function Kr(h,l){if(h.literal)return h;var d=vc.macroTokenToFormatOpts(h.val);
if(!d)return h;var a=vc.create(l,d).formatDateTimeParts(Jr()).map(function(a){var c;c=a.type;a=a.value;"literal"===c?c={literal:!0,val:a}:(a=d[c],c=Lr[c],"object"===typeof c&&(c=c[a]),c=c?{literal:!1,val:c}:void 0);return c});return a.includes(void 0)?h:a}function Mr(h,l){var d;return(d=Array.prototype).concat.apply(d,h.map(function(a){return Kr(a,l)}))}function mm(h,l,d){d=Mr(vc.parseFormat(d),h);var a=d.map(function(a){return Er(a,h)}),b=a.find(function(a){return a.invalidReason});if(b)return{input:l,
tokens:d,invalidReason:b.invalidReason};var b=Gr(a),a=RegExp(b[0],"i"),c=Hr(l,a,b[1]),b=c[0],f=(c=c[1])?Ir(c):[null,null],e=f[0],f=f[1];if(oe(c,"a")&&oe(c,"H"))throw new vf("Can't include meridiem when specifying 24-hour format");return{input:l,tokens:d,regex:a,rawMatches:b,matches:c,result:e,zone:f}}function Nb(h,l){return new gc("unit out of range","you specified "+l+" (of type "+typeof l+") as a "+h+", which is invalid")}function nm(h,l,d){h=(new Date(Date.UTC(h,l-1,d))).getUTCDay();return 0===
h?7:h}function om(h,l){var d=tc(h)?qj:rj,a=d.findIndex(function(a){return a<l});return{month:a+1,day:l-d[a]}}function sj(h){var l=h.year,d=h.month,a=h.day,b=a+(tc(l)?qj:rj)[d-1],d=nm(l,d,a),b=Math.floor((b-d+10)/7);1>b?(l-=1,b=Ug(l)):b>Ug(l)&&(l+=1,b=1);return Object.assign({weekYear:l,weekNumber:b,weekday:d},Yg(h))}function pm(h){var l=h.weekYear,d=h.weekNumber,a=h.weekday,b=nm(l,1,4),c=tc(l)?366:365,d=7*d+a-b-3;1>d?(c=l-1,d+=tc(c)?366:365):d>c?(c=l+1,d-=tc(l)?366:365):c=l;l=om(c,d);return Object.assign({year:c,
month:l.month,day:l.day},Yg(h))}function tj(h){var l=h.year,d=h.month,d=h.day+(tc(l)?qj:rj)[d-1];return Object.assign({year:l,ordinal:d},Yg(h))}function qm(h){var l=h.year,d=om(l,h.ordinal);return Object.assign({year:l,month:d.month,day:d.day},Yg(h))}function rm(h){var l=Sg(h.year),d=Qc(h.month,1,12),a=Qc(h.day,1,Tg(h.year,h.month));return l?d?a?!1:Nb("day",h.day):Nb("month",h.month):Nb("year",h.year)}function sm(h){var l=h.hour,d=h.minute,a=h.second;h=h.millisecond;var b=Qc(l,0,23)||24===l&&0===
d&&0===a&&0===h,c=Qc(d,0,59),f=Qc(a,0,59),e=Qc(h,0,999);return b?c?f?e?!1:Nb("millisecond",h):Nb("second",a):Nb("minute",d):Nb("hour",l)}function ah(h){return new gc("unsupported zone",'the zone "'+h.name+'" is not supported')}function uj(h){null===h.weekData&&(h.weekData=sj(h.c));return h.weekData}function wf(h,l){var d={ts:h.ts,zone:h.zone,c:h.c,o:h.o,loc:h.loc,invalid:h.invalid};return new Na(Object.assign({},d,l,{old:d}))}function xf(h,l,d){var a=h-6E4*l,b=d.offset(a);if(l===b)return[a,l];a-=
6E4*(b-l);l=d.offset(a);return b===l?[a,b]:[h-6E4*Math.min(b,l),Math.max(b,l)]}function tm(h,l){var d=new Date(h+6E4*l);return{year:d.getUTCFullYear(),month:d.getUTCMonth()+1,day:d.getUTCDate(),hour:d.getUTCHours(),minute:d.getUTCMinutes(),second:d.getUTCSeconds(),millisecond:d.getUTCMilliseconds()}}function um(h,l){var d=h.o,a=h.c.year+Math.trunc(l.years),b=h.c.month+Math.trunc(l.months)+3*Math.trunc(l.quarters),b=Object.assign({},h.c,{year:a,month:b,day:Math.min(h.c.day,Tg(a,b))+Math.trunc(l.days)+
7*Math.trunc(l.weeks)}),a=kb.fromObject({years:l.years-Math.trunc(l.years),quarters:l.quarters-Math.trunc(l.quarters),months:l.months-Math.trunc(l.months),weeks:l.weeks-Math.trunc(l.weeks),days:l.days-Math.trunc(l.days),hours:l.hours,minutes:l.minutes,seconds:l.seconds,milliseconds:l.milliseconds}).as("milliseconds"),b=qe(b),b=xf(b,d,h.zone),d=b[0],b=b[1];0!==a&&(d+=a,b=h.zone.offset(d));return{ts:d,o:b}}function yf(h,l,d,a,b){var c=d.setZone,f=d.zone;return h&&0!==Object.keys(h).length?(h=Na.fromObject(Object.assign(h,
d,{zone:l||f,setZone:void 0})),c?h:h.setZone(f)):Na.invalid(new gc("unparsable",'the input "'+b+"\" can't be parsed as "+a))}function we(h,l,d){void 0===d&&(d=!0);return h.isValid?vc.create(Va.create("en-US"),{allowZ:d,forceSimple:!0}).formatDateTimeFromString(h,l):null}function vm(h,l){var d=l.suppressSeconds,a=l.suppressMilliseconds,a=void 0===a?!1:a,b=l.includeOffset,c=l.includePrefix,c=void 0===c?!1:c,f=l.includeZone,f=void 0===f?!1:f,e=l.spaceZone,g=l.format,g=void 0===g?"extended":g,k="basic"===
g?"HHmm":"HH:mm";if(!(void 0===d?0:d)||0!==h.second||0!==h.millisecond)if(k+="basic"===g?"ss":":ss",!a||0!==h.millisecond)k+=".SSS";if((f||b)&&(void 0===e?0:e))k+=" ";f?k+="z":b&&(k+="basic"===g?"ZZZ":"ZZ");d=we(h,k);c&&(d="T"+d);return d}function wm(h){var l={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",
weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[h.toLowerCase()];if(!l)throw new xm(h);return l}function ym(h,l){for(var d=hd(zm),a;!(a=d()).done;)a=a.value,da(h[a])&&(h[a]=Am[a]);if(d=rm(h)||sm(h))return Na.invalid(d);d=Ja.now();d=l.offset(d);d=xf(qe(h),d,l);return new Na({ts:d[0],zone:l,o:d[1]})}function Bm(h,l,d){var a=da(d.round)?!0:d.round,b=function(c,b){c=Pi(c,a||d.calendary?
0:2,!0);return l.loc.clone(d).relFormatter(d).format(c,b)},c=function(a){return d.calendary?l.hasSame(h,a)?0:l.startOf(a).diff(h.startOf(a),a).get(a):l.diff(h,a).get(a)};if(d.unit)return b(c(d.unit),d.unit);for(var f=hd(d.units),e;!(e=f()).done;){e=e.value;var g=c(e);if(1<=Math.abs(g))return b(g,e)}return b(h>l?-0:0,d.units[d.units.length-1])}function zf(h){if(Na.isDateTime(h))return h;if(h&&h.valueOf&&Dd(h.valueOf()))return Na.fromJSDate(h);if(h&&"object"===typeof h)return Na.fromObject(h);throw new Mb("Unknown datetime argument: "+
h+", of type "+typeof h);}function Nr(h){this.settings=K.clone(Or);this.contentHeight=this.contentWidth=this.containerHeight=this.containerWidth=null;this.isRtl="rtl"===F.css(h,"direction");var l=h.scrollLeft,d=null;h.scrollLeft=-1;d=0>h.scrollLeft;h.scrollLeft=l;this.negativeScrollAdjustment=(this.isNegativeScroll=d)?h.scrollWidth-h.clientWidth:0;this.event=new Pr;this.ownerDocument=h.ownerDocument||document;this.scrollbarXRail=F.appendTo(F.e("div","ps-scrollbar-x-rail"),h);this.scrollbarX=F.appendTo(F.e("div",
"ps-scrollbar-x"),this.scrollbarXRail);this.scrollbarXLeft=this.scrollbarXWidth=this.scrollbarXActive=null;this.scrollbarXBottom=K.toInt(F.css(this.scrollbarXRail,"bottom"));this.scrollbarXTop=(this.isScrollbarXUsingBottom=this.scrollbarXBottom===this.scrollbarXBottom)?null:K.toInt(F.css(this.scrollbarXRail,"top"));this.railBorderXWidth=K.toInt(F.css(this.scrollbarXRail,"borderLeftWidth"))+K.toInt(F.css(this.scrollbarXRail,"borderRightWidth"));F.css(this.scrollbarXRail,"display","block");this.railXMarginWidth=
K.toInt(F.css(this.scrollbarXRail,"marginLeft"))+K.toInt(F.css(this.scrollbarXRail,"marginRight"));F.css(this.scrollbarXRail,"display","");this.railXRatio=this.railXWidth=null;this.scrollbarYRail=F.appendTo(F.e("div","ps-scrollbar-y-rail"),h);this.scrollbarY=F.appendTo(F.e("div","ps-scrollbar-y"),this.scrollbarYRail);this.scrollbarYTop=this.scrollbarYHeight=this.scrollbarYActive=null;this.scrollbarYRight=K.toInt(F.css(this.scrollbarYRail,"right"));this.scrollbarYLeft=(this.isScrollbarYUsingRight=
this.scrollbarYRight===this.scrollbarYRight)?null:K.toInt(F.css(this.scrollbarYRail,"left"));this.scrollbarYOuterWidth=this.isRtl?K.outerWidth(this.scrollbarY):null;this.railBorderYWidth=K.toInt(F.css(this.scrollbarYRail,"borderTopWidth"))+K.toInt(F.css(this.scrollbarYRail,"borderBottomWidth"));F.css(this.scrollbarYRail,"display","block");this.railYMarginHeight=K.toInt(F.css(this.scrollbarYRail,"marginTop"))+K.toInt(F.css(this.scrollbarYRail,"marginBottom"));F.css(this.scrollbarYRail,"display","");
this.railYRatio=this.railYHeight=null}function Cm(h){return"undefined"===typeof h.dataset?h.getAttribute("data-ps-id"):h.dataset.psId}function Dm(h,l){h.settings.minScrollbarLength&&(l=Math.max(l,h.settings.minScrollbarLength));h.settings.maxScrollbarLength&&(l=Math.min(l,h.settings.maxScrollbarLength));return l}function Qr(h,l){var d={width:l.railXWidth};d.left=l.isRtl?l.negativeScrollAdjustment+h.scrollLeft+l.containerWidth-l.contentWidth:h.scrollLeft;l.isScrollbarXUsingBottom?d.bottom=l.scrollbarXBottom-
h.scrollTop:d.top=l.scrollbarXTop+h.scrollTop;F.css(l.scrollbarXRail,d);d={top:h.scrollTop,height:l.railYHeight};l.isScrollbarYUsingRight?d.right=l.isRtl?l.contentWidth-(l.negativeScrollAdjustment+h.scrollLeft)-l.scrollbarYRight-l.scrollbarYOuterWidth:l.scrollbarYRight-h.scrollLeft:d.left=l.isRtl?l.negativeScrollAdjustment+h.scrollLeft+2*l.containerWidth-l.contentWidth-l.scrollbarYLeft-l.scrollbarYOuterWidth:l.scrollbarYLeft+h.scrollLeft;F.css(l.scrollbarYRail,d);F.css(l.scrollbarX,{left:l.scrollbarXLeft,
width:l.scrollbarXWidth-l.railBorderXWidth});F.css(l.scrollbarY,{top:l.scrollbarYTop,height:l.scrollbarYHeight-l.railBorderYWidth})}function Rr(h,l){var d=window.Event.prototype.stopPropagation.bind;l.settings.stopPropagationOnClick&&l.event.bind(l.scrollbarY,"click",d);l.event.bind(l.scrollbarYRail,"click",function(a){var b=K.toInt(l.scrollbarYHeight/2),b=l.railYRatio*(a.pageY-window.scrollY-l.scrollbarYRail.getBoundingClientRect().top-b)/(l.railYRatio*(l.railYHeight-l.scrollbarYHeight));0>b?b=0:
1<b&&(b=1);Xa(h,"top",(l.contentHeight-l.containerHeight)*b);hc(h);a.stopPropagation()});l.settings.stopPropagationOnClick&&l.event.bind(l.scrollbarX,"click",d);l.event.bind(l.scrollbarXRail,"click",function(a){var b=K.toInt(l.scrollbarXWidth/2),b=l.railXRatio*(a.pageX-window.scrollX-l.scrollbarXRail.getBoundingClientRect().left-b)/(l.railXRatio*(l.railXWidth-l.scrollbarXWidth));0>b?b=0:1<b&&(b=1);Xa(h,"left",(l.contentWidth-l.containerWidth)*b-l.negativeScrollAdjustment);hc(h);a.stopPropagation()})}
function Sr(h,l){var d=null,a=null,b=function(c){var b=d+(c.pageX-a)*l.railXRatio,g=l.scrollbarXRail.getBoundingClientRect().left+l.railXRatio*(l.railXWidth-l.scrollbarXWidth);l.scrollbarXLeft=0>b?0:b>g?g:b;b=K.toInt(l.scrollbarXLeft*(l.contentWidth-l.containerWidth)/(l.containerWidth-l.railXRatio*l.scrollbarXWidth))-l.negativeScrollAdjustment;Xa(h,"left",b);hc(h);c.stopPropagation();c.preventDefault()},c=function(){K.stopScrolling(h,"x");l.event.unbind(l.ownerDocument,"mousemove",b)};l.event.bind(l.scrollbarX,
"mousedown",function(f){a=f.pageX;d=K.toInt(F.css(l.scrollbarX,"left"))*l.railXRatio;K.startScrolling(h,"x");l.event.bind(l.ownerDocument,"mousemove",b);l.event.once(l.ownerDocument,"mouseup",c);f.stopPropagation();f.preventDefault()})}function Tr(h,l){var d=null,a=null,b=function(c){var b=d+(c.pageY-a)*l.railYRatio,g=l.scrollbarYRail.getBoundingClientRect().top+l.railYRatio*(l.railYHeight-l.scrollbarYHeight);l.scrollbarYTop=0>b?0:b>g?g:b;b=K.toInt(l.scrollbarYTop*(l.contentHeight-l.containerHeight)/
(l.containerHeight-l.railYRatio*l.scrollbarYHeight));Xa(h,"top",b);hc(h);c.stopPropagation();c.preventDefault()},c=function(){K.stopScrolling(h,"y");l.event.unbind(l.ownerDocument,"mousemove",b)};l.event.bind(l.scrollbarY,"mousedown",function(f){a=f.pageY;d=K.toInt(F.css(l.scrollbarY,"top"))*l.railYRatio;K.startScrolling(h,"y");l.event.bind(l.ownerDocument,"mousemove",b);l.event.once(l.ownerDocument,"mouseup",c);f.stopPropagation();f.preventDefault()})}function Ur(h,l){function d(a,b){var e=h.scrollTop;
if(0===a){if(!l.scrollbarYActive)return!1;if(0===e&&0<b||e>=l.contentHeight-l.containerHeight&&0>b)return!l.settings.wheelPropagation}e=h.scrollLeft;if(0===b){if(!l.scrollbarXActive)return!1;if(0===e&&0>a||e>=l.contentWidth-l.containerWidth&&0<a)return!l.settings.wheelPropagation}return!0}var a=!1;l.event.bind(h,"mouseenter",function(){a=!0});l.event.bind(h,"mouseleave",function(){a=!1});var b=!1;l.event.bind(l.ownerDocument,"keydown",function(c){if((!c.isDefaultPrevented||!c.isDefaultPrevented())&&
a){var f=document.activeElement?document.activeElement:l.ownerDocument.activeElement;if(f){for(;f.shadowRoot;)f=f.shadowRoot.activeElement;if(K.isEditable(f))return}var e=f=0;switch(c.which){case 37:f=-30;break;case 38:e=30;break;case 39:f=30;break;case 40:e=-30;break;case 33:e=90;break;case 32:e=c.shiftKey?90:-90;break;case 34:e=-90;break;case 35:e=c.ctrlKey?-l.contentHeight:-l.containerHeight;break;case 36:e=c.ctrlKey?h.scrollTop:l.containerHeight;break;default:return}Xa(h,"top",h.scrollTop-e);
Xa(h,"left",h.scrollLeft+f);hc(h);(b=d(f,e))&&c.preventDefault()}})}function Vr(h,l){function d(a,b){var e=h.scrollTop;if(0===a){if(!l.scrollbarYActive)return!1;if(0===e&&0<b||e>=l.contentHeight-l.containerHeight&&0>b)return!l.settings.wheelPropagation}e=h.scrollLeft;if(0===b){if(!l.scrollbarXActive)return!1;if(0===e&&0>a||e>=l.contentWidth-l.containerWidth&&0<a)return!l.settings.wheelPropagation}return!0}function a(a){if(K.env.isWebKit||!h.querySelector("select:focus")){var f,e=a.deltaX;f=-1*a.deltaY;
if("undefined"===typeof e||"undefined"===typeof f)e=-1*a.wheelDeltaX/6,f=a.wheelDeltaY/6;a.deltaMode&&1===a.deltaMode&&(e*=10,f*=10);e!==e&&f!==f&&(e=0,f=a.wheelDelta);f=[e,f];e=f[0];f=f[1];var g;a:{if(g=h.querySelector("textarea:hover")){var k=g.scrollHeight-g.clientHeight;if(0<k&&!(0===g.scrollTop&&0<f)&&!(g.scrollTop===k&&0>f)){g=!0;break a}k=g.scrollLeft-g.clientWidth;if(0<k&&!(0===g.scrollLeft&&0>e)&&!(g.scrollLeft===k&&0<e)){g=!0;break a}}g=!1}if(!g&&(b=!1,l.settings.useBothWheelAxes?l.scrollbarYActive&&
!l.scrollbarXActive?(f?Xa(h,"top",h.scrollTop-f*l.settings.wheelSpeed):Xa(h,"top",h.scrollTop+e*l.settings.wheelSpeed),b=!0):l.scrollbarXActive&&!l.scrollbarYActive&&(e?Xa(h,"left",h.scrollLeft+e*l.settings.wheelSpeed):Xa(h,"left",h.scrollLeft-f*l.settings.wheelSpeed),b=!0):(Xa(h,"top",h.scrollTop-f*l.settings.wheelSpeed),Xa(h,"left",h.scrollLeft+e*l.settings.wheelSpeed)),hc(h),b=b||d(e,f)))a.stopPropagation(),a.preventDefault()}}var b=!1;"undefined"!==typeof window.onwheel?l.event.bind(h,"wheel",
a):"undefined"!==typeof window.onmousewheel&&l.event.bind(h,"mousewheel",a)}function Wr(h,l){l.event.bind(h,"scroll",function(){hc(h)})}function Xr(h,l){function d(){var a=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===a.toString().length?null:a.getRangeAt(0).commonAncestorContainer}function a(){c||(c=setInterval(function(){Pa.get(h)?(Xa(h,"top",h.scrollTop+f.top),Xa(h,"left",h.scrollLeft+f.left),hc(h)):clearInterval(c)},50))}function b(){c&&
(clearInterval(c),c=null);K.stopScrolling(h)}var c=null,f={top:0,left:0},e=!1;l.event.bind(l.ownerDocument,"selectionchange",function(){h.contains(d())?e=!0:(e=!1,b())});l.event.bind(window,"mouseup",function(){e&&(e=!1,b())});l.event.bind(window,"mousemove",function(c){if(e){var d=c.pageX;c=c.pageY;var l=h.offsetLeft+h.offsetWidth,n=h.offsetTop,q=h.offsetTop+h.offsetHeight;d<h.offsetLeft+3?(f.left=-5,K.startScrolling(h,"x")):d>l-3?(f.left=5,K.startScrolling(h,"x")):f.left=0;c<n+3?(f.top=5>n+3-c?
-5:-20,K.startScrolling(h,"y")):c>q-3?(f.top=5>c-q+3?5:20,K.startScrolling(h,"y")):f.top=0;0===f.top&&0===f.left?b():a()}})}function Yr(h,l,d,a){var b,c;function f(a,c){var b=h.scrollTop,f=h.scrollLeft,e=Math.abs(a),d=Math.abs(c),g=l.contentHeight!==l.containerHeight,k=l.contentWidth!==l.containerWidth;if(d>e){if(!g)return!1;if(0>c&&b===l.contentHeight-l.containerHeight||0<c&&0===b)return!l.settings.swipePropagation}else if(e>d){if(!k)return!1;if(0>a&&f===l.contentWidth-l.containerWidth||0<a&&0===
f)return!l.settings.swipePropagation}return!0}function e(a,c){Xa(h,"top",h.scrollTop-c);Xa(h,"left",h.scrollLeft-a);hc(h)}function g(a){return a.targetTouches&&1===a.targetTouches.length||a.pointerType&&"mouse"!==a.pointerType&&a.pointerType!==a.MSPOINTER_TYPE_MOUSE?!0:!1}function k(){return l.contentHeight!==l.containerHeight||l.contentWidth!==l.containerWidth}function m(a){k()&&g(a)&&(t=!0,a=a.targetTouches?a.targetTouches[0]:a,s.pageX=a.pageX,s.pageY=a.pageY,u=(new Date).getTime(),null!==x&&clearInterval(x))}
function n(a){if(k()&&t&&g(a)){var d=a.targetTouches?a.targetTouches[0]:a,h={pageX:d.pageX,pageY:d.pageY},d=h.pageX-s.pageX,l=h.pageY-s.pageY;e(d,l);s=h;var h=(new Date).getTime(),m=h-u;0<m&&(b=d/m,c=l/m,u=h);f(d,l)&&(a.stopPropagation(),a.preventDefault())}}function q(){k()&&t&&(t=!1,clearInterval(x),x=setInterval(function(){Pa.get(h)?!b&&!c?clearInterval(x):0.01>Math.abs(b)&&0.01>Math.abs(c)?clearInterval(x):(e(50*b,50*c),b*=0.8,c*=0.8):clearInterval(x)},10))}var s={},u=0;c=b=void 0;var x=null,
t=!1;d&&(l.event.bind(h,"touchstart",m),l.event.bind(h,"touchmove",n),l.event.bind(h,"touchend",q));a&&(window.PointerEvent?(l.event.bind(h,"pointerdown",m),l.event.bind(h,"pointermove",n),l.event.bind(h,"pointerup",q)):window.MSPointerEvent&&(l.event.bind(h,"MSPointerDown",m),l.event.bind(h,"MSPointerMove",n),l.event.bind(h,"MSPointerUp",q)))}function vj(h){return h&&"object"===typeof h&&"default"in h?h["default"]:h}function Zr(h){var l,d,a;if(Em.exec(h)&&(Af.gradientSearch.lastIndex=0,h=Af.gradientSearch.exec(h),
null!==h)){l={original:h[0],colorStopList:[]};h[1]&&(l.line=h[1]);h[2]&&(l.angle=h[2]);h[3]&&(l.sideCorner=h[3]);Af.colorStopSearch.lastIndex=0;for(d=Af.colorStopSearch.exec(h[4]);null!==d;)a={color:d[1]},d[2]&&(a.position=d[2]),l.colorStopList.push(a),d=Af.colorStopSearch.exec(h[4])}return l}function Ob(h){return wj?wj("return "+JSON.stringify(h)+";"):h}function $r(){xj||(xj=G.DateTime.fromISO("2016-01-01").valueOf());return xj}function as(){yj||(yj=G.DateTime.fromFormat("2016-01","kkkk-WW").valueOf());
return yj}function bs(h){var l;if(-1<Fm.indexOf(h))l=function(d){return G.DateTime.fromMillis($r()+(parseInt(d,10)-1)*cs).startOf("day").valueOf()};else if(-1<Gm.indexOf(h))l=function(d){return G.DateTime.fromMillis(as()+(parseInt(d,10)-1)*ds).startOf("week").valueOf()};else return Hm(h);return xe(l,h)}function xe(h,l){return function(d){if(!(null==d||""===d))return l&&(d+=""),h(d)}}function Hm(h){return xe(function(l){return G.DateTime.fromFormat(l,h).valueOf()},h)}function es(){null==Jd&&(Jd=Qa.getDelegate());
null==zj&&(zj=Jd.getRealFontSize(p.AXIS.LABELS.TEXT.SIZE)+2*p.AXIS.LABELS.PADDING.SMALL);return zj}function Kd(h){return oa(function(h){function d(){h.apply(this,arguments)}h&&(d.__proto__=h);d.prototype=Object.create(h&&h.prototype);d.prototype.constructor=d;d.prototype.drawDebug=function(a,b,c){c=a.props;a=c.key;var f=c.bb;if(f){c=f[0];var e=f[1],d=f[2],f=f[3];b.font=va.getFont(10);b.strokeStyle=fs;b.strokeRect(c,e,d,f);b.textBaseline="top";b.strokeText(a,c,e)}};return d}(h))}function Im(h,l){var d=
h,a=l;h<l&&(d=l,a=h);return 0===d%a?a:Im(a,d%a)}function Jm(h,l){var d=l.timeout,a=l.failOnTimeout;void 0===a&&(a=!0);var b=l.pollInterval;void 0===b&&(b=10);var c=l.errorMessage;return new Promise(function(f,e){var g,k;null!=d&&(g=setTimeout(function(){clearInterval(k);a?e(c||"Timed out for waitFor"):f()},d));k=setInterval(function(){h()&&(null!=g&&clearTimeout(g),null!=k&&clearInterval(k),f())},b)})}function gs(){if(null==id){id=document.createElement("canvas").getContext("2d");var h=va.getFont(Ra.FONT.SIZE);
try{id.font=h}catch(l){console.warn("EclairNG: Failed to initialize canvas font, will attempt to initialize asynchoronously");console.warn(l);var d=setInterval(function(){try{id.font=h,clearInterval(d),console.warn("EclairNG: Canvas font initialized asynchoronously")}catch(a){}},10)}wc.getInstance().setTextDelegate(id)}}function hs(){return"complete"===document.readyState}function is(){gs();var h;try{h=id.measureText(Ra.FONT.LOADING_TEST.TEXT)}catch(l){}return h&&h.width>Ra.FONT.LOADING_TEST.WIDTH}
function Aj(h,l){return h?Km(h)?h.map(l):l(h):null}function jd(h){return function(h){function d(){h.apply(this,arguments)}h&&(d.__proto__=h);d.prototype=Object.create(h&&h.prototype);d.prototype.constructor=d;d.prototype.tweenUpdate=function(a){h.prototype.tweenUpdate.call(this,a);this.props.bb0=this.props.bb;if(this.props.type!==a.props.type&&-1!==this.getNumVertices()&&-1!==a.getNumVertices()){var b;b=this.getNumVertices();var c=a.getNumVertices(),f=Im(b,c);b=f*(b/f)*(c/f);(c=this.getPathProps(b,
this.props))&&Lm(this.props,c);this.tween(null,Lm({},a.props,a.getPathProps(b,a.props)),!0);a.tweens=this.tweens;return a}return this};d.prototype.getPathProps=function(a,b){return null};d.prototype.getNumVertices=function(){return-1};d.prototype._sampleLine=function(a,b,c,f,e){for(var d=[],k=[],h=0;h<e;++h){var l=1/e;d.push(a+l*h*(c-a));k.push(b+l*h*(f-b))}return[d,k]};d.prototype._sampleCurve=function(a,b,c,f,e){for(var d=[],k=[],h=b/e,l=0;l<e;++l){var q=f?a+h*l:a+b-h*l;d.push(c*Math.cos(q));k.push(c*
Math.sin(q))}return[d,k]};return d}(h)}function js(h){void 0===h&&(h={});return new (Mm[h.type]||Sa)(h.options)}function Nm(h){var l=h.cell,d=h.theme,a=h.layer,b=h.key,c=h.scale,f=h.length,e=h.lines,g=h.formatMultiplier,k=h.rotateLabel,g=g||1,d=d||ks,a=a||new Ka({cell:l,key:b,staggerAnim:!1,canSelect:!1,canScroll:!1,zIndex:ls});e.forEach(function(b,e){var h=b.value/g,l=h>=c.domain()[0]&&h<=c.domain()[1],u=a,h=c.scale(h),x=b.color||d.getReferenceLineColor(),t=b.lineWidth||ms,v=b.key||e,r=b.transparent,
w=b.label,y=d,H=b.lineStyle,I=0,x=bh.getColor(x);if(w&&l){var V=Qa.getDelegate(),I=V.getRealFontSize(p.TEXT_SIZE),V=V.getTextWidth(w),I=k?I+2:V+14;I<f?(V=0,r?(r=y.getBackgroundColor().toOpaque().adjustOpacity(0.7),y=x,V=1):(r=x,y=x.toHighContrast(y.getTextColorOnLight(),y.getTextColorOnDark())),k||new ye({key:"refline-rect"+v,layer:u,points:[[h+8+V,1],[h+8+V,I-6],[h,I],[h-8-V,I-6],[h-8-V,1]],lineWidth:t,stroke:x.adjustOpacity(0.9),fill:r}),w=new ya({key:"refline-label"+v,layer:u,x:h,y:k?0:5,vertical:!k,
halign:k?"center":"right",valign:k?"top":"middle",includeDescender:!1,text:w,stroke:y,bgColor:k?x:void 0,padding:k?{top:2,left:10,right:10,bottom:5}:void 0,accessibility:{type:p.ACCESSIBILITY.TYPE.CAPTION,key:p.ACCESSIBILITY.CAPTION_KEY.REFERENCE_LINE,value:w}}),k&&(y=w.boundingBox(),y.x<c.range()[0]&&w.set({x:c.range()[0],halign:"left"}),y.x+y.w>c.range()[1]&&w.set({x:c.range()[1],halign:"right"}))):I=0}0<f&&new eb({layer:u,lineWidth:t,stroke:x,key:"refline-line"+v,x0:h,y0:I,x1:h,y1:f,dashed:H===
p.LINE_STYLE.DASHED?p.DASHED_LINE_SPACING:0,opacity:l?1:0})});return a}function kd(h){return void 0!==h?h:!0}function ch(h,l,d){if(!l||!l.length)l=h?r.keys(h):[];for(var a=function(a){var b=l[a];a=h[b];r.isArray(a)?a.forEach(function(a){return d(a,b)}):d(a,b)},b=0;b<l.length;b++)a(b)}function dh(h,l,d){var a=[];ch(h,l,function(c){if(c=c&&c.column)for(var b=0;b<c.length;b++){var e=c[b];(!d||e.getType()===d)&&a.push(e)}});var b={};a.forEach(function(a){return b[a.getName()]=a});return r.values(b)}function Om(h,
l){h.forEach(function(d){d.time&&(d.value=l(d.time))})}function Bj(h,l,d,a,b,c){h=h["default"];return h.make?h.make(l,d,a,b,c):new h(l,d,a,b,c)}function Pm(h,l,d){void 0===l&&(l={});var a=l.padding,b=l.size,c=l.theme,f=l.title,e=W.getLabel("@salesforce/charts",d,null,l.labels);return Rc.getModule("sfdc-empty-chart",Ld.version).then(function(d){return Bj(d,{padding:a,theme:c,size:b,title:f},h,e)})}function ns(h,l,d){var a=h.range(),a=Math.abs(a[1]-a[0]);d=Math.round(a/d);var b=[],c=[],a=!1,f,e,b=h.ticks(d);
for(d=b.length;1<=d;){1>=b.length&&(b=h.domain(),f=b[0],e=b[1],b=0>f&&0<e?e===-f?[f,0,e]:e>-f?[0,e]:[f,0]:[f,e]);c=b.map(l);if(A.uniq(c).length===c.length){a=!0;break}d--;b=h.ticks(d,!0)}!a&&1<b.length&&(f=b[0],e=r.last(b),b=0>f&&0<e?[0]:0===f||0===e?c[0]===r.last(c)?[0]:[f,e]:[b[0]]);return b}function Qm(h){var l=p.AXIS.NUM;r.defaults(h,{key:"axis",gridLineLength:0,drawAxisLine:!1,drawGridLines:!0,drawAxis:!0,drawLabels:!0,ticksOnly:!1});var d=h.theme||eh,a=h.cell,b=h.scale,c=h.format,f=h.gridLineLength,
e=h.drawAxisLine,g=h.drawGridLines,k=h.drawAxis,m=h.key,n=h.drawLabels,q=h.ticksOnly,s=h.layer||new Ka({cell:a,key:m,staggerAnim:!1,canSelect:!1}),m=b.domain();h=b.range();if(k){var c=Ya(c,!0,!0),u=a.getScene().get("transforms").rotate,g=g&&f,x=u?{halign:"left",valign:"middle",vertical:!0}:{halign:"center",valign:"bottom"},t=l.TICKMARK,v=t.HORI_DISTANCE,t=t.VERTI_DISTANCE,u=ns(b,c,u?t:v),z=u.map(c);u.forEach(function(a,c){n&&new ya(r.extend({layer:s,x:a,y:-8,stroke:d.getMeasureAxisTickLabelColor(),
text:z[c],key:"text"+a},x));e&&new eb({layer:s,x0:a,y0:-3,x1:a,y1:4,stroke:d.getMeasureAxisTickMarkColor(),key:"marker"+a});g&&new eb({layer:s,x0:a,y0:-3,x1:a,y1:3+f,stroke:d.getMeasureAxisGridLineColor(),key:"line"+a})});e&&!q&&new eb({layer:s,x0:m[0],y0:0,x1:m[1],y1:0,stroke:d.getMeasureAxisLineColor(),key:"longline"})}s.set({scales:{x:b},y:a.get("h")});if(k&&(a=s.find({key:/^text/}),b=a.length,0<b&&(k=a[0],q=k.boundingBox(),q=q.x,q<h[0]&&(k.offsetX(h[0]-q),1<b&&(q=k.boundingBox(),m=q.x+q.w,k=a[1],
q=k.boundingBox(),c=q.x,m>c-l.TICKLABEL.PADDING&&(m-=c-l.TICKLABEL.PADDING,c=!0,2<b&&(u=a[2].boundingBox(),q.x+q.w+m<u.x-l.TICKLABEL.PADDING&&(k.offsetX(m),c=!1)),c&&k.set({text:""})))),k=r.last(a),q=k.boundingBox(),q=q.x+q.w,q>h[1]&&(k.offsetX(h[1]-q),1<b)))){q=k.boundingBox();q=q.x;h=a[a.length-2];for(k=a.length-3;0<=k&&!h.get("text");)h=a[k],k--;b=h.boundingBox();m=b.x+b.w;h.get("text")&&m>q-l.TICKLABEL.PADDING&&(q=m-(q-l.TICKLABEL.PADDING),m=!0,0<=k&&(a=a[k].boundingBox(),a.x+a.w+l.TICKLABEL.PADDING<
b.x-q&&(h.offsetX(-q),m=!1)),m&&h.set({text:""}))}return s}function Rm(h){function l(a,c){return c?a:a.reverse()}function d(a,c){for(var b=[],f=a.length,e=0;e<f;++e)b.push(a[e]),f-1!==e&&b.push(c);return b}function a(c){return 0===c.length?[]:c[0].split(" ").concat(a(c.slice(1)))}var b=h.axis,c=b.column,f=b.sorting;void 0===f&&(f={enabled:!1});var e=b.titleMaxLines,g=h.theme,k=h.cell,m=h.key||"title",n=h.size||k.get("h"),q=h.layer,b=h.titleOffset||0,s=!!h.isDimension,u=h.titleColor||eh.getDimensionAxisTitleColor(),
x=Aa.fromValue(f.order)||Aa.NONE;if(h.titles){var t=h.normalize,v=(Array.isArray(h.titles)?h.titles:[h.titles]).map(function(a){return a+(t?" (%)":"")});if(!r.every(v,r.isEmpty)){var z=f.enabled,q=q||new Ka({key:m,cell:k,canHover:z,staggerAnim:!1}),w=k.getScene().get("transforms").rotate;h=k.getScene().get("transforms").flipY;var k=v.length,y=p.AXIS.LABELS.TITLE.SEPARATOR,m=(new ya({key:"measuringText",text:y,stroke:u,halign:"right",valign:"middle",vertical:!0})).getTextW(),H=p.AXIS.LABELS.TITLE.PADDING.HORIZONTAL,
I=p.AXIS.LABELS.TITLE.PADDING.VERTICAL,V=(n-((k-1)*m+2*H))/k,Fa=new zb({layer:q,key:"titleGroup"}),qb="",ea=new fb({top:I,right:H,bottom:I,left:H}),A=l(d(v,y),w);if(1<e){var e=wc.getInstance().wrap(a(A),e,n),Za=e.lines,e=e.rest,v=f.enabled&&x.sortChar&&""===e?" "+x.sortChar:"";Za.slice(0,-1).concat(Za[Za.length-1]+e+v).map(function(a,c){return new ya({shapeGroup:Fa,key:"title-line-"+c,x:0,y:0,text:a,stroke:u,halign:"center",valign:"top",vertical:!0,maxWidth:c===Za.length-1?n:null,padding:ea,size:p.TEXT_SIZE})});
Fa.applyLayout({type:"hbox"});0<Fa.getChildren().length&&Fa.offsetY(0.5*n)}else A.forEach(function(a,c){var b=0===c?H:void 0,e=c===A.length-1?H:void 0;ea.left=w?b:e;ea.right=w?e:b;qb+=a;if(e=wc.getInstance().getTruncatedText(a,V)){var b=0,d,k=e!==a;f.enabled&&(x.sortChar&&(d=x.sortChar,k||(d=" "+d)),b=n/2);var h;h=z?n:a===y?null:V;h={shapeGroup:Fa,key:"title-"+c,x:0,y:b,text:a,stroke:u,halign:z?"center":"right",valign:"top",vertical:!0,hoverBgColor:z?g.getAxisTitleTextBackgroundColor():void 0,maxWidth:h,
padding:ea};f.enabled&&Object.assign(h,{accessibility:{type:p.ACCESSIBILITY.TYPE.AXIS}});new ya(h);f.enabled&&null!=d&&(e=k?e:a,w||!s?b+=xc.getTextWidth(e)/2-H:(b-=xc.getTextWidth(e)/2,b-=xc.getTextWidth(d)+H),new ya({layer:q,key:"title-"+c+"-sorting-suffix",x:0,y:b,text:d,stroke:u,valign:"top",halign:"right",vertical:!0,padding:ea,zIndex:-1}))}}),Fa.applyLayout({type:"vbox"}),0<Fa.getChildren().length&&Fa.offsetY(0.5*(n-Fa.boundingBox().h));w&&h?new Pb({layer:q,key:"padding",x:Fa.boundingBox().w+
b,y:n/2,r:0}):Fa.offsetX(b);if(f.enabled){var b=Aa.fromOrdinal((x.ordinal+1)%Aa.values().length).value,Cf={eventName:p.EVENT_NAME.SORT,eventData:{column:[c[0].getName()],order:b}};Fa.forEach(function(a){a.set("cursorType","pointer");a.set("onClick",Cf)})}q.set({accessibility:{type:p.ACCESSIBILITY.TYPE.CAPTION,key:s?p.ACCESSIBILITY.CAPTION_KEY.DIMENSION_AXIS_TITLE:p.ACCESSIBILITY.CAPTION_KEY.MEASURE_AXIS_TITLE,value:qb}})}}return q}function Sm(h,l,d){d=Math.abs(d)%Math.PI;d=d>Math.PI/2?Math.PI-d:d;
var a=Math.cos(d);return a?(h-l*Math.sin(d))/a:1E3}function os(h){h=h.getChildren().slice(0);for(var l=Math.min(p.OPTIMIZATION.MEASURE_LABEL_SIZE,h.length),d=0,a=0;a<l;++a){var b=h[a].trueBoundingBox().w;b>d&&(d=b)}return d}function Tm(h){var l=h.theme||eh,d=p.AXIS.LABELS,a=h.rows,b=Sc.uniqueColumns(a.getFields()),c={key:"labels",color:l.getDimensionAxisTextColor(),halign:d.TEXT.HALIGN,layout:d.LAYOUT.HIDDEN,numColumns:b.length,showSeparationLines:!0,floating:!1,overflowForSlanted:0};r.defaults(h,
c);var f=h.cell,e=h.layout,c=h.icon,g=h.numColumns,k=h.halign,m=h.color,n=h.floating,q=h.overflowForSlanted,s=h.key,u=d.LAYOUT,x=Math.PI/4,g=Math.min(g,b.length),t=g===b.length;if(g&&e!==u.HIDDEN){var v=new Ka({key:s,cell:f,canHover:!0}),z=a.getRowHeight(),s=a.getLayout(),w=t&&1===b.length&&c&&z+s.spacer>=ic,y,H,I,V,Fa;w&&(s=c.column,y=c.type||"round",H=s&&s.getName(),I=c.stroke,V=c.fill||l.getIconFillColor(),Fa=c.fit||p.TEXTURE.FIT.COVER);var c=(new ya({size:d.TEXT.SIZE})).getH(),qb;e===u.ORTHOGONAL?
(c=d.PADDING.WIDE,qb=d.PADDING.SMALL):(t?(c=((e===u.SLANTED?z*Math.sin(x):z)-c)/2,c=Math.min(c,d.PADDING.WIDE)):c=d.PADDING.SMALL,qb=d.PADDING.WIDE);w&&(c=(new ya({size:d.TEXT.SIZE})).getH(),c=(ic-c)/2);var ea=(new ya({size:d.TEXT.SIZE,padding:{top:c,bottom:c}})).getH(),A={},Za={},Cf=l.getHotspotColors();b.forEach(function(a,c){if(!(c+1>g)){A[a.getName()]=(new zb({key:a.getName()})).prependTo(v);var b=a.getHotSpots();b&&(Za[a.getName()]=b.map(function(a){a.size=ea;a.colors=r.defaults(a.colors,Cf);
return a}))}});var Cj=a.hasHierarchy(),Dj={left:qb,right:qb,top:c,bottom:c},Ej={left:qb,right:qb+ic+Gj,top:c,bottom:c},fh={};a.traverse(function(a,c,b,f,h,q,s,p){var v=b.index===g-1;b=f.layout.y;f=f.layout.h;switch(e){case u.ORTHOGONAL:v=v||!Cj||!n;b={valign:"middle",halign:v?"center":"right",y:v?b+f/2:b,vertical:!0,maxWidth:f};break;case u.SLANTED:b={valign:"bottom",halign:"left",y:b+f/2,vertical:!0,angle:-x};break;default:b={halign:k,valign:"middle",y:b+(!n?f/2:t?z/2:ea/2)+1}}a=ps.formatColumnValue(a,
c);var y={};p.forEach(function(a,c){return y[a.getName()]=q[c]});h="label-"+h.join("|");w&&(s=s.getBaseRows()[0],fh[h]=s[H]);new ya(r.extend({key:h,shapeGroup:A[c.getName()],x:0,text:a,size:d.TEXT.SIZE,stroke:m,hoverStroke:l.getDimensionAxisTextHoverColor(),hotSpots:Za[c.getName()],padding:w?Ej:Dj,data:{row:y,column:r.last(p).getName()},hoverBgColor:l.getDimensionAxisTextBGColor()},b))},g);b=v.getChildren().map(os);if(e===u.NORMAL){var Bf=xc.truncateColumns(b,f.get("w"));b.forEach(function(a,c){var b=
Bf&&Bf[c]||a;v.getChildren()[c].forEach(function(a){a.set("maxWidth",b)})})}else e===u.SLANTED&&b.forEach(function(a,c){v.getChildren()[c].forEach(function(c,b){var e=c.get("angle"),e=Sm(Math.min(c.get("y")+q+ea*Math.sin(-e),f.get("w")),ea,e);c.set("maxWidth",Math.min(e,a))})});v.applyLayout({type:"hbox",reverse:!0});var ze=v.boundingBox(),B=[],C=f.getScene().get("transforms").rotate;v.reverse().offsetX(ze.w).forEach(function(a,c){if(!(c>=g)){a.offsetX(-(ze.w+ze.x));var b=a.boundingBox();B.push(b.x);
var f=[];a.forEach(function(a){switch(e){case u.SLANTED:a.set({maxWidth:Math.min(Sm(b.w,ea,-x),a.get("maxWidth"))});break;case u.NORMAL:a.set({maxWidth:b.w})}if(w){a:{var c=a.get(),d=c.x,c=c.y;switch(e){case u.ORTHOGONAL:c=c+a.getTextW()/2+Gj/2;break;case u.SLANTED:d=d-qb-ic/2;c-=2;break;default:d="center"===k?d+a.getTextW()/2+Gj/2:d-qb-ic/2}var g={fill:V,stroke:I,lineWidth:1,skipInFind:!0,texture:{url:fh[a.get("key")],fit:Fa}};switch(y){case "square":a=new jc(r.extend({key:a.get("key")+"_icon_square",
x:d-ic/2,y:c-ic/2,w:ic,h:ic,cornerRadius:Math.round(ic/6),vertical:C},g));break a;default:a=new Pb(r.extend({key:a.get("key")+"_icon_point",x:d,y:c,r:ic/2},g))}}f.push(a)}});f&&a.appendAll(f)}}).flatten();h.showSeparationLines&&a.traverse(function(a,c,b,f,e){!b.isLast&&!f.isLast&&(a=f.layout.y+f.layout.h+b.layout.spacer/2,new eb({layer:v,x0:B[b.index],x1:0,y0:a,y1:a,stroke:l.getDimensionAxisSeparatorColor(),key:"line-"+e.join("|"),canHover:!1,canSelect:!1}))},g);return v}}function Wm(h){var l=h.theme||
eh,d=p.AXIS.TIME;r.defaults(h,{key:"time",granularity:"month",drawAxisLine:!0,drawAxis:!0});var a=h.cell,b=h.scale,c=h.formats,f=h.drawAxis,e=h.drawAxisLine,g=h.granularity,k=h.isDiscrete,m=h.firstDayOfWeek,n=h.dataFormat,q=h.fiscalGranularity,s=new Ka({cell:a,key:h.key,staggerAnim:!1}),u=b.domain(),x=b.range(),t=a.getScene().get("transforms").rotate;if(f){var v=t?{halign:"center",valign:"middle",vertical:!0}:{halign:"right",valign:"middle"},c=r.extend({},d.FORMATS,c),z=ka.ticks(b,g,c,t,k,m,n,q);
z.forEach(function(a){var c=a.time;a=a.text;new ya(r.extend({layer:s,y:c,x:-12,stroke:l.getTimeAxisTickLabelColor(),text:a,key:"text-"+c},v))});e&&new eb({layer:s,x0:0,y0:u[0],x1:0,y1:u[1],stroke:l.getTimeAxisLineColor(),key:"longline"});s.set({x:s.boundingBox().w});a.adjustColumnToFit();d=s.find({key:/^text/});d.forEach(function(a,c){var b=a.get("y"),f=z[c];new eb({layer:s,x0:-3,y0:b,x1:4,y1:b,stroke:l.getTimeAxisTickMarkColor(),key:"marker-"+f.time})});s.set({scales:{y:b}});if(b=r.last(d))a=b.boundingBox(),
a=a.y+a.h,a>x[1]&&b.offsetY(x[1]-a);if(!h.showMeasure&&(h=r.first(d)))a=h.boundingBox(),b=a.y,b<x[0]&&h.offsetY(x[0]-b)}else a.adjustColumnToFit();return s}function Xm(h,l,d,a){if(h){var b=h[0],c=h[1];l||(l=[null!=b?b:c,null!=c?c:b]);var f=l.slice();null!=b&&null!=c?(l=h,a=d=p.BOUND_TYPE.CUSTOM):null!=b?(l[0]=b,d=p.BOUND_TYPE.CUSTOM,l[0]>l[1]&&(l[1]=l[0]+Ym,a=void 0)):null!=c&&(l[1]=c,a=p.BOUND_TYPE.CUSTOM,l[0]>l[1]&&(l[0]=l[1]-Ym,d=void 0));h=(f[1]-f[0])/qs-(l[1]-l[0]);0<h&&(b=function(a){return a===
p.BOUND_TYPE.CUSTOM?a:void 0},0>l[0]&&0>=l[1]?(l=[l[0]-h,l[1]],d=b(d)):(0<=l[0]&&0<l[1]?l=[l[0],l[1]+h]:(l=[l[0]-h/2,l[1]+h/2],d=b(d)),a=b(a)));return{domain:l,lowBound:d,highBound:a}}}function rs(h,l,d){var a=Bb.getOrdinalDomain(l,h);l=a.length;if(0===l||1===l&&null==a[0])h.setIsAllNull(!0);else{var b;d.some(function(c){return ss(a,c)?(b=c,!0):!1});b&&(h=(new Zm(h.getName(),h.getLabel())).setHotSpots(h.getHotSpots()).setValueColors(h.getValueColors()).setGeoKey(h.getGeoKey()).setValueLabels(h.getValueLabels()).setGeoMap(b.name))}h.setCardinality(l);
return h}function ss(h,l){var d;try{d=l.getGeometry()}catch(a){return!1}var b=d.getFeatureKeys();d=A.uniq([0,0.2,0.4,0.6,0.8,1].map(function(a){return Math.round(a*(h.length-1))})).map(function(a){return h[a]}).filter(function(a){return a});var c=3>=d.length?d.length:3,f=0,e=!1;d.some(function(a){-1<b.indexOf((""+a).toLowerCase())&&f++;return f===c?e=!0:!1});return e}function Hj(h,l,d){d=d?0:p.AXIS.NUM.Y.PADDING;return!l?0:(h?p.AXIS.NUM.Y.WIDTH:p.AXIS.NUM.X.HEIGHT)+d}function ts(h){var l=h.vertical,
d=h.showMeasure,a=h.showMeasure1,b=h.showMeasure2,c=h.showMeasureTitle,f=h.showMeasureTitle1,e=h.showMeasureTitle2,g=h.showDimensionTitle,k=h.hasTrellisColHeaders,m=h.hasTrellisRowHeaders,n=h.axisTitleMaxLines;void 0===n&&(n=[1,1,1]);var d=Hj(l,d,c),a=Hj(l,a,f),b=Hj(l,b,e),q=h.showDimension?p.CELL_PADDING:0,f=f?p.AXIS.NUM.TITLE.HEIGHT*n[1]:0,s=h.cellSizes||{};return{FlatWithHeader:{cells:[["title"],["*padding"],["plot"]],rows:[h.showMeasureTitle?p.AXIS.NUM.X.HEIGHT*n[0]:0,p.CELL_PADDING,"100%"],columns:["100%"]},
ParallelCoords:{cells:[["title","*padding","plot"]],rows:["100%"],columns:[h.showMeasureTitle?p.AXIS.NUM.X.HEIGHT:0,p.CELL_PADDING,"100%"]},Cartesian:{cells:[["*padding","*padding","*padding","measureAxis1Title"],["*padding","*padding","*padding","measureAxis1"],["axisYTitle","axisY","padding","plot"],["*padding","*padding","*padding","measureAxis2"],["*padding","*padding","*padding","measureAxis2Title"]],rows:[f,a,"100%",b,e?p.AXIS.NUM.TITLE.HEIGHT*n[2]:0],columns:[p.AXIS.TIME.TITLE.HEIGHT,s.axisY||
"40%",q,s.plot||"60%"],scrollY:["axisY","plot"],zIndex:{1:["measureAxis1","measureAxis2","axisY"],2:["plot"]}},LabelsLabels:{cells:[["*padding","*padding","*padding","axis-x-title"],["*padding","*padding","*padding","axis-x"],["*padding","*padding","*padding","padding-x"],["axis-y-title","axis-y","padding-y","plot"]],rows:[p.AXIS.LABELS.TITLE.HEIGHT*n[1],"40%",p.CELL_PADDING,"60%"],columns:[p.AXIS.LABELS.TITLE.HEIGHT*n[0],"40%",p.CELL_PADDING,"60%"],scrollY:["axis-y","plot"],scrollX:["axis-x","plot"],
zIndex:{1:["axis-x","axis-y"],2:["plot"]}},AxisAxis:{cells:[["axis-y-title","axis-y","plot"],["*padding","*padding","axis-x"],["*padding","*padding","axis-x-title"]],rows:["100%",p.AXIS.NUM.X.HEIGHT,p.AXIS.NUM.TITLE.HEIGHT*n[1]],columns:[p.AXIS.NUM.TITLE.HEIGHT*n[0],p.AXIS.NUM.Y.WIDTH,"100%"],zIndex:{1:["axis-x","axis-y"],2:["plot"]}},Waterfall:{cells:[["*padding","*padding","*padding","measureAxis1Title"],["*padding","*padding","*padding","axis"],["dimensionTitle","labels","padding","plot"]],rows:[f,
a,"100%"],columns:[g?p.AXIS.LABELS.TITLE.HEIGHT*n[0]:0,l?"80%":"40%",q,l?"20%":"60%"],zIndex:{1:["axis"],2:["labels","plot"]}},Pyramid:{cells:[["axis1-title","*padding","*padding","*padding","axis2-title"],["axis1","*padding","title","*padding","axis2"],["plot1","leftpadding","labels","rightpadding","plot2"]],rows:[c?p.AXIS.NUM.TITLE.HEIGHT*n[0]:0,d,"100%"],columns:[s.plot1||"40%",q,s.labels||"20%",q,s.plot2||"40%"],scrollY:["labels","plot1","plot2"],zIndex:{1:["axis1","axis2"],2:["plot1","plot2"]}},
Flat:{cells:[["plot"]],rows:["100%"],columns:["100%"]},Empty:{cells:[["empty"]],rows:["100%"],columns:["100%"]},SparkLine:{cells:[["first_val","*padding","spark","*padding","last_val"]],rows:["100%"],columns:[p.MARK.SPARKLINE.LABEL_WIDTH,p.CELL_PADDING,"100%",p.CELL_PADDING,p.MARK.SPARKLINE.LABEL_WIDTH]},Trellis:{cells:[["corner","colHeaders"],["rowHeaders","content"]],rows:[k?p.TRELLIS.HEADER.HEIGHT:0,"100%"],columns:[m?p.TRELLIS.HEADER.WIDTH:0,"100%"],scrollX:["content","colHeaders"],scrollY:["content",
"rowHeaders"],zIndex:{1:["colHeaders","rowHeaders"],2:["corner"]}},Legend:{cells:[["header"],["plot"]],rows:["80%","20%"],columns:["100%"],scrollY:["plot"],scrollX:["plot"]},ComboLegend:{cells:[["topLegend"],["bottomLegend"]],rows:["50%","50%"],columns:["100%"],scrollY:["bottomLegend"]},MultipleLegends:{cells:[["legends"]],rows:["100%"],columns:["100%"],scrollY:["legends"]}}}function us(h,l,d,a){void 0===l&&(l=[]);if(!l.length)return[];var b=l.map(function(a){return vs(a,d)}),c=[];b[0]({},c,b.slice(1),
h.getColumns(),[]);return c.map(function(c){a&&a(c);c=new Qb(c);ws(c,l);return c})}function ws(h,l){l.forEach(function(d){var a=d.feature;if(a){var b=d.type;d=d.key;var c=h.getConfig(),f=b===hh.ARRAY?r.flatten(c[d].map(function(a){return a.column})):c[d].column;(r.isArray(a)?a:[a]).forEach(function(a){h.hasFeature(a)?h.setFeature(a,{column:h.getFeature(a).column.concat(f)}):h.setFeature(a,{column:f})})}})}function vs(h,l){var d=h.key,a=h.type,b=h.columnType,c=h.length,f=h.properties;return function(e,
g,k,h,n){var q=xs(b,h);ys(q,n,c).forEach(function(c){var b=A.deepCopy(e);zs(b,d,a,f,c);var n=k[0],q=As(h,c);if(n)n(b,g,k.slice(1),q,c);else{c=l.useAllNonMeasure;var n=l.useAllMeasure,p=!0;n&&n?p=0===q.length:n?p=q.every(function(a){return a.getType()!==$m.MEASURE}):c&&(p=q.every(function(a){return a.getType()===$m.MEASURE}));p&&g.push(b)}})}}function As(h,l){var d=l.map(function(a){return a.getName()});return h.filter(function(a){return-1===d.indexOf(a.getName())})}function zs(h,l,d,a,b){void 0===
d&&(d=hh.SECTION);d===hh.SECTION?(h[l]=a?A.deepCopy(a):{},h[l].column=b.map(function(a){return a.getName()})):d===hh.ARRAY&&(h[l]=b.map(function(c){return r.extend({},a,{column:[c.getName()]})}))}function xs(h,l){if(!h)return[];var d=[],a=-1<h.indexOf(an)?h.split(an):[h];l.forEach(function(b){!b.isAllNull()&&-1<a.indexOf(b.getType())&&d.push(b)});return d}function ys(h,l,d){return r.isArray(d)?r.flatten(d.map(function(a){return bn(h,l,a)})):bn(h,l,d)}function bn(h,l,d){var a=[];d===Md.ALL?a=[h]:r.isString(d)?
d.slice(0,Md.FIRST.length)===Md.FIRST?(l=parseInt(d.slice(Md.FIRST.length)),a=0<=l&&l<=h.length?[h.slice(0,l)]:[]):d.slice(0,Md.PREV.length)===Md.PREV&&(h=parseInt(d.slice(Md.PREV.length)),a=-1===h?l.length?[l.slice(-1)]:[]:0<=h&&h<=l.length?[l.slice(0,h)]:[]):a=d?A.k_combinations(h,d):[[]];return a}function cn(h){return function(l){r.isArray(l)||(l=r.extend({},l),l.shape&&(l.shape=ih.convertShape(l.shape)),l.hotSpot&&(l.hotSpot={box:ih.convertBox(l.hotSpot.getInfo().box)}));h(l)}}function Ij(h){return h&&
h.__esModule?h:{"default":h}}function Jj(h){return h&&h.__esModule?h:{"default":h}}function Kj(h){return h&&h.__esModule?h:{"default":h}}function jh(h){return h&&h.__esModule?h:{"default":h}}function kh(h){return h&&h.__esModule?h:{"default":h}}function dn(h,l){var d=en(l,!0);return[lh.getTextWidth(d(h[0]))+mh,lh.getTextWidth(d(h[1]))+mh]}function nh(h){return h&&h.__esModule?h:{"default":h}}function Bs(h,l){var d=l.theme,a=l.format,b=l.maxValue,c=l.maxRadius,f=l.swatchSize,e=l.transforms,g=l.swatchPadding,
k=fn.sqrt().domain([0,b]).range([0,c]),m=e.rotate,b=h.getCell(),e=b.get("h"),n=b.get("w"),c=Math.min(Math.max(c,Cb.MARK.POINT.MIN_RADIUS),f),q=2*f+g,c=[c,2*c/3,c/2].filter(function(a){return a>Cb.MARK.POINT.MIN_RADIUS}),s=g/2,u=(q-(new Cs).getH())/2,x=m?f+2*g:f+f/2+2*g,t=0,p=c.map(function(c,b){var f=new gn({key:"key_label"+b,x:m?n/2+g/2:0,y:0,halign:m?"right":"left",valign:"middle",vertical:m,padding:{left:m?x:x-g/2,right:m?s:s-g/2,top:u,bottom:u},stroke:d.getLegendTextColor(),format:a,compact:!0,
number:k.invert(c)});t=Math.max(t,f.getTextW());return f}),r=Math.floor(e/(m?t+2*f+g:q));1>r||1>c.length?b.remove(h):(c.forEach(function(a,c){if(!(a<Cb.MARK.POINT.MIN_RADIUS||c>=r)){var b=new Ds({layer:h,key:"key"+c,canHover:!1});new hn({shapeGroup:b,key:"key_dot"+c,x:m?n/2+s:s+f,y:m?s+f:0,r:a,fill:d.getRadialLegendBGColor(),stroke:d.getRadialLegendBorderColor(),skipInFind:!0});p[c].prependTo(b);m?b.offsetX(-g/2):b.offsetY(q/2)}}),h.applyLayout({type:"vbox"}))}function Es(h,l){var d=l.theme,a=l.maxValue,
b=l.maxRadius,c=l.format,f=h.getCell(),e=f.get("w"),g=f.get("h"),k=l.swatchPadding,m=l.transforms.rotate,n=fn.sqrt().domain([0,a]).range([0,b]);if(0!==a){var b=Math.min(e-k,g-k,2*b,2*Lj),g=n.invert(b/2),a=Math.min(g,a),q=m?e/2+b/2:b+k/2,s=b/2+k/2,u=0,x=0,t=[];[a,4*a/9,a/9].forEach(function(a){var c=n.scale(a);if(!(c<Cb.RADIAL_LEGEND.MIN_RADIUS)){if(0<u){var b=n.scale(t[u-1]);if(2*c>2*b-Cb.RADIAL_LEGEND.TEXT.SIZE-3)return}u++;t.push(a);x<c&&(x=c)}});u?t.forEach(function(a,b){var f=n.scale(a),g=q-f;
new hn({layer:h,key:"key_dot"+b,x:m?e-g:s,y:m?s:g,r:f,fill:d.getRadialLegendBGColor(),stroke:d.getRadialLegendBorderColor(),lineWidth:Cb.RADIAL_LEGEND.BORDER.WIDTH});new gn({layer:h,x:m?e-g+f-Cb.RADIAL_LEGEND.TEXT.PADDING:s,y:m?s:g-f+Cb.RADIAL_LEGEND.TEXT.PADDING-3,vertical:m,halign:"center",valign:"middle",format:c,compact:!0,number:a,stroke:d.getRadialLegendTextColor(),key:"key_label"+b,size:Cb.RADIAL_LEGEND.TEXT.SIZE})}):f.remove(h)}}function ld(h){return h&&h.__esModule?h:{"default":h}}function Fs(h,
l,d,a){return h===Mj.BINS&&!l?!0:Df.includes([Ua.SELECTMODE.SINGLE,Ua.SELECTMODE.SINGLE_REQUIRED],a)?h===Mj.BINS||d||1<l:!1}function Ef(h){return h&&h.__esModule?h:{"default":h}}function Nj(h){return h&&h.__esModule?h:{"default":h}}function Ff(h){return h&&h.__esModule?h:{"default":h}}function Oj(h,l){return h.map(function(d,a){return Gs.formatColumnValue(d,l[a])}).join(" - ")}function Gf(h){return h&&h.__esModule?h:{"default":h}}function oh(h){return h&&h.__esModule?h:{"default":h}}function ph(h){return h&&
h.__esModule?h:{"default":h}}function Pj(){return{showAxis:!0,showTitle:!0,title:"",showZero:!0,scale:Z.SCALE.LINEAR,titleMaxLines:1}}function Qj(h){return h&&h.__esModule?h:{"default":h}}function Rj(h){return h&&h.__esModule?h:{"default":h}}function qh(h){return h&&h.__esModule?h:{"default":h}}function Hf(h){return h&&h.__esModule?h:{"default":h}}function rh(h){return h&&h.__esModule?h:{"default":h}}function If(h){return h&&h.__esModule?h:{"default":h}}function sh(h){return h&&h.__esModule?h:{"default":h}}
function th(h){return h&&h.__esModule?h:{"default":h}}function uh(h){return h&&h.__esModule?h:{"default":h}}function Hs(h){var l=h.valueType;!1===h.showValue?h.valueType=Sj.VALUETYPE.NONE:l===Sj.VALUETYPE.PERCENT?(h.showPercentage=!0,h.valueType=Sj.VALUETYPE.NONE):h.valueType=jn.default.getValueType(h);return h}function Jf(h){return h&&h.__esModule?h:{"default":h}}function Kf(h){return h&&h.__esModule?h:{"default":h}}function vh(h){return h&&h.__esModule?h:{"default":h}}function Lf(h){return h&&h.__esModule?
h:{"default":h}}function wh(h){return h&&h.__esModule?h:{"default":h}}function Tj(h){return h&&h.__esModule?h:{"default":h}}function Is(h){var l=h.color;if(l&&"bins"===l.type){var d=l.breakpoints,a=l.bands;d&&d[0]>d[d.length-1]&&(l.breakpoints=d.reverse(),a&&(l.bands=a.reverse()))}return h}function xh(h){return h&&h.__esModule?h:{"default":h}}function kn(){return{showAxis:!0,showTitle:!0,title:"",titleMaxLines:1,showZero:!0,scale:lb.SCALE.LINEAR}}function Mf(h){return h&&h.__esModule?h:{"default":h}}
function Nf(h){return h&&h.__esModule?h:{"default":h}}function Of(h){return h&&h.__esModule?h:{"default":h}}function yh(h){return h&&h.__esModule?h:{"default":h}}function Uj(h){return h&&h.__esModule?h:{"default":h}}function Pf(h){return h&&h.__esModule?h:{"default":h}}function Qf(h){return h&&h.__esModule?h:{"default":h}}function pa(h){return h&&h.__esModule?h:{"default":h}}function ln(h){var l=mn.default[h]||h;l!==h&&console.warn(h+" has been deprecated. Please update your code to use "+l);return l}
function nn(h){h=ln(h);return on[h].getMetadata()}var Q={exports:{}};(function(h){(function(){(function(){function l(a,c){a.push.apply(a,c);return a}function d(a){return function(c){return null==c?ha:c[a]}}function a(a,c,b,f,e){e(a,function(a,e,d){b=f?(f=!1,a):c(b,a,e,d)});return b}function b(a,c){return w(c,function(c){return a[c]})}function c(a){return a instanceof f?a:new f(a)}function f(a,c){this.__wrapped__=a;this.__actions__=[];this.__chain__=!!c}function e(a,c,b){if("function"!=typeof a)throw new TypeError(S);
return setTimeout(function(){a.apply(ha,b)},c)}function g(a,c){var b=!0;ra(a,function(a,f,e){return b=!!c(a,f,e)});return b}function k(a,c,b){for(var f=-1,e=a.length;++f<e;){var d=a[f],g=c(d);if(null!=g&&(k===ha?g===g:b(g,k)))var k=g,h=d}return h}function m(a,c){var b=[];ra(a,function(a,f,e){c(a,f,e)&&b.push(a)});return b}function n(a,c,b,f,e){var d=-1,g=a.length;b||(b=fh);for(e||(e=[]);++d<g;){var k=a[d];0<c&&b(k)?1<c?n(k,c-1,b,f,e):l(e,k):f||(e[e.length]=k)}return e}function q(a,c){return a&&Na(a,
c,za)}function s(a,c){return m(c,function(c){return D(a[c])})}function u(a,c){return a>c}function x(a,c,b,f,e){return a===c?!0:null==a||null==c||!J(a)&&!J(c)?a!==a&&c!==c:t(a,c,b,f,x,e)}function t(a,c,b,f,e,d){var g=qa(a),k=qa(c),h=g?ca:na.call(a),l=k?ca:na.call(c),h=h==ba?Y:h,l=l==ba?Y:l,m=h==Y,k=l==Y,l=h==l;d||(d=[]);var n=Ia(d,function(c){return c[0]==a}),q=Ia(d,function(a){return a[0]==c});if(n&&q)return n[1]==c;d.push([a,c]);d.push([c,a]);if(l&&!m)return b=g?Cj(a,c,b,f,e,d):Dj(a,c,h,b,f,e,d),
d.pop(),b;if(!(b&P)&&(g=m&&la.call(a,"__wrapped__"),h=k&&la.call(c,"__wrapped__"),g||h))return g=g?a.value():a,h=h?c.value():c,b=e(g,h,b,f,d),d.pop(),b;if(!l)return!1;b=Ej(a,c,b,f,e,d);d.pop();return b}function p(a){return"function"==typeof a?a:null==a?N:("object"==typeof a?y:d)(a)}function r(a,c){return a<c}function w(a,c){var b=-1,f=Ta(a)?Array(a.length):[];ra(a,function(a,e,d){f[++b]=c(a,e,d)});return f}function y(a){var c=wa(a);return function(b){var f=c.length;if(null==b)return!f;for(b=Object(b);f--;){var e=
c[f];if(!(e in b&&x(a[e],b[e],P|O)))return!1}return!0}}function H(a,c){a=Object(a);return Fj(c,function(c,b){b in a&&(c[b]=a[b]);return c},{})}function I(a,c){return Ma(ze(a,c,N),a+"")}function V(a,c,b){var f=-1,e=a.length;0>c&&(c=-c>e?0:e+c);b=b>e?e:b;0>b&&(b+=e);e=c>b?0:b-c>>>0;c>>>=0;for(b=Array(e);++f<e;)b[f]=a[f+c];return b}function Fa(a,c){var b;ra(a,function(a,f,e){b=c(a,f,e);return!b});return!!b}function qb(a,c){return Fj(c,function(a,c){return c.func.apply(c.thisArg,l([a],c.args))},a)}function ea(a,
c,b,f){var e=!b;b||(b={});for(var d=-1,g=c.length;++d<g;){var k=c[d],h=f?f(b[k],a[k],k,b,a):ha;h===ha&&(h=a[k]);if(e)b[k]=h;else{var l=b,m=l[k];if(!la.call(l,k)||!Ab(m,h)||h===ha&&!(k in l))l[k]=h}}return b}function A(a){return I(function(c,b){var f=-1,e=b.length,d=1<e?b[e-1]:ha,d=3<a.length&&"function"==typeof d?(e--,d):ha;for(c=Object(c);++f<e;){var g=b[f];g&&a(c,g,f,d)}return c})}function Za(a){return function(){var c=arguments,b=Da(a.prototype),c=a.apply(b,c);return F(c)?c:b}}function Cf(a,c,
b,f){function e(){for(var c=-1,k=arguments.length,h=-1,l=f.length,m=Array(l+k),n=this&&this!==ja&&this instanceof e?g:a;++h<l;)m[h]=f[h];for(;k--;)m[h++]=arguments[++c];return n.apply(d?b:this,m)}if("function"!=typeof a)throw new TypeError(S);var d=c&U,g=Za(a);return e}function Cj(a,c,b,f,e,d){var g=b&P,k=a.length,h=c.length;if(k!=h&&!(g&&h>k))return!1;for(var g=-1,h=!0,l=b&O?[]:ha;++g<k;){var m=a[g],n=c[g];if(void 0!==ha){h=!1;break}if(l){if(!Fa(c,function(a,c){if(!gh(l,c)&&(m===a||e(m,a,b,f,d)))return l.push(c)})){h=
!1;break}}else if(!(m===n||e(m,n,b,f,d))){h=!1;break}}return h}function Dj(a,c,b,f,e,d,g){switch(b){case da:case fa:case aa:return Ab(+a,+c);case ga:return a.name==c.name&&a.message==c.message;case ka:case ma:return a==c+""}return!1}function Ej(a,c,b,f,e,d){var g=b&P,k=za(a),h=k.length,l=za(c).length;if(h!=l&&!g)return!1;for(var m=h;m--;){var n=k[m];if(!(g?n in c:la.call(c,n)))return!1}for(l=!0;++m<h;){var n=k[m],q=a[n],s=c[n];if(!(void 0===ha&&(q===s||e(q,s,b,f,d)))){l=!1;break}g||(g="constructor"==
n)}l&&!g&&(b=a.constructor,f=c.constructor,b!=f&&("constructor"in a&&"constructor"in c&&!("function"==typeof b&&b instanceof b&&"function"==typeof f&&f instanceof f))&&(l=!1));return l}function fh(a){return qa(a)||La(a)}function Bf(a){var c=[];if(null!=a)for(var b in Object(a))c.push(b);return c}function ze(a,c,b){c=Ba(c===ha?a.length-1:c,0);return function(){for(var f=arguments,e=-1,d=Ba(f.length-c,0),g=Array(d);++e<d;)g[e]=f[c+e];e=-1;for(d=Array(c+1);++e<c;)d[e]=f[e];d[c]=b(g);return a.apply(this,
d)}}function B(a){return(null==a?0:a.length)?n(a,1):[]}function C(a){return a&&a.length?a[0]:ha}function gh(a,c,b){var f=null==a?0:a.length;b="number"==typeof b?0>b?Ba(f+b,0):b:0;b=(b||0)-1;for(var e=c===c;++b<f;){var d=a[b];if(e?d===c:d!==d)return b}return-1}function E(a,c){return ra(a,p(c))}function Fj(c,b,f){return a(c,p(b),f,3>arguments.length,ra)}function Vm(a,c){var b;if("function"!=typeof c)throw new TypeError(S);a=Oa(a);return function(){0<--a&&(b=c.apply(this,arguments));1>=a&&(c=ha);return b}}
function Ab(a,c){return a===c||a!==a&&c!==c}function Ta(a){return null!=a&&"number"==typeof a.length&&(-1<a.length&&0==a.length%1&&a.length<=Z)&&!D(a)}function D(a){if(!F(a))return!1;a=na.call(a);return a==$||a==ia||a==T||a==oa}function F(a){var c=typeof a;return null!=a&&("object"==c||"function"==c)}function J(a){return null!=a&&"object"==typeof a}function K(a){return"number"==typeof a||J(a)&&na.call(a)==aa}function R(a){return"string"==typeof a||!qa(a)&&J(a)&&na.call(a)==ma}function G(a){return"string"==
typeof a?a:null==a?"":a+""}function M(a){return null==a?[]:b(a,za(a))}function N(a){return a}function L(a,c,b){var f=za(c),e=s(c,f);if(null==b&&(!F(c)||!e.length&&f.length))b=c,c=a,a=this,e=s(c,za(c));var d=!(F(b)&&"chain"in b)||!!b.chain,g=D(a);ra(e,function(b){var f=c[b];a[b]=f;g&&(a.prototype[b]=function(){var c=this.__chain__;if(d||c){var b=a(this.__wrapped__);(b.__actions__=V(this.__actions__,0,this.__actions__.length)).push({func:f,args:arguments,thisArg:a});b.__chain__=c;return b}return f.apply(a,
l([this.value()],arguments))})});return a}function W(){}var ha,S="Expected a function",P=1,O=2,U=1,X=1/0,Z=9007199254740991,ba="[object Arguments]",ca="[object Array]",T="[object AsyncFunction]",da="[object Boolean]",fa="[object Date]",ga="[object Error]",$="[object Function]",ia="[object GeneratorFunction]",aa="[object Number]",Y="[object Object]",oa="[object Proxy]",ka="[object RegExp]",ma="[object String]",pa=/[&<>"']/g,sa=RegExp(pa.source),ta=/^(?:0|[1-9]\d*)$/,ua="object"==typeof self&&self&&
self.Object===Object&&self,ja="object"==typeof h&&h&&h.Object===Object&&h||ua||Function("return this")(),va="object"==typeof Q.exports&&Q.exports&&!Q.exports.nodeType&&Q.exports,ya=va&&Q&&!Q.nodeType&&Q,Aa=function(a){return function(c){return null==a?ha:a[c]}}({"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"}),Ca=Array.prototype,xa=Object.prototype,la=xa.hasOwnProperty,Ga=0,na=xa.toString,Ha=ja._,Ea=Object.create,Ja=xa.propertyIsEnumerable,Ka=ja.isFinite,wa=function(a,
c){return function(b){return a(c(b))}}(Object.keys,Object),Ba=Math.max,Da=function(){function a(){}return function(c){if(!F(c))return{};if(Ea)return Ea(c);a.prototype=c;c=new a;a.prototype=ha;return c}}();f.prototype=Da(c.prototype);f.prototype.constructor=f;var ra=function(a,c){return function(b,f){if(null==b)return b;if(!Ta(b))return a(b,f);for(var e=b.length,d=c?e:-1,g=Object(b);(c?d--:++d<e)&&!1!==f(g[d],d,g););return b}}(q),Na=function(a){return function(c,b,f){var e=-1,d=Object(c);f=f(c);for(var g=
f.length;g--;){var k=f[a?g:++e];if(!1===b(d[k],k,d))break}return c}}(),Ma=N,Ia=function(a){return function(c,b,f){var e=Object(c);if(!Ta(c)){var d=p(b,3);c=za(c);b=function(a){return d(e[a],a,e)}}b=a(c,b,f);return-1<b?e[d?c[b]:b]:ha}}(function(a,c,b){var f=null==a?0:a.length;if(!f)return-1;b=null==b?0:Oa(b);0>b&&(b=Ba(f+b,0));a:{c=p(c,3);f=a.length;for(b+=-1;++b<f;)if(c(a[b],b,a)){a=b;break a}a=-1}return a}),Ra=I(function(a,c,b){return Cf(a,U|32,c,b)}),Sa=I(function(a,c){return e(a,1,c)}),Ua=I(function(a,
c,b){return e(a,Va(c)||0,b)}),La=W(function(){return arguments}())?W:function(a){return J(a)&&la.call(a,"callee")&&!Ja.call(a,"callee")},qa=Array.isArray,Oa=Number,Va=Number,Pa=A(function(a,c){ea(c,wa(c),a)}),Qa=A(function(a,c){ea(c,Bf(c),a)}),Wa=I(function(a,c){a=Object(a);var b=-1,f=c.length,e=2<f?c[2]:ha,d;if(d=e){d=c[0];var g=c[1];if(F(e)){var k=typeof g;if("number"==k){if(k=Ta(e))var k=e.length,h=typeof g,k=null==k?Z:k,k=!!k&&("number"==h||"symbol"!=h&&ta.test(g))&&-1<g&&0==g%1&&g<k}else k="string"==
k&&g in e;d=k?Ab(e[g],d):!1}else d=!1}for(d&&(f=1);++b<f;){e=c[b];d=Xa(e);g=-1;for(k=d.length;++g<k;){var h=d[g],l=a[h];if(l===ha||Ab(l,xa[h])&&!la.call(a,h))a[h]=e[h]}}return a}),za=wa,Xa=Bf,Ya=function(a){return Ma(ze(a,ha,B),a+"")}(function(a,c){return null==a?{}:H(a,c)}),$a=p;c.assignIn=Qa;c.before=Vm;c.bind=Ra;c.chain=function(a){a=c(a);a.__chain__=!0;return a};c.compact=function(a){return m(a,Boolean)};c.concat=function(){var a=arguments.length;if(!a)return[];for(var c=Array(a-1),b=arguments[0];a--;)c[a-
1]=arguments[a];return l(qa(b)?V(b,0,b.length):[b],n(c,1))};c.create=function(a,c){var b=Da(a);return null==c?b:Pa(b,c)};c.defaults=Wa;c.defer=Sa;c.delay=Ua;c.filter=function(a,c){return m(a,p(c))};c.flatten=B;c.flattenDeep=function(a){return(null==a?0:a.length)?n(a,X):[]};c.iteratee=$a;c.keys=za;c.map=function(a,c){return w(a,p(c))};c.matches=function(a){return y(Pa({},a))};c.mixin=L;c.negate=function(a){if("function"!=typeof a)throw new TypeError(S);return function(){return!a.apply(this,arguments)}};
c.once=function(a){return Vm(2,a)};c.pick=Ya;c.slice=function(a,c,b){var f=null==a?0:a.length;b=b===ha?f:+b;return f?V(a,null==c?0:+c,b):[]};c.sortBy=function(a,c){var b=0;c=p(c);return w(w(a,function(a,f,e){return{value:a,index:b++,criteria:c(a,f,e)}}).sort(function(a,c){var b;a:{b=a.criteria;var f=c.criteria;if(b!==f){var e=b!==ha,d=null===b,g=b===b,k=f!==ha,h=null===f,l=f===f;if(!h&&b>f||d&&k&&l||!e&&l||!g){b=1;break a}if(!d&&b<f||h&&e&&g||!k&&g||!l){b=-1;break a}}b=0}return b||a.index-c.index}),
d("value"))};c.tap=function(a,c){c(a);return a};c.thru=function(a,c){return c(a)};c.toArray=function(a){return!Ta(a)?M(a):a.length?V(a,0,a.length):[]};c.values=M;c.extend=Qa;L(c,c);c.clone=function(a){return!F(a)?a:qa(a)?V(a,0,a.length):ea(a,wa(a))};c.escape=function(a){return(a=G(a))&&sa.test(a)?a.replace(pa,Aa):a};c.every=function(a,c,b){c=b?ha:c;return g(a,p(c))};c.find=Ia;c.forEach=E;c.has=function(a,c){return null!=a&&la.call(a,c)};c.head=C;c.identity=N;c.indexOf=gh;c.isArguments=La;c.isArray=
qa;c.isBoolean=function(a){return!0===a||!1===a||J(a)&&na.call(a)==da};c.isDate=function(a){return J(a)&&na.call(a)==fa};c.isEmpty=function(a){return Ta(a)&&(qa(a)||R(a)||D(a.splice)||La(a))?!a.length:!wa(a).length};c.isEqual=function(a,c){return x(a,c)};c.isFinite=function(a){return"number"==typeof a&&Ka(a)};c.isFunction=D;c.isNaN=function(a){return K(a)&&a!=+a};c.isNull=function(a){return null===a};c.isNumber=K;c.isObject=F;c.isRegExp=function(a){return J(a)&&na.call(a)==ka};c.isString=R;c.isUndefined=
function(a){return a===ha};c.last=function(a){var c=null==a?0:a.length;return c?a[c-1]:ha};c.max=function(a){return a&&a.length?k(a,N,u):ha};c.min=function(a){return a&&a.length?k(a,N,r):ha};c.noConflict=function(){ja._===this&&(ja._=Ha);return this};c.noop=W;c.reduce=Fj;c.result=function(a,c,b){c=null==a?ha:a[c];c===ha&&(c=b);return D(c)?c.call(a):c};c.size=function(a){if(null==a)return 0;a=Ta(a)?a:wa(a);return a.length};c.some=function(a,c,b){c=b?ha:c;return Fa(a,p(c))};c.uniqueId=function(a){var c=
++Ga;return G(a)+c};c.each=E;c.first=C;L(c,function(){var a={};q(c,function(b,f){la.call(c.prototype,f)||(a[f]=b)});return a}(),{chain:!1});c.VERSION="4.17.15";ra("pop join replace reverse split push shift sort splice unshift".split(" "),function(a){var b=(/^(?:replace|split)$/.test(a)?String.prototype:Ca)[a],f=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",e=/^(?:pop|join|replace|shift)$/.test(a);c.prototype[a]=function(){var a=arguments;if(e&&!this.__chain__){var c=this.value();return b.apply(qa(c)?
c:[],a)}return this[f](function(c){return b.apply(qa(c)?c:[],a)})}});c.prototype.toJSON=c.prototype.valueOf=c.prototype.value=function(){return qb(this.__wrapped__,this.__actions__)};ya&&((ya.exports=c)._=c,va._=c)}).call(this)}).call(this)}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Q=Q.exports,G={};"use strict";Object.defineProperty(G,"__esModule",{value:!0});var Nd=function(h){function l(){return h.apply(this,arguments)||
this}Lb(l,h);return l}(Ni(Error)),Js=function(h){function l(d){return h.call(this,"Invalid DateTime: "+d.toMessage())||this}Lb(l,h);return l}(Nd),Ks=function(h){function l(d){return h.call(this,"Invalid Interval: "+d.toMessage())||this}Lb(l,h);return l}(Nd),Ls=function(h){function l(d){return h.call(this,"Invalid Duration: "+d.toMessage())||this}Lb(l,h);return l}(Nd),vf=function(h){function l(){return h.apply(this,arguments)||this}Lb(l,h);return l}(Nd),xm=function(h){function l(d){return h.call(this,
"Invalid unit "+d)||this}Lb(l,h);return l}(Nd),Mb=function(h){function l(){return h.apply(this,arguments)||this}Lb(l,h);return l}(Nd),md=function(h){function l(){return h.call(this,"Zone is an abstract class")||this}Lb(l,h);return l}(Nd),Zg={year:"numeric",month:"numeric",day:"numeric"},Ri={year:"numeric",month:"short",day:"numeric"},$l={year:"numeric",month:"short",day:"numeric",weekday:"short"},Si={year:"numeric",month:"long",day:"numeric"},Ti={year:"numeric",month:"long",day:"numeric",weekday:"long"},
Ui={hour:"numeric",minute:"numeric"},Vi={hour:"numeric",minute:"numeric",second:"numeric"},Wi={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},Xi={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},Yi={hour:"numeric",minute:"numeric",hour12:!1},Zi={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1},$i={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZoneName:"short"},aj={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,timeZoneName:"long"},
bj={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},fj={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},cj={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},gj={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},am={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},dj={year:"numeric",month:"long",day:"numeric",hour:"numeric",
minute:"numeric",timeZoneName:"short"},hj={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},ej={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},ij={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},pn=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z_+-]{1,256}(\/[A-Za-z_+-]{1,256})?)?/,lr="January February March April May June July August September October November December".split(" "),
Vl="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),kr="JFMAMJJASOND".split(""),Yl="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Xl="Mon Tue Wed Thu Fri Sat Sun".split(" "),mr="MTWTFSS".split(""),qn=["AM","PM"],pr=["Before Christ","Anno Domini"],or=["BC","AD"],nr=["B","A"],Ms={D:Zg,DD:Ri,DDD:Si,DDDD:Ti,t:Ui,tt:Vi,ttt:Wi,tttt:Xi,T:Yi,TT:Zi,TTT:$i,TTTT:aj,f:bj,ff:cj,fff:dj,ffff:ej,F:fj,FF:gj,FFF:hj,FFFF:ij},vc=function(){function h(d,a){this.opts=a;this.loc=d;this.systemLoc=
null}h.create=function(d,a){void 0===a&&(a={});return new h(d,a)};h.parseFormat=function(d){for(var a=null,b="",c=!1,f=[],e=0;e<d.length;e++){var g=d.charAt(e);"'"===g?(0<b.length&&f.push({literal:c,val:b}),a=null,b="",c=!c):c?b+=g:g===a?b+=g:(0<b.length&&f.push({literal:!1,val:b}),a=b=g)}0<b.length&&f.push({literal:c,val:b});return f};h.macroTokenToFormatOpts=function(d){return Ms[d]};var l=h.prototype;l.formatWithSystemDefault=function(d,a){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());
return this.systemLoc.dtFormatter(d,Object.assign({},this.opts,a)).format()};l.formatDateTime=function(d,a){void 0===a&&(a={});return this.loc.dtFormatter(d,Object.assign({},this.opts,a)).format()};l.formatDateTimeParts=function(d,a){void 0===a&&(a={});return this.loc.dtFormatter(d,Object.assign({},this.opts,a)).formatToParts()};l.resolvedOptions=function(d,a){void 0===a&&(a={});return this.loc.dtFormatter(d,Object.assign({},this.opts,a)).resolvedOptions()};l.num=function(d,a){void 0===a&&(a=0);if(this.opts.forceSimple)return pe(d,
a);var b=Object.assign({},this.opts);0<a&&(b.padTo=a);return this.loc.numberFormatter(b).format(d)};l.formatDateTimeFromString=function(d,a){var b=this,c="en"===this.loc.listingMode(),f=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar&&uf(),e=function(a,c){return b.loc.extract(d,a,c)},g=function(a){return d.isOffsetFixed&&0===d.offset&&a.allowZ?"Z":d.isValid?d.zone.formatOffset(d.ts,a.format):""},k=function(a,b){return c?Ul(a)[d.month-1]:e(b?{month:a}:{month:a,day:"numeric"},"month")},
l=function(a,b){return c?Wl(a)[d.weekday-1]:e(b?{weekday:a}:{weekday:a,month:"long",day:"numeric"},"weekday")},n=function(a){return c?Zl(a)[0>d.year?0:1]:e({era:a},"era")};return bm(h.parseFormat(a),function(a){switch(a){case "S":return b.num(d.millisecond);case "u":case "SSS":return b.num(d.millisecond,3);case "s":return b.num(d.second);case "ss":return b.num(d.second,2);case "m":return b.num(d.minute);case "mm":return b.num(d.minute,2);case "h":return b.num(0===d.hour%12?12:d.hour%12);case "hh":return b.num(0===
d.hour%12?12:d.hour%12,2);case "H":return b.num(d.hour);case "HH":return b.num(d.hour,2);case "Z":return g({format:"narrow",allowZ:b.opts.allowZ});case "ZZ":return g({format:"short",allowZ:b.opts.allowZ});case "ZZZ":return g({format:"techie",allowZ:b.opts.allowZ});case "ZZZZ":return d.zone.offsetName(d.ts,{format:"short",locale:b.loc.locale});case "ZZZZZ":return d.zone.offsetName(d.ts,{format:"long",locale:b.loc.locale});case "z":return d.zoneName;case "a":return c?qn[12>d.hour?0:1]:e({hour:"numeric",
hour12:!0},"dayperiod");case "d":return f?e({day:"numeric"},"day"):b.num(d.day);case "dd":return f?e({day:"2-digit"},"day"):b.num(d.day,2);case "c":return b.num(d.weekday);case "ccc":return l("short",!0);case "cccc":return l("long",!0);case "ccccc":return l("narrow",!0);case "E":return b.num(d.weekday);case "EEE":return l("short",!1);case "EEEE":return l("long",!1);case "EEEEE":return l("narrow",!1);case "L":return f?e({month:"numeric",day:"numeric"},"month"):b.num(d.month);case "LL":return f?e({month:"2-digit",
day:"numeric"},"month"):b.num(d.month,2);case "LLL":return k("short",!0);case "LLLL":return k("long",!0);case "LLLLL":return k("narrow",!0);case "M":return f?e({month:"numeric"},"month"):b.num(d.month);case "MM":return f?e({month:"2-digit"},"month"):b.num(d.month,2);case "MMM":return k("short",!1);case "MMMM":return k("long",!1);case "MMMMM":return k("narrow",!1);case "y":return f?e({year:"numeric"},"year"):b.num(d.year);case "yy":return f?e({year:"2-digit"},"year"):b.num(d.year.toString().slice(-2),
2);case "yyyy":return f?e({year:"numeric"},"year"):b.num(d.year,4);case "yyyyyy":return f?e({year:"numeric"},"year"):b.num(d.year,6);case "G":return n("short");case "GG":return n("long");case "GGGGG":return n("narrow");case "kk":return b.num(d.weekYear.toString().slice(-2),2);case "kkkk":return b.num(d.weekYear,4);case "W":return b.num(d.weekNumber);case "WW":return b.num(d.weekNumber,2);case "o":return b.num(d.ordinal);case "ooo":return b.num(d.ordinal,3);case "q":return b.num(d.quarter);case "qq":return b.num(d.quarter,
2);case "X":return b.num(Math.floor(d.ts/1E3));case "x":return b.num(d.ts);default:var s=h.macroTokenToFormatOpts(a);a=s?b.formatWithSystemDefault(d,s):a;return a}})};l.formatDurationFromString=function(d,a){var b=this,c=function(a){switch(a[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "M":return"month";case "y":return"year";default:return null}},f=h.parseFormat(a),e=f.reduce(function(a,c){var b=c.val;return c.literal?
a:a.concat(b)},[]),e=d.shiftTo.apply(d,e.map(c).filter(function(a){return a}));return bm(f,function(a){return function(f){var e=c(f);return e?b.num(a.get(e),f.length):f}}(e))};return h}(),gc=function(){function h(h,d){this.reason=h;this.explanation=d}h.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason};return h}(),re=function(){function h(){}var l=h.prototype;l.offsetName=function(d,a){throw new md;};l.formatOffset=function(d,a){throw new md;};l.offset=
function(d){throw new md;};l.equals=function(d){throw new md;};dc(h,[{key:"type",get:function(){throw new md;}},{key:"name",get:function(){throw new md;}},{key:"universal",get:function(){throw new md;}},{key:"isValid",get:function(){throw new md;}}]);return h}(),Vj=null,rn=function(h){function l(){return h.apply(this,arguments)||this}Lb(l,h);var d=l.prototype;d.offsetName=function(a,b){return Sl(a,b.format,b.locale)};d.formatOffset=function(a,b){return Xg(this.offset(a),b)};d.offset=function(a){return-(new Date(a)).getTimezoneOffset()};
d.equals=function(a){return"local"===a.type};dc(l,[{key:"type",get:function(){return"local"}},{key:"name",get:function(){return sc()?(new Intl.DateTimeFormat).resolvedOptions().timeZone:"local"}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){null===Vj&&(Vj=new l);return Vj}}]);return l}(re),Ns=RegExp("^"+pn.source+"$"),zh={},Os={year:0,month:1,day:2,hour:3,minute:4,second:5},Ah={},uc=function(h){function l(a){var b;b=h.call(this)||
this;b.zoneName=a;b.valid=l.isValidZone(a);return b}Lb(l,h);l.create=function(a){Ah[a]||(Ah[a]=new l(a));return Ah[a]};l.resetCache=function(){Ah={};zh={}};l.isValidSpecifier=function(a){return!(!a||!a.match(Ns))};l.isValidZone=function(a){try{return(new Intl.DateTimeFormat("en-US",{timeZone:a})).format(),!0}catch(b){return!1}};l.parseGMTOffset=function(a){return a&&(a=a.match(/^Etc\/GMT(0|[+-]\d{1,2})$/i))?-60*parseInt(a[1]):null};var d=l.prototype;d.offsetName=function(a,b){return Sl(a,b.format,
b.locale,this.name)};d.formatOffset=function(a,b){return Xg(this.offset(a),b)};d.offset=function(a){a=new Date(a);if(isNaN(a))return NaN;var b;b=this.name;zh[b]||(zh[b]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:b,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}));b=zh[b];if(b.formatToParts){b=b.formatToParts(a);for(var c=[],f=0;f<b.length;f++){var e=b[f],d=e.value,e=Os[e.type];da(e)||(c[e]=parseInt(d,10))}b=c}else b=b.format(a).replace(/\u200E/g,
""),b=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(b),b=[b[3],b[1],b[2],b[4],b[5],b[6]];c=b[3];b=qe({year:b[0],month:b[1],day:b[2],hour:24===c?0:c,minute:b[4],second:b[5],millisecond:0});a=+a;c=a%1E3;return(b-(a-(0<=c?c:1E3+c)))/6E4};d.equals=function(a){return"iana"===a.type&&a.name===this.name};dc(l,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]);return l}(re),
Wj=null,yb=function(h){function l(a){var b;b=h.call(this)||this;b.fixed=a;return b}Lb(l,h);l.instance=function(a){return 0===a?l.utcInstance:new l(a)};l.parseSpecifier=function(a){return a&&(a=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new l(Vg(a[1],a[2])):null};dc(l,null,[{key:"utcInstance",get:function(){null===Wj&&(Wj=new l(0));return Wj}}]);var d=l.prototype;d.offsetName=function(){return this.name};d.formatOffset=function(a,b){return Xg(this.fixed,b)};d.offset=function(){return this.fixed};
d.equals=function(a){return"fixed"===a.type&&a.fixed===this.fixed};dc(l,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+Xg(this.fixed,"narrow")}},{key:"universal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}]);return l}(re),jj=function(h){function l(a){var b;b=h.call(this)||this;b.zoneName=a;return b}Lb(l,h);var d=l.prototype;d.offsetName=function(){return null};d.formatOffset=function(){return""};d.offset=function(){return NaN};
d.equals=function(){return!1};dc(l,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"universal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]);return l}(re),sn=function(){return Date.now()},tn=null,un=null,vn=null,wn=null,xn=!1,Ja=function(){function h(){}h.resetCaches=function(){Va.resetCache();uc.resetCache()};dc(h,null,[{key:"now",get:function(){return sn},set:function(h){sn=h}},{key:"defaultZoneName",get:function(){return h.defaultZone.name},
set:function(h){tn=h?Ed(h):null}},{key:"defaultZone",get:function(){return tn||rn.instance}},{key:"defaultLocale",get:function(){return un},set:function(h){un=h}},{key:"defaultNumberingSystem",get:function(){return vn},set:function(h){vn=h}},{key:"defaultOutputCalendar",get:function(){return wn},set:function(h){wn=h}},{key:"throwOnInvalid",get:function(){return xn},set:function(h){xn=h}}]);return h}(),lj={},Xj={},Yj={},Rf=null,Ps=function(){function h(h,d,a){this.padTo=a.padTo||0;this.floor=a.floor||
!1;if(!d&&sc()){d={useGrouping:!1};0<a.padTo&&(d.minimumIntegerDigits=a.padTo);a=d;void 0===a&&(a={});d=JSON.stringify([h,a]);var b=Xj[d];b||(b=new Intl.NumberFormat(h,a),Xj[d]=b);this.inf=b}}h.prototype.format=function(h){if(this.inf)return this.inf.format(this.floor?Math.floor(h):h);h=this.floor?Math.floor(h):Pi(h,3);return pe(h,this.padTo)};return h}(),Qs=function(){function h(d,a,b){this.opts=b;this.hasIntl=sc();var c;if(d.zone.universal&&this.hasIntl){c=-1*(d.offset/60);c=0<=c?"Etc/GMT+"+c:"Etc/GMT"+
c;var f=uc.isValidZone(c);0!==d.offset&&f?this.dt=d:(c="UTC",this.dt=b.timeZoneName?d:0===d.offset?d:Na.fromMillis(d.ts+6E4*d.offset))}else"local"===d.zone.type?this.dt=d:(this.dt=d,c=d.zone.name);this.hasIntl&&(d=Object.assign({},this.opts),c&&(d.timeZone=c),this.dtf=kj(a,d))}var l=h.prototype;l.format=function(){if(this.hasIntl)return this.dtf.format(this.dt.toJSDate());var d=rr(this.opts),a=Va.create("en-US");return vc.create(a).formatDateTimeFromString(this.dt,d)};l.formatToParts=function(){return this.hasIntl&&
uf()?this.dtf.formatToParts(this.dt.toJSDate()):[]};l.resolvedOptions=function(){return this.hasIntl?this.dtf.resolvedOptions():{locale:"en-US",numberingSystem:"latn",outputCalendar:"gregory"}};return h}(),Rs=function(){function h(d,a,b){this.opts=Object.assign({style:"long"},b);if(!a&&Pl()){a=b;void 0===a&&(a={});b=a;var c=["base"];if(null==b)b={};else{var f={},e=Object.keys(b),g,k;for(k=0;k<e.length;k++)g=e[k],0<=c.indexOf(g)||(f[g]=b[g]);b=f}b=JSON.stringify([d,b]);c=Yj[b];c||(c=new Intl.RelativeTimeFormat(d,
a),Yj[b]=c);this.rtf=c}}var l=h.prototype;l.format=function(d,a){return this.rtf?this.rtf.format(d,a):qr(a,d,this.opts.numeric,"long"!==this.opts.style)};l.formatToParts=function(d,a){return this.rtf?this.rtf.formatToParts(d,a):[]};return h}(),Va=function(){function h(d,a,b,c){var f=d.indexOf("-u-");if(-1===f)d=[d];else{var e,f=d.substring(0,f);try{e=kj(d).resolvedOptions()}catch(g){e=kj(f).resolvedOptions()}d=e;d=[f,d.numberingSystem,d.calendar]}e=d[1];f=d[2];this.locale=d[0];this.numberingSystem=
a||e||null;this.outputCalendar=b||f||null;a=this.locale;b=this.numberingSystem;d=this.outputCalendar;if(sc()){if(d||b)a+="-u",d&&(a+="-ca-"+d),b&&(a+="-nu-"+b)}else a=[];this.intl=a;this.weekdaysCache={format:{},standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=c;this.fastNumbersCached=null}h.fromOpts=function(d){return h.create(d.locale,d.numberingSystem,d.outputCalendar,d.defaultToEN)};h.create=function(d,a,b,c){void 0===c&&(c=
!1);d=d||Ja.defaultLocale;var f;if(!(f=d))c?c="en-US":(Rf||(sc()?(c=(new Intl.DateTimeFormat).resolvedOptions().locale,Rf=!c||"und"===c?"en-US":c):Rf="en-US"),c=Rf),f=c;return new h(f,a||Ja.defaultNumberingSystem,b||Ja.defaultOutputCalendar,d)};h.resetCache=function(){Rf=null;lj={};Xj={};Yj={}};h.fromObject=function(d){d=void 0===d?{}:d;return h.create(d.locale,d.numberingSystem,d.outputCalendar)};var l=h.prototype;l.listingMode=function(d){void 0===d&&(d=!0);var a=sc()&&uf(),b=this.isEnglish(),c=
(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return!a&&(!b||!c)&&!d?"error":!a||b&&c?"en":"intl"};l.clone=function(d){return!d||0===Object.getOwnPropertyNames(d).length?this:h.create(d.locale||this.specifiedLocale,d.numberingSystem||this.numberingSystem,d.outputCalendar||this.outputCalendar,d.defaultToEN||!1)};l.redefaultToEN=function(d){void 0===d&&(d={});return this.clone(Object.assign({},d,{defaultToEN:!0}))};l.redefaultToSystem=
function(d){void 0===d&&(d={});return this.clone(Object.assign({},d,{defaultToEN:!1}))};l.months=function(d,a,b){var c=this;void 0===a&&(a=!1);void 0===b&&(b=!0);return $g(this,d,b,Ul,function(){var b=a?{month:d,day:"numeric"}:{month:d},e=a?"format":"standalone";c.monthsCache[e][d]||(c.monthsCache[e][d]=sr(function(a){return c.extract(a,b,"month")}));return c.monthsCache[e][d]})};l.weekdays=function(d,a,b){var c=this;void 0===a&&(a=!1);void 0===b&&(b=!0);return $g(this,d,b,Wl,function(){var b=a?{weekday:d,
year:"numeric",month:"long",day:"numeric"}:{weekday:d},e=a?"format":"standalone";c.weekdaysCache[e][d]||(c.weekdaysCache[e][d]=tr(function(a){return c.extract(a,b,"weekday")}));return c.weekdaysCache[e][d]})};l.meridiems=function(d){var a=this;void 0===d&&(d=!0);return $g(this,void 0,d,function(){return qn},function(){if(!a.meridiemCache){var b={hour:"numeric",hour12:!0};a.meridiemCache=[Na.utc(2016,11,13,9),Na.utc(2016,11,13,19)].map(function(c){return a.extract(c,b,"dayperiod")})}return a.meridiemCache})};
l.eras=function(d,a){var b=this;void 0===a&&(a=!0);return $g(this,d,a,Zl,function(){var a={era:d};b.eraCache[d]||(b.eraCache[d]=[Na.utc(-40,1,1),Na.utc(2017,1,1)].map(function(f){return b.extract(f,a,"era")}));return b.eraCache[d]})};l.extract=function(d,a,b){return(d=this.dtFormatter(d,a).formatToParts().find(function(a){return a.type.toLowerCase()===b}))?d.value:null};l.numberFormatter=function(d){void 0===d&&(d={});return new Ps(this.intl,d.forceSimple||this.fastNumbers,d)};l.dtFormatter=function(d,
a){void 0===a&&(a={});return new Qs(d,this.intl,a)};l.relFormatter=function(d){void 0===d&&(d={});return new Rs(this.intl,this.isEnglish(),d)};l.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||sc()&&(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")};l.equals=function(d){return this.locale===d.locale&&this.numberingSystem===d.numberingSystem&&this.outputCalendar===d.outputCalendar};dc(h,[{key:"fastNumbers",get:function(){if(null==
this.fastNumbersCached){var d;d=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||sc()&&"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=d}return this.fastNumbersCached}}]);return h}(),yn=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Zj=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,zn=RegExp(""+Zj.source+yn.source+"?"),ak=RegExp("(?:T"+zn.source+")?"),Ss=cm("weekYear",
"weekNumber","weekDay"),Ts=cm("year","ordinal"),An=RegExp(Zj.source+" ?(?:"+yn.source+"|("+pn.source+"))?"),Us=RegExp("(?: "+An.source+")?"),Vs=RegExp("^T?"+Zj.source+"$"),Ws=/^-?P(?:(?:(-?\d{1,9})Y)?(?:(-?\d{1,9})M)?(?:(-?\d{1,9})W)?(?:(-?\d{1,9})D)?(?:T(?:(-?\d{1,9})H)?(?:(-?\d{1,9})M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/,wr={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},Xs=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,
Ys=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Zs=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,$s=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,at=se(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ak),bt=se(/(\d{4})-?W(\d\d)(?:-?(\d))?/,
ak),ct=se(/(\d{4})-?(\d{3})/,ak),dt=se(zn),et=Fd(dm,Gd,ve),ft=Fd(Ss,Gd,ve),gt=Fd(Ts,Gd,ve),ht=Fd(Gd,ve),it=Fd(Gd),jt=se(/(\d{4})-(\d\d)-(\d\d)/,Us),kt=se(An),lt=Fd(dm,Gd,ve,em),mt=Fd(Gd,ve,em),Bn={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},nt=Object.assign({years:{quarters:4,months:12,weeks:52,
days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6}},Bn),ot=Object.assign({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,
milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3}},Bn),Ae="years quarters months weeks days hours minutes seconds milliseconds".split(" "),zr=Ae.slice(0).reverse(),kb=function(){function h(d){var a="longterm"===d.conversionAccuracy||!1;this.values=d.values;this.loc=d.loc||Va.create();this.conversionAccuracy=a?"longterm":"casual";this.invalid=d.invalid||null;this.matrix=a?ot:nt;this.isLuxonDuration=!0}h.fromMillis=
function(d,a){return h.fromObject(Object.assign({milliseconds:d},a))};h.fromObject=function(d){if(null==d||"object"!==typeof d)throw new Mb("Duration.fromObject: argument expected to be an object, got "+(null===d?"null":typeof d));return new h({values:Wg(d,h.normalizeUnit,["locale","numberingSystem","conversionAccuracy","zone"]),loc:Va.fromObject(d),conversionAccuracy:d.conversionAccuracy})};h.fromISO=function(d,a){var b=te(d,[Ws,ur])[0];return b?(b=Object.assign(b,a),h.fromObject(b)):h.invalid("unparsable",
'the input "'+d+"\" can't be parsed as ISO 8601")};h.fromISOTime=function(d,a){var b=te(d,[Vs,it])[0];return b?(b=Object.assign(b,a),h.fromObject(b)):h.invalid("unparsable",'the input "'+d+"\" can't be parsed as ISO 8601")};h.invalid=function(d,a){void 0===a&&(a=null);if(!d)throw new Mb("need to specify a reason the Duration is invalid");var b=d instanceof gc?d:new gc(d,a);if(Ja.throwOnInvalid)throw new Ls(b);return new h({invalid:b})};h.normalizeUnit=function(d){var a={year:"years",years:"years",
quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[d?d.toLowerCase():d];if(!a)throw new xm(d);return a};h.isDuration=function(d){return d&&d.isLuxonDuration||!1};var l=h.prototype;l.toFormat=function(d,a){void 0===a&&(a={});var b=Object.assign({},a,{floor:!1!==a.round&&!1!==a.floor});
return this.isValid?vc.create(this.loc,b).formatDurationFromString(this,d):"Invalid Duration"};l.toObject=function(d){void 0===d&&(d={});if(!this.isValid)return{};var a=Object.assign({},this.values);d.includeConfig&&(a.conversionAccuracy=this.conversionAccuracy,a.numberingSystem=this.loc.numberingSystem,a.locale=this.loc.locale);return a};l.toISO=function(){if(!this.isValid)return null;var d="P";0!==this.years&&(d+=this.years+"Y");if(0!==this.months||0!==this.quarters)d+=this.months+3*this.quarters+
"M";0!==this.weeks&&(d+=this.weeks+"W");0!==this.days&&(d+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)d+="T";0!==this.hours&&(d+=this.hours+"H");0!==this.minutes&&(d+=this.minutes+"M");if(0!==this.seconds||0!==this.milliseconds)d+=Pi(this.seconds+this.milliseconds/1E3,3)+"S";"P"===d&&(d+="T0S");return d};l.toISOTime=function(d){void 0===d&&(d={});if(!this.isValid)return null;var a=this.toMillis();if(0>a||864E5<=a)return null;d=Object.assign({suppressMilliseconds:!1,
suppressSeconds:!1,includePrefix:!1,format:"extended"},d);var a=this.shiftTo("hours","minutes","seconds","milliseconds"),b="basic"===d.format?"hhmm":"hh:mm";if(!d.suppressSeconds||0!==a.seconds||0!==a.milliseconds)if(b+="basic"===d.format?"ss":":ss",!d.suppressMilliseconds||0!==a.milliseconds)b+=".SSS";a=a.toFormat(b);d.includePrefix&&(a="T"+a);return a};l.toJSON=function(){return this.toISO()};l.toString=function(){return this.toISO()};l.toMillis=function(){return this.as("milliseconds")};l.valueOf=
function(){return this.toMillis()};l.plus=function(d){if(!this.isValid)return this;d=Id(d);for(var a={},b=hd(Ae),c;!(c=b()).done;)if(c=c.value,oe(d.values,c)||oe(this.values,c))a[c]=d.get(c)+this.get(c);return Hd(this,{values:a},!0)};l.minus=function(d){if(!this.isValid)return this;d=Id(d);return this.plus(d.negate())};l.mapUnits=function(d){if(!this.isValid)return this;for(var a={},b=0,c=Object.keys(this.values);b<c.length;b++){var f=c[b];a[f]=Tl(d(this.values[f],f))}return Hd(this,{values:a},!0)};
l.get=function(d){return this[h.normalizeUnit(d)]};l.set=function(d){if(!this.isValid)return this;d=Object.assign(this.values,Wg(d,h.normalizeUnit,[]));return Hd(this,{values:d})};l.reconfigure=function(d){var a=void 0===d?{}:d;d=a.conversionAccuracy;a={loc:this.loc.clone({locale:a.locale,numberingSystem:a.numberingSystem})};d&&(a.conversionAccuracy=d);return Hd(this,a)};l.as=function(d){return this.isValid?this.shiftTo(d).get(d):NaN};l.normalize=function(){if(!this.isValid)return this;var d=this.toObject();
yr(this.matrix,d);return Hd(this,{values:d},!0)};l.shiftTo=function(){for(var d=arguments.length,a=Array(d),b=0;b<d;b++)a[b]=arguments[b];if(!this.isValid||0===a.length)return this;for(var a=a.map(function(a){return h.normalizeUnit(a)}),d={},b={},c=this.toObject(),f,e=hd(Ae),g;!(g=e()).done;)if(g=g.value,0<=a.indexOf(g)){f=g;var k=0,l;for(l in b)k+=this.matrix[l][g]*b[l],b[l]=0;Dd(c[g])&&(k+=c[g]);var n=Math.trunc(k);d[g]=n;b[g]=k-n;for(var q in c)Ae.indexOf(q)>Ae.indexOf(g)&&gm(this.matrix,c,q,d,
g)}else Dd(c[g])&&(b[g]=c[g]);for(var s in b)0!==b[s]&&(d[f]+=s===f?b[s]:b[s]/this.matrix[f][s]);return Hd(this,{values:d},!0).normalize()};l.negate=function(){if(!this.isValid)return this;for(var d={},a=0,b=Object.keys(this.values);a<b.length;a++){var c=b[a];d[c]=-this.values[c]}return Hd(this,{values:d},!0)};l.equals=function(d){if(!this.isValid||!d.isValid||!this.loc.equals(d.loc))return!1;for(var a=hd(Ae),b;!(b=a()).done;){var c=b.value;b=this.values[c];c=d.values[c];b=void 0===b||0===b?void 0===
c||0===c:b===c;if(!b)return!1}return!0};dc(h,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||
0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?
this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]);return h}(),Sf=function(){function h(d){this.s=d.start;this.e=d.end;this.invalid=d.invalid||null;this.isLuxonInterval=!0}h.invalid=function(d,a){void 0===a&&(a=null);if(!d)throw new Mb("need to specify a reason the Interval is invalid");var b=d instanceof gc?d:new gc(d,a);if(Ja.throwOnInvalid)throw new Ks(b);return new h({invalid:b})};h.fromDateTimes=function(d,a){var b=zf(d),
c=zf(a),f=!b||!b.isValid?Sf.invalid("missing or invalid start"):!c||!c.isValid?Sf.invalid("missing or invalid end"):c<b?Sf.invalid("end before start","The end of an interval must be after its start, but you had start\x3d"+b.toISO()+" and end\x3d"+c.toISO()):null;return null==f?new h({start:b,end:c}):f};h.after=function(d,a){var b=Id(a),c=zf(d);return h.fromDateTimes(c,c.plus(b))};h.before=function(d,a){var b=Id(a),c=zf(d);return h.fromDateTimes(c.minus(b),c)};h.fromISO=function(d,a){var b=(d||"").split("/",
2),c=b[0],b=b[1];if(c&&b){var f,e;try{f=Na.fromISO(c,a),e=f.isValid}catch(g){e=!1}var k,l;try{k=Na.fromISO(b,a),l=k.isValid}catch(n){l=!1}if(e&&l)return h.fromDateTimes(f,k);if(e){if(k=kb.fromISO(b,a),k.isValid)return h.after(f,k)}else if(l&&(f=kb.fromISO(c,a),f.isValid))return h.before(k,f)}return h.invalid("unparsable",'the input "'+d+"\" can't be parsed as ISO 8601")};h.isInterval=function(d){return d&&d.isLuxonInterval||!1};var l=h.prototype;l.length=function(d){void 0===d&&(d="milliseconds");
return this.isValid?this.toDuration.apply(this,[d]).get(d):NaN};l.count=function(d){void 0===d&&(d="milliseconds");if(!this.isValid)return NaN;var a=this.start.startOf(d),b=this.end.startOf(d);return Math.floor(b.diff(a,d).get(d))+1};l.hasSame=function(d){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,d):!1};l.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()};l.isAfter=function(d){return!this.isValid?!1:this.s>d};l.isBefore=function(d){return!this.isValid?!1:this.e<=
d};l.contains=function(d){return!this.isValid?!1:this.s<=d&&this.e>d};l.set=function(d){d=void 0===d?{}:d;return!this.isValid?this:h.fromDateTimes(d.start||this.s,d.end||this.e)};l.splitAt=function(){var d=this;if(!this.isValid)return[];for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];for(var a=b.map(zf).filter(function(a){return d.contains(a)}).sort(),b=[],c=this.s,f=0;c<this.e;){var e=a[f]||this.e,e=+e>+this.e?this.e:e;b.push(h.fromDateTimes(c,e));c=e;f+=1}return b};l.splitBy=
function(d){d=Id(d);if(!this.isValid||!d.isValid||0===d.as("milliseconds"))return[];for(var a=this.s,b=1,c,f=[];a<this.e;)c=this.start.plus(d.mapUnits(function(a){return a*b})),c=+c>+this.e?this.e:c,f.push(h.fromDateTimes(a,c)),a=c,b+=1;return f};l.divideEqually=function(d){return!this.isValid?[]:this.splitBy(this.length()/d).slice(0,d)};l.overlaps=function(d){return this.e>d.s&&this.s<d.e};l.abutsStart=function(d){return!this.isValid?!1:+this.e===+d.s};l.abutsEnd=function(d){return!this.isValid?
!1:+d.e===+this.s};l.engulfs=function(d){return!this.isValid?!1:this.s<=d.s&&this.e>=d.e};l.equals=function(d){return!this.isValid||!d.isValid?!1:this.s.equals(d.s)&&this.e.equals(d.e)};l.intersection=function(d){if(!this.isValid)return this;var a=this.s>d.s?this.s:d.s;d=this.e<d.e?this.e:d.e;return a>=d?null:h.fromDateTimes(a,d)};l.union=function(d){return!this.isValid?this:h.fromDateTimes(this.s<d.s?this.s:d.s,this.e>d.e?this.e:d.e)};h.merge=function(d){var a=d.sort(function(a,c){return a.s-c.s}).reduce(function(a,
c){var f=a[0],e=a[1];return e?e.overlaps(c)||e.abutsStart(c)?[f,e.union(c)]:[f.concat([e]),c]:[f,c]},[[],null]);d=a[0];(a=a[1])&&d.push(a);return d};h.xor=function(d){var a,b=null,c=0,f=[];d=d.map(function(a){return[{time:a.s,type:"s"},{time:a.e,type:"e"}]});d=(a=Array.prototype).concat.apply(a,d).sort(function(a,c){return a.time-c.time});for(a=hd(d);!(d=a()).done;)d=d.value,c+="s"===d.type?1:-1,1===c?b=d.time:(b&&+b!==+d.time&&f.push(h.fromDateTimes(b,d.time)),b=null);return h.merge(f)};l.difference=
function(){for(var d=this,a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return h.xor([this].concat(b)).map(function(a){return d.intersection(a)}).filter(function(a){return a&&!a.isEmpty()})};l.toString=function(){return!this.isValid?"Invalid Interval":"["+this.s.toISO()+" \u2013 "+this.e.toISO()+")"};l.toISO=function(d){return!this.isValid?"Invalid Interval":this.s.toISO(d)+"/"+this.e.toISO(d)};l.toISODate=function(){return!this.isValid?"Invalid Interval":this.s.toISODate()+"/"+this.e.toISODate()};
l.toISOTime=function(d){return!this.isValid?"Invalid Interval":this.s.toISOTime(d)+"/"+this.e.toISOTime(d)};l.toFormat=function(d,a){var b=(void 0===a?{}:a).separator;return!this.isValid?"Invalid Interval":""+this.s.toFormat(d)+(void 0===b?" \u2013 ":b)+this.e.toFormat(d)};l.toDuration=function(d,a){return!this.isValid?kb.invalid(this.invalidReason):this.e.diff(this.s,d,a)};l.mapEndpoints=function(d){return h.fromDateTimes(d(this.s),d(this.e))};dc(h,[{key:"start",get:function(){return this.isValid?
this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]);return h}(),Tf=function(){function h(){}h.hasDST=function(h){void 0===h&&(h=Ja.defaultZone);var d=Na.now().setZone(h).set({month:12});return!h.universal&&d.offset!==d.set({month:6}).offset};
h.isValidIANAZone=function(h){return uc.isValidSpecifier(h)&&uc.isValidZone(h)};h.normalizeZone=function(h){return Ed(h,Ja.defaultZone)};h.months=function(h,d){void 0===h&&(h="long");var a=void 0===d?{}:d,b=a.locale,c=a.numberingSystem,f=a.locObj,a=a.outputCalendar;return((void 0===f?null:f)||Va.create(void 0===b?null:b,void 0===c?null:c,void 0===a?"gregory":a)).months(h)};h.monthsFormat=function(h,d){void 0===h&&(h="long");var a=void 0===d?{}:d,b=a.locale,c=a.numberingSystem,f=a.locObj,a=a.outputCalendar;
return((void 0===f?null:f)||Va.create(void 0===b?null:b,void 0===c?null:c,void 0===a?"gregory":a)).months(h,!0)};h.weekdays=function(h,d){void 0===h&&(h="long");var a=void 0===d?{}:d,b=a.locale,c=a.numberingSystem,a=a.locObj;return((void 0===a?null:a)||Va.create(void 0===b?null:b,void 0===c?null:c,null)).weekdays(h)};h.weekdaysFormat=function(h,d){void 0===h&&(h="long");var a=void 0===d?{}:d,b=a.locale,c=a.numberingSystem,a=a.locObj;return((void 0===a?null:a)||Va.create(void 0===b?null:b,void 0===
c?null:c,null)).weekdays(h,!0)};h.meridiems=function(h){h=(void 0===h?{}:h).locale;return Va.create(void 0===h?null:h).meridiems()};h.eras=function(h,d){void 0===h&&(h="short");var a=(void 0===d?{}:d).locale;return Va.create(void 0===a?null:a,null,"gregory").eras(h)};h.features=function(){var h=!1,d=!1,a=!1,b=!1;if(sc()){h=!0;d=uf();b=Pl();try{a="America/New_York"===(new Intl.DateTimeFormat("en",{timeZone:"America/New_York"})).resolvedOptions().timeZone}catch(c){a=!1}}return{intl:h,intlTokens:d,zones:a,
relative:b}};return h}(),nj={arab:"[\u0660-\u0669]",arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",
thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",latn:"\\d"},im={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Cr=nj.hanidec.replace(/[\[|\]]/g,"").split(""),Fr="missing Intl.DateTimeFormat.formatToParts support",jm=
"( |"+String.fromCharCode(160)+")",oj=RegExp(jm,"g"),Lr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM","short":"MMM","long":"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{"short":"EEE","long":"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}},pj=null,rj=[0,31,59,90,120,151,181,212,243,273,304,334],qj=[0,31,60,91,121,152,182,213,244,274,305,335],Am={month:1,day:1,hour:0,minute:0,
second:0,millisecond:0},pt={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},qt={ordinal:1,hour:0,minute:0,second:0,millisecond:0},zm="year month day hour minute second millisecond".split(" "),rt="weekYear weekNumber weekday hour minute second millisecond".split(" "),st="year ordinal hour minute second millisecond".split(" "),Na=function(){function h(d){var a=d.zone||Ja.defaultZone,b=d.invalid||(Number.isNaN(d.ts)?new gc("invalid input"):null)||(!a.isValid?ah(a):null);this.ts=da(d.ts)?
Ja.now():d.ts;var c=null,f=null;b||(d.old&&d.old.ts===this.ts&&d.old.zone.equals(a)?(f=[d.old.c,d.old.o],c=f[0],f=f[1]):(f=a.offset(this.ts),c=tm(this.ts,f),c=(b=Number.isNaN(c.year)?new gc("invalid input"):null)?null:c,f=b?null:f));this._zone=a;this.loc=d.loc||Va.create();this.invalid=b;this.weekData=null;this.c=c;this.o=f;this.isLuxonDateTime=!0}h.now=function(){return new h({})};h.local=function(d,a,b,c,f,e,g){return da(d)?h.now():ym({year:d,month:a,day:b,hour:c,minute:f,second:e,millisecond:g},
Ja.defaultZone)};h.utc=function(d,a,b,c,f,e,g){return da(d)?new h({ts:Ja.now(),zone:yb.utcInstance}):ym({year:d,month:a,day:b,hour:c,minute:f,second:e,millisecond:g},yb.utcInstance)};h.fromJSDate=function(d,a){void 0===a&&(a={});var b="[object Date]"===Object.prototype.toString.call(d)?d.valueOf():NaN;if(Number.isNaN(b))return h.invalid("invalid input");var c=Ed(a.zone,Ja.defaultZone);return!c.isValid?h.invalid(ah(c)):new h({ts:b,zone:c,loc:Va.fromObject(a)})};h.fromMillis=function(d,a){void 0===
a&&(a={});if(Dd(d))return-864E13>d||864E13<d?h.invalid("Timestamp out of range"):new h({ts:d,zone:Ed(a.zone,Ja.defaultZone),loc:Va.fromObject(a)});throw new Mb("fromMillis requires a numerical input, but received a "+typeof d+" with value "+d);};h.fromSeconds=function(d,a){void 0===a&&(a={});if(Dd(d))return new h({ts:1E3*d,zone:Ed(a.zone,Ja.defaultZone),loc:Va.fromObject(a)});throw new Mb("fromSeconds requires a numerical input");};h.fromObject=function(d){var a=Ed(d.zone,Ja.defaultZone);if(!a.isValid)return h.invalid(ah(a));
var b=Ja.now(),c=a.offset(b),f=Wg(d,wm,["zone","locale","outputCalendar","numberingSystem"]),e=!da(f.ordinal),g=!da(f.year),k=!da(f.month)||!da(f.day),g=g||k,l=f.weekYear||f.weekNumber,n=Va.fromObject(d);if((g||e)&&l)throw new vf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(k&&e)throw new vf("Can't mix ordinal dates with month/day");var k=l||f.weekday&&!g,q,l=tm(b,c);k?(q=rt,b=pt,l=sj(l)):e?(q=st,b=qt,l=tj(l)):(q=zm,b=Am);var s=!1;q=hd(q);for(var u;!(u=q()).done;)u=u.value,
da(f[u])?f[u]=s?b[u]:l[u]:s=!0;k?(b=Sg(f.weekYear),l=Qc(f.weekNumber,1,Ug(f.weekYear)),s=Qc(f.weekday,1,7),b=b?l?s?!1:Nb("weekday",f.weekday):Nb("week",f.week):Nb("weekYear",f.weekYear)):e?(b=Sg(f.year),l=Qc(f.ordinal,1,tc(f.year)?366:365),b=b?l?!1:Nb("ordinal",f.ordinal):Nb("year",f.year)):b=rm(f);if(b=b||sm(f))return h.invalid(b);e=k?pm(f):e?qm(f):f;c=xf(qe(e),c,a);a=new h({ts:c[0],zone:a,o:c[1],loc:n});return f.weekday&&g&&d.weekday!==a.weekday?h.invalid("mismatched weekday","you can't specify both a weekday of "+
f.weekday+" and a date of "+a.toISO()):a};h.fromISO=function(d,a){void 0===a&&(a={});var b=te(d,[at,et],[bt,ft],[ct,gt],[dt,ht]);return yf(b[0],b[1],a,"ISO 8601",d)};h.fromRFC2822=function(d,a){void 0===a&&(a={});var b=te(d.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[Xs,vr]);return yf(b[0],b[1],a,"RFC 2822",d)};h.fromHTTP=function(d,a){void 0===a&&(a={});var b=te(d,[Ys,fm],[Zs,fm],[$s,xr]);return yf(b[0],b[1],a,"HTTP",a)};h.fromFormat=function(d,a,b){void 0===b&&(b={});if(da(d)||
da(a))throw new Mb("fromFormat requires an input string and a format");var c=b,f=c.locale,c=c.numberingSystem,f=Va.fromOpts({locale:void 0===f?null:f,numberingSystem:void 0===c?null:c,defaultToEN:!0}),e,f=mm(f,d,a);e=[f.result,f.zone,f.invalidReason];f=e[0];c=e[1];return(e=e[2])?h.invalid(e):yf(f,c,b,"format "+a,d)};h.fromString=function(d,a,b){void 0===b&&(b={});return h.fromFormat(d,a,b)};h.fromSQL=function(d,a){void 0===a&&(a={});var b=te(d,[jt,lt],[kt,mt]);return yf(b[0],b[1],a,"SQL",d)};h.invalid=
function(d,a){void 0===a&&(a=null);if(!d)throw new Mb("need to specify a reason the DateTime is invalid");var b=d instanceof gc?d:new gc(d,a);if(Ja.throwOnInvalid)throw new Js(b);return new h({invalid:b})};h.isDateTime=function(d){return d&&d.isLuxonDateTime||!1};var l=h.prototype;l.get=function(d){return this[d]};l.resolvedLocaleOpts=function(d){void 0===d&&(d={});d=vc.create(this.loc.clone(d),d).resolvedOptions(this);return{locale:d.locale,numberingSystem:d.numberingSystem,outputCalendar:d.calendar}};
l.toUTC=function(d,a){void 0===d&&(d=0);void 0===a&&(a={});return this.setZone(yb.instance(d),a)};l.toLocal=function(){return this.setZone(Ja.defaultZone)};l.setZone=function(d,a){var b=void 0===a?{}:a,c=b.keepLocalTime,c=void 0===c?!1:c,b=b.keepCalendarTime,b=void 0===b?!1:b;d=Ed(d,Ja.defaultZone);if(d.equals(this.zone))return this;if(d.isValid){var f=this.ts;if(c||b)c=d.offset(this.ts),b=this.toObject(),f=xf(qe(b),c,d)[0];return wf(this,{ts:f,zone:d})}return h.invalid(ah(d))};l.reconfigure=function(d){d=
void 0===d?{}:d;d=this.loc.clone({locale:d.locale,numberingSystem:d.numberingSystem,outputCalendar:d.outputCalendar});return wf(this,{loc:d})};l.setLocale=function(d){return this.reconfigure({locale:d})};l.set=function(d){if(!this.isValid)return this;d=Wg(d,wm,[]);var a=!da(d.weekYear)||!da(d.weekNumber)||!da(d.weekday),b=!da(d.ordinal),c=!da(d.year),f=!da(d.month)||!da(d.day),e=d.weekYear||d.weekNumber;if((c||f||b)&&e)throw new vf("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
if(f&&b)throw new vf("Can't mix ordinal dates with month/day");a?a=pm(Object.assign(sj(this.c),d)):da(d.ordinal)?(a=Object.assign(this.toObject(),d),da(d.day)&&(a.day=Math.min(Tg(a.year,a.month),a.day))):a=qm(Object.assign(tj(this.c),d));d=xf(qe(a),this.o,this.zone);return wf(this,{ts:d[0],o:d[1]})};l.plus=function(d){if(!this.isValid)return this;d=Id(d);return wf(this,um(this,d))};l.minus=function(d){if(!this.isValid)return this;d=Id(d).negate();return wf(this,um(this,d))};l.startOf=function(d){if(!this.isValid)return this;
var a={};d=kb.normalizeUnit(d);switch(d){case "years":a.month=1;case "quarters":case "months":a.day=1;case "weeks":case "days":a.hour=0;case "hours":a.minute=0;case "minutes":a.second=0;case "seconds":a.millisecond=0}"weeks"===d&&(a.weekday=1);"quarters"===d&&(d=Math.ceil(this.month/3),a.month=3*(d-1)+1);return this.set(a)};l.endOf=function(d){var a;return this.isValid?this.plus((a={},a[d]=1,a)).startOf(d).minus(1):this};l.toFormat=function(d,a){void 0===a&&(a={});return this.isValid?vc.create(this.loc.redefaultToEN(a)).formatDateTimeFromString(this,
d):"Invalid DateTime"};l.toLocaleString=function(d){void 0===d&&(d=Zg);return this.isValid?vc.create(this.loc.clone(d),d).formatDateTime(this):"Invalid DateTime"};l.toLocaleParts=function(d){void 0===d&&(d={});return this.isValid?vc.create(this.loc.clone(d),d).formatDateTimeParts(this):[]};l.toISO=function(d){void 0===d&&(d={});return!this.isValid?null:this.toISODate(d)+"T"+this.toISOTime(d)};l.toISODate=function(d){d=(void 0===d?{}:d).format;d="basic"===(void 0===d?"extended":d)?"yyyyMMdd":"yyyy-MM-dd";
9999<this.year&&(d="+"+d);return we(this,d)};l.toISOWeekDate=function(){return we(this,"kkkk-'W'WW-c")};l.toISOTime=function(d){var a=void 0===d?{}:d;d=a.suppressMilliseconds;var b=a.suppressSeconds,c=a.includeOffset,f=a.includePrefix,a=a.format;return vm(this,{suppressSeconds:void 0===b?!1:b,suppressMilliseconds:void 0===d?!1:d,includeOffset:void 0===c?!0:c,includePrefix:void 0===f?!1:f,format:void 0===a?"extended":a})};l.toRFC2822=function(){return we(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)};l.toHTTP=
function(){return we(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")};l.toSQLDate=function(){return we(this,"yyyy-MM-dd")};l.toSQLTime=function(d){var a=void 0===d?{}:d;d=a.includeOffset;a=a.includeZone;return vm(this,{includeOffset:void 0===d?!0:d,includeZone:void 0===a?!1:a,spaceZone:!0})};l.toSQL=function(d){void 0===d&&(d={});return!this.isValid?null:this.toSQLDate()+" "+this.toSQLTime(d)};l.toString=function(){return this.isValid?this.toISO():"Invalid DateTime"};l.valueOf=function(){return this.toMillis()};
l.toMillis=function(){return this.isValid?this.ts:NaN};l.toSeconds=function(){return this.isValid?this.ts/1E3:NaN};l.toJSON=function(){return this.toISO()};l.toBSON=function(){return this.toJSDate()};l.toObject=function(d){void 0===d&&(d={});if(!this.isValid)return{};var a=Object.assign({},this.c);d.includeConfig&&(a.outputCalendar=this.outputCalendar,a.numberingSystem=this.loc.numberingSystem,a.locale=this.loc.locale);return a};l.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)};l.diff=
function(d,a,b){void 0===a&&(a="milliseconds");void 0===b&&(b={});if(!this.isValid||!d.isValid)return kb.invalid(this.invalid||d.invalid,"created by diffing an invalid DateTime");b=Object.assign({locale:this.locale,numberingSystem:this.numberingSystem},b);var c=(Array.isArray(a)?a:[a]).map(kb.normalizeUnit);a=d.valueOf()>this.valueOf();d=Br(a?this:d,a?d:this,c,b);return a?d.negate():d};l.diffNow=function(d,a){void 0===d&&(d="milliseconds");void 0===a&&(a={});return this.diff(h.now(),d,a)};l.until=
function(d){return this.isValid?Sf.fromDateTimes(this,d):this};l.hasSame=function(d,a){if(!this.isValid)return!1;var b=d.valueOf(),c=this.setZone(d.zone,{keepLocalTime:!0});return c.startOf(a)<=b&&b<=c.endOf(a)};l.equals=function(d){return this.isValid&&d.isValid&&this.valueOf()===d.valueOf()&&this.zone.equals(d.zone)&&this.loc.equals(d.loc)};l.toRelative=function(d){void 0===d&&(d={});if(!this.isValid)return null;var a=d.base||h.fromObject({zone:this.zone}),b=d.padding?this<a?-d.padding:d.padding:
0,c="years months days hours minutes seconds".split(" "),f=d.unit;Array.isArray(d.unit)&&(c=d.unit,f=void 0);return Bm(a,this.plus(b),Object.assign(d,{numeric:"always",units:c,unit:f}))};l.toRelativeCalendar=function(d){void 0===d&&(d={});return!this.isValid?null:Bm(d.base||h.fromObject({zone:this.zone}),this,Object.assign(d,{numeric:"auto",units:["years","months","days"],calendary:!0}))};h.min=function(){for(var d=arguments.length,a=Array(d),b=0;b<d;b++)a[b]=arguments[b];if(!a.every(h.isDateTime))throw new Mb("min requires all arguments be DateTimes");
return Ql(a,function(a){return a.valueOf()},Math.min)};h.max=function(){for(var d=arguments.length,a=Array(d),b=0;b<d;b++)a[b]=arguments[b];if(!a.every(h.isDateTime))throw new Mb("max requires all arguments be DateTimes");return Ql(a,function(a){return a.valueOf()},Math.max)};h.fromFormatExplain=function(d,a,b){void 0===b&&(b={});var c=b;b=c.locale;c=c.numberingSystem;b=Va.fromOpts({locale:void 0===b?null:b,numberingSystem:void 0===c?null:c,defaultToEN:!0});return mm(b,d,a)};h.fromStringExplain=function(d,
a,b){void 0===b&&(b={});return h.fromFormatExplain(d,a,b)};dc(h,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?
this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",
get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?uj(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?uj(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?uj(this).weekday:NaN}},{key:"ordinal",get:function(){return this.isValid?tj(this.c).ordinal:NaN}},
{key:"monthShort",get:function(){return this.isValid?Tf.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Tf.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Tf.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Tf.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?
+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.universal:null}},{key:"isInDST",get:function(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}},{key:"isInLeapYear",
get:function(){return tc(this.year)}},{key:"daysInMonth",get:function(){return Tg(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?tc(this.year)?366:365:NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?Ug(this.weekYear):NaN}}],[{key:"DATE_SHORT",get:function(){return Zg}},{key:"DATE_MED",get:function(){return Ri}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return $l}},{key:"DATE_FULL",get:function(){return Si}},{key:"DATE_HUGE",get:function(){return Ti}},
{key:"TIME_SIMPLE",get:function(){return Ui}},{key:"TIME_WITH_SECONDS",get:function(){return Vi}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return Wi}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return Xi}},{key:"TIME_24_SIMPLE",get:function(){return Yi}},{key:"TIME_24_WITH_SECONDS",get:function(){return Zi}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return $i}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return aj}},{key:"DATETIME_SHORT",get:function(){return bj}},{key:"DATETIME_SHORT_WITH_SECONDS",
get:function(){return fj}},{key:"DATETIME_MED",get:function(){return cj}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return gj}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return am}},{key:"DATETIME_FULL",get:function(){return dj}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return hj}},{key:"DATETIME_HUGE",get:function(){return ej}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return ij}}]);return h}();G.DateTime=Na;G.Duration=kb;G.FixedOffsetZone=yb;G.IANAZone=uc;G.Info=Tf;G.Interval=
Sf;G.InvalidZone=jj;G.LocalZone=rn;G.Settings=Ja;G.VERSION="1.28.1";G.Zone=re;var bk=function(h){var l=typeof h;return null!=h&&("object"==l||"function"==l)},Cn={};(function(h){Cn="object"==typeof h&&h&&h.Object===Object&&h}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var tt="object"==typeof self&&self&&self.Object===Object&&self,Bh=Cn||tt||Function("return this")(),Ch=Bh.Symbol,Dn=Object.prototype,ut=Dn.hasOwnProperty,vt=Dn.toString,
Uf=Ch?Ch.toStringTag:void 0,wt=Object.prototype.toString,En=Ch?Ch.toStringTag:void 0,Fn=0/0,xt=/^\s+|\s+$/g,yt=/^[-+]0x[0-9a-f]+$/i,zt=/^0b[01]+$/i,At=/^0o[0-7]+$/i,Bt=parseInt,Gn=function(h){if("number"==typeof h)return h;var l;if(!(l="symbol"==typeof h))if(l=null!=h&&"object"==typeof h){l=h;var d;if(null==l)d=void 0===l?"[object Undefined]":"[object Null]";else if(En&&En in Object(l)){var a=ut.call(l,Uf),b=l[Uf];try{l[Uf]=void 0,d=!0}catch(c){}var f=vt.call(l);d&&(a?l[Uf]=b:delete l[Uf]);d=f}else d=
wt.call(l);l="[object Symbol]"==d}if(l)return Fn;bk(h)&&(h="function"==typeof h.valueOf?h.valueOf():h,h=bk(h)?h+"":h);if("string"!=typeof h)return 0===h?h:+h;h=h.replace(xt,"");return(d=zt.test(h))||At.test(h)?Bt(h.slice(2),d?2:8):yt.test(h)?Fn:+h},Ct=Math.max,Dt=Math.min,ck=function(h){function l(a){if(d[a])return d[a].exports;var b=d[a]={i:a,l:!1,exports:{}};h[a].call(b.exports,b,b.exports,l);b.l=!0;return b.exports}var d={};l.m=h;l.c=d;l.d=function(a,b,c){l.o(a,b)||Object.defineProperty(a,b,{enumerable:!0,
get:c})};l.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};l.t=function(a,b){b&1&&(a=l(a));if(b&8||b&4&&"object"===typeof a&&a&&a.__esModule)return a;var c=Object.create(null);l.r(c);Object.defineProperty(c,"default",{enumerable:!0,value:a});if(b&2&&"string"!=typeof a)for(var f in a)l.d(c,f,function(c){return a[c]}.bind(null,f));return c};l.n=function(a){var b=a&&a.__esModule?
function(){return a["default"]}:function(){return a};l.d(b,"a",b);return b};l.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};l.p="";return l(l.s="./NumberFormat/src/NumberFormatter.js")}({"./Common/src/collection/Cache.js":function(h,l,d){d.r(l);d.d(l,"default",function(){return c});var a=d("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),b=d("./node_modules/@babel/runtime/helpers/esm/createClass.js"),c=function(){function c(b){Object(a["default"])(this,c);this._cache=
new Map;this._misses=this._hits=this._size=0;b&&this.setLimit(b)}Object(b["default"])(c,[{key:"put",value:function(a,c){var b=this._cache.get(a);b?(b.value=c,this._remove(b)):b={key:a,value:c};return this._insert(b).value}},{key:"shift",value:function(){return this._remove(this._head)}},{key:"has",value:function(a){return this._cache.has(a)}},{key:"get",value:function(a){if(a=this._cache.get(a))return this._hits++,this._remove(a),this._insert(a).value;this._misses++}},{key:"getOrPut",value:function(a,
c){var b=this.get(a);return null!=b?b:this._insert({key:a,value:c()}).value}},{key:"delete",value:function(a){if(a=this._cache.get(a))return this._remove(a)}},{key:"flush",value:function(){delete this._head;delete this._tail;this._size=0;this._cache=new Map;return this}},{key:"keys",value:function(){for(var a=this._head,c=[];a;){var b=a.key,a=a.newer;c.push(b)}return c}},{key:"setLimit",value:function(a){this._limit=a;a=this._size-a;if(0<a)for(;--a;)this.shift();return this}},{key:"clone",value:function(){for(var a=
new c(this._limit),b=this._head;b;)a.put(b.key,b.value),b=b.newer;return a}},{key:"_remove",value:function(a){if(a)return this._cache.delete(a.key),a.newer?a.newer.older=a.older:this._tail=a.older,a.older?a.older.newer=a.newer:this._head=a.newer,this._size--,a}},{key:"_insert",value:function(a){this._cache.set(a.key,a);this._tail?(this._tail.newer=a,a.older=this._tail):this._head=a;delete a.newer;this._tail=a;this._size===this._limit&&this._remove(this._head);this._size++;return a}}]);return c}()},
"./Common/src/util/NumberUtil.js":function(h,l,d){function a(a,c){var b=a%c;return 0>b?b+c:b}function b(a){return Number(a).toLocaleString()}function c(a,c){var b=0>a,f=Math.abs(a);if(0===c)f=Math.round(f);else var e=Math.pow(10,c),f=Math.round(f*e)/e;return b&&0!==f?-f:f}function f(a){var b=a.toString(),f="-"===b.charAt(0);f&&(b=b.substring(1),a=-a);var d;if(1>Math.abs(a)&&(d=parseInt(b.split("e-")[1])))a*=Math.pow(10,d-1),a=c(a,15),b="0.".concat(Object(e.repeat)("0",d-1)).concat(a.toString().substring(2));
else if(20<(d=parseInt(b.split("+")[1])))d-=20,a/=Math.pow(10,d),b=a+Object(e.repeat)("0",d);f&&(b="-".concat(b));return b}d.r(l);d.d(l,"modulo",function(){return a});d.d(l,"toLocalizedString",function(){return b});d.d(l,"round",function(){return c});d.d(l,"toStandardFormString",function(){return f});var e=d("./Common/src/util/StringUtil.js")},"./Common/src/util/StringUtil.js":function(h,l,d){function a(a,c){return 0<=a.indexOf(c)}function b(a,c){return 0===a.indexOf(c)}function c(a,c){var b=a.lastIndexOf(c);
return 0>b?!1:a.length-c.length===b}function f(a){return a.replace(/^\s+/,"")}function e(a,c){return!a&&!c||a===c}function g(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,b=a.substr(1);c&&(b=b.toLowerCase());return a.charAt(0).toUpperCase()+b}function k(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return a.substr(0,c).toUpperCase()+a.substr(c)}function m(a){var c=RegExp((1<arguments.length&&void 0!==arguments[1]?arguments[1]:"-")+"(.)","g");return a.toLowerCase().replace(c,
function(a,c){return c.toUpperCase()})}function n(a,c,b){for(a=a.toString();a.length<c;)a=b+a;return a}function q(a,c){return Array(c+1).join(a)}function s(a){var c=a.length,b="";if(0<c)for(;c--;)b+=a.charAt(c);return b}function u(a,c,b){if(c>a.length)throw Error("Invalid position (".concat(c,') and replacement ("').concat(b,'") for string "').concat(a,'".)'));return a.slice(0,c)+b+a.slice(c+b.length)}function x(a){return 1<arguments.length&&void 0!==arguments[1]&&arguments[1]?a.replace(/'/g,"\\'"):
a.replace(/"/g,'\\"')}function t(a){return a.replace(/\\/g,"\\\\")}function p(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return x(t(a),c)}function r(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;return"string"!==typeof a?a:c?"'".concat(p(a,c),"'"):'"'.concat(p(a,c),'"')}function w(a){if(!a)return a;var c=Object.keys(H.decodeMap);return a.replace(RegExp("(".concat(c.join("|"),")"),"g"),function(a){return H.decodeMap[a]})}function y(a){if(!a)return a;var c=
Object.keys(H.encodeMap);return a.replace(RegExp("(".concat(c.join("|"),")"),"g"),function(a){return"\\"!==a?H.encodeMap[a]:H.encodeMap["\\\\"]})}d.r(l);d.d(l,"contains",function(){return a});d.d(l,"startsWith",function(){return b});d.d(l,"endsWith",function(){return c});d.d(l,"leftTrim",function(){return f});d.d(l,"isEqual",function(){return e});d.d(l,"capitalizeFirst",function(){return g});d.d(l,"toUpperCaseFirstN",function(){return k});d.d(l,"camelCase",function(){return m});d.d(l,"leftPad",function(){return n});
d.d(l,"repeat",function(){return q});d.d(l,"reverse",function(){return s});d.d(l,"splice",function(){return u});d.d(l,"escapeQuotes",function(){return x});d.d(l,"escapeBackslash",function(){return t});d.d(l,"escapeQuotesAndBackslash",function(){return p});d.d(l,"quoteValue",function(){return r});d.d(l,"decodeHTMLString",function(){return w});d.d(l,"encodeHTMLString",function(){return y});var H={decodeMap:{"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"',"\x26#39;":"'","\x26#92;":"\\"},
encodeMap:{}};h=0;for(l=Object.keys(H.decodeMap);h<l.length;h++){d=l[h];var I=H.decodeMap[d];"\\"!==I?H.encodeMap[I]=d:H.encodeMap["\\".concat(I)]=d}},"./NumberFormat/src/NumberFormatter.js":function(h,l,d){function a(a){a={thousands:a&&a.thousands||",",decimal:a&&a.decimal||"."};1<a.thousands.length&&(a.thousands=a.thousands.charAt(0));1<a.decimal.length&&(a.decimal=a.decimal.charAt(0));return a}function b(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(""===c)return a;var b=
Object(w.reverse)(Object(w.reverse)(a).replace(/(\d{3})/g,"$1"+c));b.charAt(0)===c?b=b.substring(1):"-"===b.charAt(0)&&b.charAt(1)===c&&(b="-"+b.substring(2));return b}function c(a,c,b){var f=a,e=c;b||(f=Object(w.reverse)(a),e=Object(w.reverse)(c));e=Object(w.escapeQuotesAndBackslash)(e);c=a=0;var d="",g="-"===f.charAt(f.length-1);for(g&&(f=f.substring(0,f.length-1));a<e.length&&c<f.length&&0<=e.substring(a).search(/[0#?]/);)e.charAt(a).match(/[0?]/)?(d="-"!==f.charAt(c)?d+f.charAt(c):d+"0",a++,c++):
"#"===e.charAt(a)?b?(f.length>=e.substring(a).length&&(d+=f.charAt(c),c++),a++):(d="-"!==f.charAt(c)?d+f.charAt(c):d+"0",a++,c++):(d+=e.charAt(a),a++);c<f.length&&(d+=f.substring(c));a<e.length&&(d+=e.substring(a));g&&(d+="-");d=d.replace(/#/g,"").replace(/\?/g," ");b||(d=Object(w.reverse)(d));return d}function f(a,f,e){if(0<a.length&&-1===a.search(/[0#?]/))return function(){return a.replace(/('|\\)/g,"\\$1")};var d=a,g="",h;if(h=a.replace(/(e)([+-]?)(0+)/i,"").match(/^([^.]*)\.(.*)$/))d=h[1].replace(/\./g,
""),g=h[2].replace(/\./g,"");var k=0<=d.search(/[0#?],[0#?]/);if(h||k)d=d.replace(/,/g,"");var l=(h=d.match(/0[0#?]*/))?h[0].length:0;h=g.lastIndexOf("0");var m=-1!==h?h+1:0,n=(h=g.match(/[0#?]*/))?h[0].length:0,q=(h=d.match(/(,+)(?:$|[^0#?,])/))?Math.pow(1E3,h[1].length):1;return function(a){a/=q;var h=Object(y.round)(a,n),s=Object(y.toStandardFormString)(h).split("."),u=s[1]?s[1].replace(/\./g,"").length:0,u=(u<m?m:u)-u;!e&&0<u&&(s[1]=(null!=s[1]?s[1]:"")+Object(w.repeat)("0",u));(u=g.match(/[^#0]/)&&
null==s[1])&&(s[1]="");s[0]=0!==h&&0>a?"-".concat(Object(w.leftPad)(s[0].substring(1),l,"0")):Object(w.leftPad)(s[0],l,"0");k&&(s[0]=b(s[0],f.thousands));s[0]=c(s[0],d,!1);!e&&null!=s[1]&&(s[1]=c(s[1],g,!0));return u?s[0]+s[1]:s.join(f.decimal)}}function e(a,c,b){var e=c?a+JSON.stringify(c)+Number(b):a+Number(b);return A.getOrPut(e,function(){return function(e){return f(a,c,b)(e)}})}function g(a,c,b,f,d){var g=5<arguments.length&&void 0!==arguments[5]?arguments[5]:!1,h=a*c,k;if(!b||f){k="";for(var l=
h,m=f?V[0]:V[2];l<m;)l*=10,10*Math.ceil(l/10)!==l&&(k+="#");k="#,###.".concat(k)}return e(k||b,d,g)(h)}function k(a,c){for(var b=Object(w.repeat)("0",c),f=0,e=a,d="";e<V[2];)e*=10,f++,10*Math.ceil(e/10)!==e&&f>c&&(d+="#");return"#,###.".concat(b).concat(d)}function m(a){var c=a.n,b=a.scaledN,f=a.multiplier,e=a.formatString,d=a.byOriginalFormatString,g=a.compactDecimalDigits;a=a.minDecimalDigits;return 0<a?k(b,a):!e?"":d?e:0<=g?ea.getOrPut(e+g,function(){return e.split(".")[0]+"."+Object(w.repeat)("0",
g)}):c*f>=V[1]&&c*f<V[0]?ea.getOrPut(e+"smart",function(){return e.replace(/0/g,"#")}):""}function n(a){return!a?{prefix:"",suffix:"",stem:""}:Fa.getOrPut(a,function(){if(!a.match(/.*[#0-9].*/))return{prefix:"",suffix:"",stem:""};var c=a.replace(/[0#?].*/,""),b=a.replace(/.*[0#?]+/,"");"."===b&&(b="");var f=a.slice(c.length,a.length-b.length);return{prefix:c,suffix:b,stem:f}})}function q(a,c){var b=c&&c.split(";")||[],f=0>a&&1<b.length?b[1]:0===a&&2<b.length?b[2]:b[0],f=f&&f.trim().replace(/[<>"']/,
""),f=n(f);return{sign:0>a&&2>b.length?"-":"",prefix:f.prefix,suffix:f.suffix,stem:f.stem}}function s(a,c,b){return isNaN(a)||"number"!==typeof a?"":Infinity===a?"Infinity":-Infinity===a?"-Infinity":c+"0"+b}function u(a,c,b,f,e,d){var g=e&&e.decimal&&e.decimal[0]||".";e=b.split("").every(function(a){return"0"===a||a===g})?"":a;return d&&"-"===a?c+b+f+e:e+c+b+f}function x(a,c){return B.getOrPut("".concat(a,"-").concat(JSON.stringify(c)),function(){return new Intl.NumberFormat(a,c)})}function t(c){var b=
1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=b.locale,e=b.formatString,d=b.multiplier,h=b.delimiters,k=b.byOriginalFormatString,l=void 0===k?!1:k,k=b.compactDecimalDigits,n=void 0===k?-1:k,k=b.minCompactDecimalDigits,t=void 0===k?0:k,k=b.minMidRangeCompactDecimalDigits,p=void 0===k?0:k,k=b.isPreciseCompact,v=void 0===k?!1:k,k=b.isRTL,k=void 0===k?!1:k,w=b.currencyIsoCode,b=b.removeTrailingZeros,b=void 0===b?!1:b;if(!e&&null!=w)return k=(1E-8>Math.abs(c)||1E14<Math.abs(c))&&0!==c?"scientific":
"compact",x(f,{style:"currency",currency:w,notation:k}).format(c);var y=null==d?1:d,w=q(c,e||""),f=w.sign,e=w.prefix,d=w.suffix,Fa=w.stem;if(0===c||Infinity===c||-Infinity===c||isNaN(c)||"number"!==typeof c)return s(c,e,d);var w=Math.abs(c),A=Math.abs(y),h=a(h);if(w*A>=V[0])if(!w||0===A)l="0";else{p=0;for(y=w;1E3<=Math.round(y*A);)y/=1E3,p++;if(H[p])var ea=Object(r["default"])(0===p?[y,A]:[y*A,1],2),y=ea[0],ea=ea[1],l=m({n:w,scaledN:y,multiplier:A,formatString:Fa,byOriginalFormatString:l,compactDecimalDigits:n,
minDecimalDigits:t}),l=g(y,ea,l,v,h,b),l=0===p?l:l+H[p];else l=w.toExponential(0)}else if(w*A<V[1]&&0!==w){p=0;for(y=w;1E3>Math.round(1E3*y*A);)y*=1E3,p++;I[p]?(ea=Object(r["default"])(0===p?[y,A]:[y*A,1],2),y=ea[0],ea=ea[1],l=m({n:w,scaledN:y,multiplier:A,formatString:Fa,byOriginalFormatString:l,compactDecimalDigits:n,minDecimalDigits:t}),l=g(y,ea,l,v,h,b),l=0===p?l:l+I[p]):l=w.toExponential(0)}else l=m({n:w,scaledN:w,multiplier:y,formatString:Fa,byOriginalFormatString:l,compactDecimalDigits:n,minDecimalDigits:p}),
l=g(w,A,l,v,h,b);return u(f,e,l,d,h,k)}function p(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},f=b.locale,e=b.formatString,d=b.multiplier,h=b.delimiters,k=b.isRTL,b=b.currencyIsoCode;if(!e&&null!=b)return x(f,{style:"currency",currency:b}).format(c);var f=null==d?1:d,l=q(c,e||""),e=l.sign,d=l.prefix,b=l.suffix,l=l.stem,h=a(h);if(0===c&&!l||Infinity===c||-Infinity===c||isNaN(c)||"number"!==typeof c)return s(c,d,b);f=g(Math.abs(c),Math.abs(f),l,void 0,h);return u(e,d,f,b,h,k)}
d.r(l);d.d(l,"getFormatParts",function(){return q});d.d(l,"formatCompact",function(){return t});d.d(l,"format",function(){return p});var r=d("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js");h=d("./Common/src/collection/Cache.js");var w=d("./Common/src/util/StringUtil.js"),y=d("./Common/src/util/NumberUtil.js"),H=" \u1d0b \u1d0d \u0299 \u1d1b \u1d18 x \u1d22 \u028f".split(" "),I=" m \u03bc n p f a z y".split(" "),V=[1E3,0.01,10],Fa=new h["default"](1E3),A=new h["default"](1E3),ea=new h["default"](1E3),
B=new h["default"]},"./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js":function(h,l,d){function a(a,c){if(null==c||c>a.length)c=a.length;for(var f=0,e=Array(c);f<c;f++)e[f]=a[f];return e}d.r(l);d.d(l,"default",function(){return a})},"./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js":function(h,l,d){function a(a){if(Array.isArray(a))return a}d.r(l);d.d(l,"default",function(){return a})},"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":function(h,l,d){function a(a,
c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}d.r(l);d.d(l,"default",function(){return a})},"./node_modules/@babel/runtime/helpers/esm/createClass.js":function(h,l,d){function a(a,b){for(var e=0;e<b.length;e++){var d=b[e];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function b(c,b,e){b&&a(c.prototype,b);e&&a(c,e);return c}d.r(l);d.d(l,"default",function(){return b})},"./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js":function(h,
l,d){function a(a,c){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(a)){var f=[],e=!0,d=!1,h=void 0;try{for(var l=a[Symbol.iterator](),n;!(e=(n=l.next()).done)&&!(f.push(n.value),c&&f.length===c);e=!0);}catch(q){d=!0,h=q}finally{try{if(!e&&null!=l["return"])l["return"]()}finally{if(d)throw h;}}return f}}d.r(l);d.d(l,"default",function(){return a})},"./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js":function(h,l,d){function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}d.r(l);d.d(l,"default",function(){return a})},"./node_modules/@babel/runtime/helpers/esm/slicedToArray.js":function(h,l,d){function a(a,d){return Object(b["default"])(a)||Object(c["default"])(a,d)||Object(f["default"])(a,d)||Object(e["default"])()}d.r(l);d.d(l,"default",function(){return a});var b=d("./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js"),c=d("./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js"),f=d("./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js"),
e=d("./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js")},"./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js":function(h,l,d){function a(a,f){if(a){if("string"===typeof a)return Object(b["default"])(a,f);var e=Object.prototype.toString.call(a).slice(8,-1);"Object"===e&&a.constructor&&(e=a.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Object(b["default"])(a,f)}}d.r(l);d.d(l,
"default",function(){return a});var b=d("./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js")}});"use strict";var Hn={e:function(h,l){var d=document.createElement(h);d.className=l;return d},appendTo:function(h,l){l.appendChild(h);return h},css:function(h,l,d){if("object"===typeof l){for(var a in l)d=l[a],"number"===typeof d&&(d=d.toString()+"px"),h.style[a]=d;return h}if("undefined"===typeof d)return window.getComputedStyle(h)[l];a=d;"number"===typeof a&&(a=a.toString()+"px");h.style[l]=
a;return h},matches:function(h,l){if("undefined"!==typeof h.matches)return h.matches(l);if("undefined"!==typeof h.matchesSelector)return h.matchesSelector(l);if("undefined"!==typeof h.webkitMatchesSelector)return h.webkitMatchesSelector(l);if("undefined"!==typeof h.mozMatchesSelector)return h.mozMatchesSelector(l);if("undefined"!==typeof h.msMatchesSelector)return h.msMatchesSelector(l)},remove:function(h){"undefined"!==typeof h.remove?h.remove():h.parentNode&&h.parentNode.removeChild(h)},queryChildren:function(h,
l){return Array.prototype.filter.call(h.childNodes,function(d){return Hn.matches(d,l)})}},F=Hn,gb={};"use strict";gb.add=function(h,l){if(h.classList)h.classList.add(l);else{var d=h.className.split(" ");0>d.indexOf(l)&&d.push(l);h.className=d.join(" ")}};gb.remove=function(h,l){if(h.classList)h.classList.remove(l);else{var d=h.className.split(" "),a=d.indexOf(l);0<=a&&d.splice(a,1);h.className=d.join(" ")}};gb.list=function(h){return h.classList?Array.prototype.slice.apply(h.classList):h.className.split(" ")};
var K={};"use strict";K.toInt=function(h){return parseInt(h,10)||0};K.clone=function(h){if(null===h)return null;if("object"===typeof h){var l={},d;for(d in h)l[d]=this.clone(h[d]);return l}return h};K.extend=function(h,l){var d=this.clone(h),a;for(a in l)d[a]=this.clone(l[a]);return d};K.isEditable=function(h){return F.matches(h,"input,[contenteditable]")||F.matches(h,"select,[contenteditable]")||F.matches(h,"textarea,[contenteditable]")||F.matches(h,"button,[contenteditable]")};K.removePsClasses=
function(h){for(var l=gb.list(h),d=0;d<l.length;d++){var a=l[d];0===a.indexOf("ps-")&&gb.remove(h,a)}};K.outerWidth=function(h){return this.toInt(F.css(h,"width"))+this.toInt(F.css(h,"paddingLeft"))+this.toInt(F.css(h,"paddingRight"))+this.toInt(F.css(h,"borderLeftWidth"))+this.toInt(F.css(h,"borderRightWidth"))};K.startScrolling=function(h,l){gb.add(h,"ps-in-scrolling");"undefined"!==typeof l?gb.add(h,"ps-"+l):(gb.add(h,"ps-x"),gb.add(h,"ps-y"))};K.stopScrolling=function(h,l){gb.remove(h,"ps-in-scrolling");
"undefined"!==typeof l?gb.remove(h,"ps-"+l):(gb.remove(h,"ps-x"),gb.remove(h,"ps-y"))};K.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints};"use strict";var Or={maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,stopPropagationOnClick:!0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,
useBothWheelAxes:!1,useKeyboard:!0,useSelectionScroll:!1,wheelPropagation:!1,wheelSpeed:1};"use strict";var Dh=function(h){this.element=h;this.events={}};Dh.prototype.bind=function(h,l){"undefined"===typeof this.events[h]&&(this.events[h]=[]);this.events[h].push(l);this.element.addEventListener(h,l,!1)};Dh.prototype.unbind=function(h,l){var d="undefined"!==typeof l;this.events[h]=this.events[h].filter(function(a){if(d&&a!==l)return!0;this.element.removeEventListener(h,a,!1);return!1},this)};Dh.prototype.unbindAll=
function(){for(var h in this.events)this.unbind(h)};var Be=function(){this.eventElements=[]};Be.prototype.eventElement=function(h){var l=this.eventElements.filter(function(d){return d.element===h})[0];"undefined"===typeof l&&(l=new Dh(h),this.eventElements.push(l));return l};Be.prototype.bind=function(h,l,d){this.eventElement(h).bind(l,d)};Be.prototype.unbind=function(h,l,d){this.eventElement(h).unbind(l,d)};Be.prototype.unbindAll=function(){for(var h=0;h<this.eventElements.length;h++)this.eventElements[h].unbindAll()};
Be.prototype.once=function(h,l,d){var a=this.eventElement(h),b=function(c){a.unbind(l,b);d(c)};a.bind(l,b)};var Pr=Be;"use strict";var Et=function(){function h(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return h()+h()+"-"+h()+"-"+h()+"-"+h()+"-"+h()+h()+h()}}(),Pa={};"use strict";var Eh={};Pa.add=function(h){var l=Et();"undefined"===typeof h.dataset?h.setAttribute("data-ps-id",l):h.dataset.psId=l;Eh[l]=new Nr(h);return Eh[l]};Pa.remove=function(h){delete Eh[Cm(h)];
"undefined"===typeof h.dataset?h.removeAttribute("data-ps-id"):delete h.dataset.psId};Pa.get=function(h){return Eh[Cm(h)]};"use strict";"use strict";var In=document.createEvent("Event"),Jn=document.createEvent("Event"),Kn=document.createEvent("Event"),Ln=document.createEvent("Event"),Mn=document.createEvent("Event"),Nn=document.createEvent("Event"),On=document.createEvent("Event"),Pn=document.createEvent("Event"),Qn=document.createEvent("Event"),Rn=document.createEvent("Event"),Vf,Wf;In.initEvent("ps-scroll-up",
!0,!0);Jn.initEvent("ps-scroll-down",!0,!0);Kn.initEvent("ps-scroll-left",!0,!0);Ln.initEvent("ps-scroll-right",!0,!0);Mn.initEvent("ps-scroll-y",!0,!0);Nn.initEvent("ps-scroll-x",!0,!0);On.initEvent("ps-x-reach-start",!0,!0);Pn.initEvent("ps-x-reach-end",!0,!0);Qn.initEvent("ps-y-reach-start",!0,!0);Rn.initEvent("ps-y-reach-end",!0,!0);var Xa=function(h,l,d){if("undefined"===typeof h)throw"You must provide an element to the update-scroll function";if("undefined"===typeof l)throw"You must provide an axis to the update-scroll function";
if("undefined"===typeof d)throw"You must provide a value to the update-scroll function";if("top"===l&&0>=d)h.scrollTop=0,h.dispatchEvent(Qn);else if("left"===l&&0>=d)h.scrollLeft=0,h.dispatchEvent(On);else{var a=Pa.get(h);"top"===l&&d>a.contentHeight-a.containerHeight?(h.scrollTop=a.contentHeight-a.containerHeight,h.dispatchEvent(Rn)):"left"===l&&d>a.contentWidth-a.containerWidth?(h.scrollLeft=a.contentWidth-a.containerWidth,h.dispatchEvent(Pn)):(Vf||(Vf=h.scrollTop),Wf||(Wf=h.scrollLeft),"top"===
l&&d<Vf&&h.dispatchEvent(In),"top"===l&&d>Vf&&h.dispatchEvent(Jn),"left"===l&&d<Wf&&h.dispatchEvent(Kn),"left"===l&&d>Wf&&h.dispatchEvent(Ln),"top"===l&&(h.scrollTop=Vf=d,h.dispatchEvent(Mn)),"left"===l&&(h.scrollLeft=Wf=d,h.dispatchEvent(Nn)))}};"use strict";var hc=function(h){var l=Pa.get(h);l.containerWidth=h.clientWidth;l.containerHeight=h.clientHeight;l.contentWidth=h.scrollWidth;l.contentHeight=h.scrollHeight;var d;h.contains(l.scrollbarXRail)||(d=F.queryChildren(h,".ps-scrollbar-x-rail"),0<
d.length&&d.forEach(function(a){F.remove(a)}),F.appendTo(l.scrollbarXRail,h));h.contains(l.scrollbarYRail)||(d=F.queryChildren(h,".ps-scrollbar-y-rail"),0<d.length&&d.forEach(function(a){F.remove(a)}),F.appendTo(l.scrollbarYRail,h));!l.settings.suppressScrollX&&l.containerWidth+l.settings.scrollXMarginOffset<l.contentWidth?(l.scrollbarXActive=!0,l.railXWidth=l.containerWidth-l.railXMarginWidth,l.railXRatio=l.containerWidth/l.railXWidth,l.scrollbarXWidth=Dm(l,K.toInt(l.railXWidth*l.containerWidth/
l.contentWidth)),l.scrollbarXLeft=K.toInt((l.negativeScrollAdjustment+h.scrollLeft)*(l.railXWidth-l.scrollbarXWidth)/(l.contentWidth-l.containerWidth))):(l.scrollbarXActive=!1,l.scrollbarXWidth=0,l.scrollbarXLeft=0,h.scrollLeft=0);!l.settings.suppressScrollY&&l.containerHeight+l.settings.scrollYMarginOffset<l.contentHeight?(l.scrollbarYActive=!0,l.railYHeight=l.containerHeight-l.railYMarginHeight,l.railYRatio=l.containerHeight/l.railYHeight,l.scrollbarYHeight=Dm(l,K.toInt(l.railYHeight*l.containerHeight/
l.contentHeight)),l.scrollbarYTop=K.toInt(h.scrollTop*(l.railYHeight-l.scrollbarYHeight)/(l.contentHeight-l.containerHeight))):(l.scrollbarYActive=!1,l.scrollbarYHeight=0,l.scrollbarYTop=0,Xa(h,"top",0));l.scrollbarXLeft>=l.railXWidth-l.scrollbarXWidth&&(l.scrollbarXLeft=l.railXWidth-l.scrollbarXWidth);l.scrollbarYTop>=l.railYHeight-l.scrollbarYHeight&&(l.scrollbarYTop=l.railYHeight-l.scrollbarYHeight);Qr(h,l);gb[l.scrollbarXActive?"add":"remove"](h,"ps-active-x");gb[l.scrollbarYActive?"add":"remove"](h,
"ps-active-y")};"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";var r=vj(Q),dk=vj(function(h,l,d){function a(a){var c=g,b=k;g=k=void 0;u=a;return n=h.apply(b,c)}function b(a){var c=a-s;a-=u;return void 0===s||c>=l||0>c||t&&a>=m}function c(){var a=Bh.Date.now();if(b(a))return f(a);var e=setTimeout,d=c,g;g=a-u;a=l-(a-s);g=t?Dt(a,m-g):a;q=e(d,g)}function f(c){q=void 0;if(p&&g)return a(c);g=k=void 0;
return n}function e(){var f=Bh.Date.now(),e=b(f);g=arguments;k=this;s=f;if(e){if(void 0===q)return u=f=s,q=setTimeout(c,l),x?a(f):n;if(t)return clearTimeout(q),q=setTimeout(c,l),a(s)}void 0===q&&(q=setTimeout(c,l));return n}var g,k,m,n,q,s,u=0,x=!1,t=!1,p=!0;if("function"!=typeof h)throw new TypeError("Expected a function");l=Gn(l)||0;bk(d)&&(x=!!d.leading,m=(t="maxWait"in d)?Ct(Gn(d.maxWait)||0,l):m,p="trailing"in d?!!d.trailing:p);e.cancel=function(){void 0!==q&&clearTimeout(q);u=0;g=s=k=q=void 0};
e.flush=function(){return void 0===q?n:f(Bh.Date.now())};return e}),ek=vj({initialize:function(h,l){l="object"===typeof l?l:{};gb.add(h,"ps-container");var d=Pa.add(h);d.settings=K.extend(d.settings,l);var a=Pa.get(h);Rr(h,a);a=Pa.get(h);Sr(h,a);Tr(h,a);a=Pa.get(h);Vr(h,a);a=Pa.get(h);Wr(h,a);d.settings.useSelectionScroll&&(a=Pa.get(h),Xr(h,a));if(K.env.supportsTouch||K.env.supportsIePointer){var a=K.env.supportsTouch,b=K.env.supportsIePointer,c=Pa.get(h);Yr(h,c,a,b)}d.settings.useKeyboard&&(d=Pa.get(h),
Ur(h,d));hc(h)},update:function(h){var l=Pa.get(h);l&&(l.negativeScrollAdjustment=l.isNegativeScroll?h.scrollWidth-h.clientWidth:0,F.css(l.scrollbarXRail,"display","block"),F.css(l.scrollbarYRail,"display","block"),l.railXMarginWidth=K.toInt(F.css(l.scrollbarXRail,"marginLeft"))+K.toInt(F.css(l.scrollbarXRail,"marginRight")),l.railYMarginHeight=K.toInt(F.css(l.scrollbarYRail,"marginTop"))+K.toInt(F.css(l.scrollbarYRail,"marginBottom")),F.css(l.scrollbarXRail,"display","none"),F.css(l.scrollbarYRail,
"display","none"),hc(h),F.css(l.scrollbarXRail,"display",""),F.css(l.scrollbarYRail,"display",""))},destroy:function(h){var l=Pa.get(h);l&&(l.event.unbindAll(),F.remove(l.scrollbarX),F.remove(l.scrollbarY),F.remove(l.scrollbarXRail),F.remove(l.scrollbarYRail),K.removePsClasses(h),Pa.remove(h))}}),Ra={FONT:{FAMILY:'"Helvetica Neue", Helvetica, Arial, sans-serif',SIZE:12,LOADING_TEST:{TEXT:"9",WIDTH:7,MAX_DELAY:1E3}},DOCUMENT_READY_MAX_DELAY:6E4,VIEWPORT_PADDING:10,EPSILON:1E-7,ELLIPSIS:"..."},Tc=function(){};
Tc.prototype.ready=function(){throw Error("Not implemented.");};Tc.prototype.getRenderer=function(h){throw Error("Not implemented.");};Tc.prototype.require=function(h){throw Error("Not implemented.");};Tc.prototype.getTextWidth=function(h,l){throw Error("Not implemented.");};Tc.prototype.getTruncatedText=function(h,l,d){throw Error("Not implemented.");};Tc.prototype.getRealFontSize=function(h){throw Error("Not implemented.");};Tc.prototype.isPointInStroke=function(h,l,d,a,b){throw Error("Not implemented.");
};Tc.prototype.fontInfo=function(){throw Error("Not implemented.");};var La=function(){};La.RENDER_BEGIN="renderBegin";La.RENDER_END="renderEnd";La.RENDER_SKIPPED="renderSkipped";La.SELECTION_CHANGED="selectionChanged";La.SORT="sort";La.MOUSE_CLICK="mouseClick";La.MOUSE_LEAVE="mouseLeave";La.MOUSE_ENTER_HOTSPOT="mouseEnterHotSpot";La.MOUSE_LEAVE_HOTSPOT="mouseLeaveHotSpot";La.MOUSE_ENTER_SHAPE="mouseEnterShape";La.MOUSE_LEAVE_SHAPE="mouseLeaveShape";La.LEGEND_MOUSE_CLICK="legend::mouseClick";La.LEGEND_MOUSE_ENTER_HOTSPOT=
"legend::mouseEnterHotSpot";La.LEGEND_MOUSE_LEAVE_HOTSPOT="legend::mouseLeaveHotSpot";La.KEY_DOWN="keyDown";La.KEY_UP="keyUp";La.ERROR="error";var p={SHAPE_KEY_SEPARATOR:"||",ROW_INTERNAL_KEY:"$$ROW_INTERNAL",SERIES_KEY:"__series__",NULL_KEY:"$$null",PERCENTAGE_INFO_KEY:"__%__",TIME_GRANULARITY:{MILLISECOND:"millisecond",SECOND:"second",MINUTE:"minute",HOUR:"hour",DAY:"day",WEEK:"week",SFDC_WEEK:"sfdcWeek",MONTH:"month",QUARTER:"quarter",YEAR:"year",WEEKYEAR:"weekYear",FISCAL_YEAR:"fiscalYear",FISCAL_QUARTER:"fiscalQuarter",
FISCAL_MONTH:"fiscalMonth",FISCAL_WEEK:"fiscalWeek"},COLUMN_TYPE:{DIMENSION:"dimension",MEASURE:"measure",TIME:"time",GEO:"geo"},TEXTURE:{FIT:{COVER:"cover",CONTAIN:"contain",FILL:"fill"}},ICON:{SIZE:30,TEXT_PADDING:4},GEOMAP_TYPE:{CHOROPLETH:"choropleth",BUBBLE:"bubble",CLUSTER:"cluster",LATLNG:"latlng",HEATMAP:"heatmap"},MAPSOURCE_TYPE:{GEOJSON:"geojson",PRESET_BOUNDARIES:"preset_boundaries",GEOJSON_POINTS:"geojson_points",LATLNG:"Latlng"},CHART_LAYOUT:{COLOR_TYPE:{BINS:"bins",CATEGORICAL:"categorical",
GRADIENT:"gradient",CONSTANT:"constant"},RADIUS_TYPE:{SQRT:"sqrt"},AXIS_TYPE:{NUMERIC:"numeric",TIME:"time",CATEGORICAL:"categorical"},STACK_TYPE:{BY_MEASURE:"by_measure",BY_DIMENSION:"by_dimension"},CONSTANT:"constant"},CELL:{IGNORED_PATTERN:/^\*.*/},FORMAT:{PERCENT:{AXIS:["#%",1],MEASURE:["#.##%",1]}},SCALE:{LINEAR:"linear",SQRT:"sqrt"},SELECTMODE:{SINGLE:"single",SINGLE_REQUIRED:"singlerequired",MULTI:"multi",MULTI_REQUIRED:"multirequired",RANGE:"range",NONE:"none"},VALUETYPE:{COMPACT_NUMBER:"compactNumber",
NUMBER:"number",PERCENT:"percent",NONE:"none"},CENTER_VALUE_TYPE:{NONE:"none",NUMBER:"number",COMPACT_NUMBER:"compactNumber",TEXT:"text"},TOTAL_SUM_MODE:{NONE:"none",ABSOLUTE:"absolute",NET:"net"},SELECT_ACTION:{SELECT:"select",SELECT_EXCLUSIVE:"selectExclusive",UNSELECT:"unselect",RESET:"reset"},SELECT_STATE:{NONE:0,TRUE:1,FALSE:2},HOVER_STATE:{NONE:0,TRUE:1,FALSE:2},AUTOFIT_MODE:{FIT:"fit",KEEP_LABELS:"keepLabels",SCROLL:"scroll"},AXIS_MODE:{SYNC:"sync",DUAL:"dual",MULTI:"multi"},CELL_RENDERER_TYPE:{DIMENSION:"dimension",
TIME:"time",MEASURE:"measure",TITLE:"title"},CHART_MODE:{CLUSTER:"cluster",STACK:"stack"},MARK_TYPE:{BAR:"bar",LINE:"line",DOT:"dot"},MISSING_VALUE:{CONNECT:"connect",DISCONNECT:"disconnect",CUMULATIVE:"cumulative",CUMULATIVE_UNTIL_LAST_DATA:"cumulativeUntilLastData"},ROWS_LAYOUT:{TABULAR:"tabular"},TITLE:{DEFAULT_FONT_SIZE:14,DEFAULT_SUBTITLE_FONT_SIZE:11,DEFAULT_ALIGN:"left",PADDING_BETWEEN_SUBTITLE:12,PADDING_BOTTOM:16},MIN_FONT_SIZE:10,TEXT_SIZE:12,PADDING:5,CELL_PADDING:5,SPACER:1,STACKBAR_TOTAL:{PADDING:5},
LINE_STYLE:{SOLID:"solid",DASHED:"dashed"},DASHED_LINE_SPACING:5,MARK:{LINE:{LINE_WIDTH:2,POINT_RADIUS:3,LABEL_SIZE:26,TIME_POINT_RADIUS:3,MIN_LINE_WIDTH:1,MIN_POINT_RADIUS:0,MIN_LABEL_SIZE:10,FILL_AREA_OPACITY:0.1},BAR:{SIZE:25,SPACER:1,MIN_SIZE:1,MIN_SPACER:0,MAX_WIDTH:110,TEXT_PADDING:2,TEXT_SIZE:12},POINT:{RADIUS:8,MIN_RADIUS:2,MAX_RADIUS:45,MIN_RATIO:0.1,MAX_RATIO:10},DOT:{OPACITY_POS_VALUE:0.7,OPACITY_NEG_VALUE:0.1},PIE:{INNER_RADIUS_PERCENT:70},POLAR_GAUGE:{INNER_RADIUS_PERCENT:80,TRACK_OPACITY:0.5},
SPARKLINE:{LABEL_WIDTH:50},GAUGE:{INNER_RADIUS_PERCENT:90,ANGLE:180,MIN_ANGLE:90,MAX_ANGLE:270,MIN_LABEL_SIZE:5}},AXIS:{NUM:{TICKMARK:{HORI_DISTANCE:100,VERTI_DISTANCE:50,MIN_DISTANCE:40},TICKLABEL:{PADDING:5},TITLE:{HEIGHT:20},X:{HEIGHT:20},Y:{WIDTH:40,PADDING:10}},LABELS:{MIN_COLUMN_SIZE:30,PADDING:{WIDE:5,SMALL:2},LAYOUT:{NORMAL:"normal",ORTHOGONAL:"orthogonal",SLANTED:"slanted",VERTICAL:"vertical",HIDDEN:"hidden"},TEXT:{SIZE:12,HALIGN:"right"},TITLE:{HEIGHT:20,SEPARATOR:" \x3e ",PADDING:{HORIZONTAL:2,
VERTICAL:4}}},TIME:{TITLE:{HEIGHT:20},FORMATS:{millisecond:"SSS",second:"ss",minute:"mm",hour:"h a",day:"dd",week:"'W'W",sfdcWeek:"sfdcWeek",month:"MMM",quarter:"'Q'q",year:"yyyy",weekYear:"kkkk",fiscalYear:"fiscalYear",fiscalQuarter:"fiscalQuarter",fiscalMonth:"fiscalMonth",fiscalWeek:"fiscalWeek"}}},TRELLIS:{HEADER:{HEIGHT:40,WIDTH:40,WRAP:27},DEFAULT_SIZE:[200,200],CELL_PADDING:30,CELL_PADDING_WRAP:25,CHARTS_PER_LINE:3,MAX_NUM_CELLS:100},SMALL_MULTIPLE:{CELL_PADDING:20},TREEMAP:{CELL_PADDING:5},
ORDER:{ASC:"asc",DESC:"desc"},LEGEND:{MIN_PADDING:0,VPAD:5,HPAD:5,PADDING:10,POSITION:"right-top",TEXT:{SIZE:12}},SORT:{TYPE:{ROWS:"rows",VALUES:"values"},ORDER:{ASC:"asc",DESC:"desc"}},GRADIENT_LEGEND:{GRADIENT:{WIDTH:12,MIN_WIDTH:12,MIN_RATIO:2},TEXT:{PADDING:5}},COLOR_LEGEND:{SWATCH:{PADDING:10,SIZE:12}},RADIAL_LEGEND:{MIN_RADIUS:13,BORDER:{WIDTH:1},TEXT:{SIZE:12,PADDING:12}},HOTSPOT:{COLOR:"#ffffff",HOVER_COLOR:"#ffffff",BG_COLOR:"#6b7273",HOVER_BG_COLOR:"#6b7273"},ANIM_DURATION:{DEFAULT:1E3,
RESIZE_DEBOUNCE:100,CROSSHAIR:50,HOVER:0,TAB:1,ONDEMAND_RENDER:100,IMAGE_LOADING_REDRAW:100},TOOLTIP:{LINE_TYPE:{MEASURE:"measure",DIMENSION:"dimension",PERCENT:"percent"},DEFAULT_DELAY:{SHOW:300,HIDE:100},INTERACTIVE_TOOLTIP_DELAY:{SHOW:1E3,HIDE:500}},CANVAS:{NO_EVENT_DURATION:500},COLOR_TYPE:{SIMPLE_COLOR:"simpleColor",LINEAR_GRADIENT:"linearGradient"},ACCESSIBILITY:{TYPE:{CAPTION:"caption",DATA:"captionData",AXIS:"axis"},CELL_TYPE:{DIMENSION:"dimension",MEASURE:"measure"},CAPTION_KEY:{TITLE:"Title",
SUBTITLE:"Subtitle",DIMENSION_AXIS_TITLE:"Dimension Axis Title",MEASURE_AXIS_TITLE:"Measure Axis Title",THEME_NAME:"Theme Name",REFERENCE_LINE:"Reference Line",ERROR:"Error",MAP_NAME:"Map Name",BREAKPOINTS:"Gauge Break Points",TOTAL:"Total"},ID_SEPARATOR:"$%.",INACTIVE_WAIT:500},PATCH:{INSERT:"insert",UPDATE:"update",REMOVE:"remove"},BRUSH:{CONTROL_POINT_LAYOUT:{HORIZONTAL:"horizontal",VERTICAL:"vertical"},CONTROL_POINT_SIZE:7,LAYER_TYPE:{DEFAULT:"default",TIME:"time"}},CURSOR_TYPE:{DEFAULT:"default",
EW_RESIZE:"ew-resize",NS_RESIZE:"ns-resize",MOVE:"move",POINTER:"pointer"},OPTIMIZATION:{MEASURE_LABEL_SIZE:500},DECORATION_LAYER_TYPE:{CROSSHAIR:"crosshair",DISCRETE_CROSSHAIR:"discreetCrosshair",TIME_CROSSHAIR:"timeCrosshair"},INTERACTION_DELEGATE_TYPE:{ANNOTATION:"annotation",BRUSH:"brush",CENTER:"center",CROSSHAIR:"crosshair",CURSOR:"cursor",CUSTOM:"custom",DISCRETE_CROSSHAIR:"discreteCrosshair",EVENT:"event",HIGHLIGHT:"highlight",RANGE:"range",SELECTION:"selection",TIME_CROSSHAIR:"timeCrosshair",
TOOLTIP:"tooltip"},INTERACTION_TYPE:{ANNOTATION:"annotation",COMMON:"common",DIMENSION_CROSSHAIR:"dimensionCrosshair",CUSTOM:"custom",HIGHLIGHT:"highlight",RANGE_SELECTION:"rangeSelection",SELECTION:"selection",SINGLE_SELECTION:"singleSelection",TAB:"tab",TIME_CROSSHAIR:"timeCrosshair",MULTI_SELECTION:"multiSelection",SPACE:"space"},TRANSFORM:{ROTATE:"rotate",FLIP_X:"flipX",FLIP_Y:"flipY"},SCORER_TYPE:{TRELLIS:"trellis",COLOR:"color",AXIS:"axis",CONTEXT:"context",POPULARITY:"popularity"},FEATURE_NAME:{TRELLIS:"trellis",
CATEGORICAL_COLOR:"categorical_color",GRADIENT_COLOR:"gradient_color",BIN_COLOR:"bin_color",X_TIME_AXIS:"x_time_axis",Y_TIME_AXIS:"y_time_axis",X_DIMENSION_AXIS:"x_dimension_axis",X_MEASURE_AXIS:"x_measure_axis",Y_DIMENSION_AXIS:"y_dimension_axis",Y_MEASURE_AXIS:"y_measure_axis",MULTI_METRIC:"multi_metric",SINGLE_METRIC:"single_metric",GEO_DATA:"geo_data",LAT_LNG:"lat_lng",FLOW_DIAGRAM:"flow_diagram",POPULARITY:"popularity"},UPDATE_STATE:{UPDATED:"updated",MODIFIED:"modified"},KEYBOARD_KEY:{TAB:"Tab",
ENTER:"Enter",SHIFT:"Shift",SPACE:"Space"},KEY_CODE:{SPACE:32},RENDER_STATUS:{OK:"ok",SKIPPED:"skipped"},RENDER_TYPE:{UPDATE:"update",INTERACTION:"interaction"},EVENT_NAME:La,RENDER_SKIPPED_REASON:{SUPERSEDED:"superseded",NOT_IN_VIEWPORT:"notInViewport",NO_CHANGE:"noChange"},UNDOCUMENTED_EVENTS:{LEGACY_SELECTION_CHANGED:"legacySelectionChanged",PERF_READY:"perfReady",MOUSE_UP:"mouseUp",MOUSE_DOWN:"mouseDown",MOUSE_MOVE:"mouseMove"},LOCALE:{DIR:{RTL:"rtl",LTR:"ltr"}},BOUND_TYPE:{REFLINE:"refline",
DATA:"data",CUSTOM:"custom"}},Ce=function(){this.localeDir=""};Ce.prototype.setLocaleDirection=function(h){this.localeDir=h.toLowerCase();return this};Ce.prototype.getLocaleDirection=function(){return this.localeDir};Ce.prototype.isRTL=function(){return"rtl"===this.localeDir};Ce.prototype.setLocale=function(h){this.locale=h;return this};Ce.prototype.getLocale=function(){return this.locale};var Db=new Ce,Uc={rotate:function(h,l){if(l){var d=l.x,a=l.y,b=l.angle,c=h[0],f=h[1];if(b){var c=c-d,f=f-a,e=
Math.cos(b),b=Math.sin(b);return[d+e*c-b*f,a+b*c+e*f]}return[c,f]}return h},centroid:function(h){var l=this.area(h);if(0===l)return[0,0];for(var d=h.length,a=0,b=0,c=0,f=d-1;c<d;)var e=h[c],f=h[f],g=e[0]*f[1]-f[0]*e[1],a=a+(e[0]+f[0])*g,b=b+(e[1]+f[1])*g,f=c,c=c+1;l*=6;return[a/l,b/l]},area:function(h){for(var l=h.length,d=0,a=0,b=l-1;a<l;)var c=h[a],b=h[b],d=d+c[0]*b[1],d=d-c[1]*b[0],b=a,a=a+1;return d/2},multiPolygonCentroid:function(h){var l=this,d=-Infinity,a=h[0];h.forEach(function(b){var c=
Math.abs(l.area(b[0]));if(c>d)return d=c,a=b});return this.centroid(a[0])}},fb=function(h){null==h&&(h={});var l=h.right,d=h.bottom,a=h.left;this.top=this._sanitizePad(h.top);this.right=this._sanitizePad(l);this.bottom=this._sanitizePad(d);this.left=this._sanitizePad(a)};fb.prototype.rotate=function(h){null==h&&(h={});h=h.isCW;null==h&&(h=!1);h?(h=[this.top,this.right,this.bottom,this.left],this.right=h[0],this.bottom=h[1],this.left=h[2],this.top=h[3]):(h=[this.top,this.right,this.bottom,this.left],
this.left=h[0],this.top=h[1],this.right=h[2],this.bottom=h[3]);return this};fb.prototype.flipX=function(){var h;h=[this.left,this.right];this.right=h[0];this.left=h[1];return this};fb.prototype.flipY=function(){var h;h=[this.top,this.bottom];this.bottom=h[0];this.top=h[1];return this};fb.prototype._sanitizePad=function(h){return r.isNumber(h)&&r.isFinite(h)?Math.max(h,0):0};fb.prototype.toJson=function(){return{top:this.top,right:this.right,bottom:this.bottom,left:this.left}};fb.fromJson=function(h){return new fb(h)};
var fk={escape:function(h){return h.replace(/('|\\)/g,"\\$1")},repeat:function(h,l){return Array(l+1).join(h)},leftPad:function(h,l,d){null==d&&(d=" ");for(h=h.toString();h.length<l;)h=d+h;return h},reverse:function(h){var l,d="";if(l=h.length)for(;l--;)d+=h.charAt(l);return d}},Xf={TYPE:{RGB:0,GRADIENT:1},type:function(h){return"gradient"===(null!=h?h.type:void 0)?this.TYPE.GRADIENT:this.TYPE.RGB},dimColor:function(h,l,d){if(null===h||void 0===h||"transparent"===h)return h;switch(this.type(h)){case this.TYPE.GRADIENT:var a=
h.high;return{type:"gradient",low:this.dimColor(h.low,l,d),high:this.dimColor(a,l,d)};case this.TYPE.RGB:return h=this.rgb(h),h.r=Math.round(h.r*l),h.g=Math.round(h.g*l),h.b=Math.round(h.b*l),d&&(l=this.rgb(d),h.r+=l.r,h.g+=l.g,h.b+=l.b),255<h.r&&(h.r=255),255<h.g&&(h.g=255),255<h.b&&(h.b=255),h.toString()}},rgbToHsl:function(h,l,d){var a,b;h/=255;l/=255;d/=255;var c=Math.max(h,l,d);a=Math.min(h,l,d);var f=(c+a)/2;if(c===a)a=b=0;else{var e=c-a;b=0.5<f?e/(2-c-a):e/(c+a);a=function(){switch(c){case h:return(l-
d)/e+(l<d?6:0);case l:return(d-h)/e+2;case d:return(h-l)/e+4}}();a*=60}return{h:a,s:b,l:f}},toGrayscale:function(h){switch(this.type(h)){case this.TYPE.GRADIENT:var l=h.high;return{type:"gradient",low:this.toGrayscale(h.low),high:this.toGrayscale(l)};case this.TYPE.RGB:return h=this.rgb(h),h=Math.round(51+0.8*(0.21*h.r+0.71*h.g+0.07*h.b)),this.rgbToHex(h,h,h)}},rgbToHex:function(h,l,d){h=fk.leftPad(h.toString(16),2,"0");l=fk.leftPad(l.toString(16),2,"0");d=fk.leftPad(d.toString(16),2,"0");return"#"+
h+l+d},rgb:function(h){if(h){var l,d,a;switch(this.type(h)){case this.TYPE.GRADIENT:return l=h.high,{type:"gradient",low:this.rgb(h.low),high:this.rgb(l)};case this.TYPE.RGB:if("#"===h[0]){if(4===h.length)a=(d=h[1])+d,l=(d=h[2])+d,h=(d=h[3])+d;else if(7===h.length)a=h.slice(1,3),l=h.slice(3,5),h=h.slice(5,7);else{console.error("rgb, unknown color",h);break}a=parseInt(a,16);l=parseInt(l,16);h=parseInt(h,16)}else if(d=h.replace(/ /g,"").match(/rgb\((\d+),(\d+),(\d+)\)/))a=d[1],l=d[2],h=d[3],a=parseInt(a,
10),l=parseInt(l,10),h=parseInt(h,10);else{console.error("rgb, unknown color",h);break}return{r:a,g:l,b:h,toString:function(){return Xf.rgbToHex(this.r,this.g,this.b)}}}}else console.error("rgb, unknown color",h)}},Fh=p.COLOR_TYPE,Ft=Xf.rgbToHex,Sn=Xf.rgbToHsl,Gt=1/4.5,E=function l(d){this._colorRGBA="string"===typeof d?this._round(l.fromStringToColor(d)):this._round(d)};E.prototype._round=function(l){return{r:Math.round(l.r),g:Math.round(l.g),b:Math.round(l.b),a:null!=l.a?l.a:1}};E.fromStringToColor=
function(l){var d;r.find([E.fromHex,E.fromRGBString,E.fromRGBAString],function(a){return d=a(l)});return d||{r:0,g:0,b:0,a:1}};E.fromHex=function(l){l=l.toLowerCase();var d=l.match(E.HexFormat),a;if((4===l.length||7===l.length)&&d){var b,c,f;4===l.length?(b=l[1]+l[1],c=l[2]+l[2],f=l[3]+l[3]):7===l.length&&(b=l[1]+l[2],c=l[3]+l[4],f=l[5]+l[6]);a={r:parseInt(b,16),g:parseInt(c,16),b:parseInt(f,16),a:1}}return a};E.fromRGBString=function(l){l=l.toLowerCase().match(E.RGBFormat);var d;l&&(d={r:Math.min(255,
parseInt(l[1])),g:Math.min(255,parseInt(l[2])),b:Math.min(255,parseInt(l[3])),a:1});return d};E.fromRGBAString=function(l){l=l.toLowerCase().match(E.RGBAFormat);var d;l&&(d={r:Math.min(255,parseInt(l[1])),g:Math.min(255,parseInt(l[2])),b:Math.min(255,parseInt(l[3])),a:Math.min(1,parseFloat(l[4]))});return d};E.prototype._linearInterpolate=function(l,d,a){return l*(1-a)+d*a};E.prototype._toColorWithSimpleColor=function(l,d){var a=l.toRGBA(),b=a.g,c=a.b,f=a.a;return new E({r:this._linearInterpolate(this._colorRGBA.r,
a.r,d),g:this._linearInterpolate(this._colorRGBA.g,b,d),b:this._linearInterpolate(this._colorRGBA.b,c,d),a:this._linearInterpolate(this._colorRGBA.a,f,d)})};E.prototype._toColorWithLinearGradient=function(l,d){return l.toColor(this,1-d)};E.prototype._mixColorWithSimpleColor=function(l){l=l.toRGBA();var d=l.g,a=l.b,b=l.a;return new E({r:Math.min(255,this._colorRGBA.r+l.r),g:Math.min(255,this._colorRGBA.g+d),b:Math.min(255,this._colorRGBA.b+a),a:Math.min(1,this._colorRGBA.a+b)})};E.prototype._mixColorWithLinearGradient=
function(l){return l.mixColor(this)};E.prototype._isEqualToSimpleColor=function(l){l=l.toRGBA();var d=l.g,a=l.b,b=l.a,c=this._colorRGBA,f=c.g,e=c.b,g=c.a;return l.r===c.r&&d===f&&a===e&&b===g};E.prototype._isEqualToLinearGradientColor=function(l){return l.isEqual(this)};E.prototype.getType=function(){return Fh.SIMPLE_COLOR};E.prototype.toColor=function(l,d){void 0===d&&(d=1);var a=this._toColorWithSimpleColor;switch(l.getType()){case Fh.LINEAR_GRADIENT:a=this._toColorWithLinearGradient}return a.call(this,
l,d)};E.prototype.toGreyscale=function(){var l=this._colorRGBA,d=l.a,l=Math.round(51+0.8*(0.21*l.r+0.71*l.g+0.07*l.b));return new E({r:l,g:l,b:l,a:d})};E.prototype.dimColor=function(l){var d=this._colorRGBA,a=d.g,b=d.b,c=d.a,d=Math.min(255,Math.round(d.r*l)),a=Math.min(255,Math.round(a*l));l=Math.min(255,Math.round(b*l));return new E({r:d,g:a,b:l,a:c})};E.prototype.adjustOpacity=function(l){var d=this._colorRGBA,a=d.r,b=d.g,c=d.b;l=Math.max(0,Math.min(1,d.a*l));return new E({r:a,g:b,b:c,a:l})};E.prototype.toOpaque=
function(){var l=this._colorRGBA;return new E({r:l.r,g:l.g,b:l.b,a:1})};E.prototype.mixColor=function(l){var d=this._mixColorWithSimpleColor;switch(l.getType()){case Fh.LINEAR_GRADIENT:d=this._mixColorWithLinearGradient}return d.call(this,l)};E.prototype.luminance=function(l){l=[l.r,l.g,l.b].map(function(d){d/=255;return 0.03928>=d?d/12.92:Math.pow((d+0.055)/1.055,2.4)});return 0.2126*l[0]+0.7152*l[1]+0.0722*l[2]};E.prototype.colorContrastRatio=function(l,d){var a=this.luminance(l),b=this.luminance(d);
return b>a?(a+0.05)/(b+0.05):(b+0.05)/(a+0.05)};E.prototype.toHighContrast=function(l,d){return this.colorContrastRatio(l.toRGB(),this.toRGB())<Gt?l:d};E.prototype.isEqual=function(l){return!l?!1:l.getType()===Fh.SIMPLE_COLOR?this._isEqualToSimpleColor(l):this._isEqualToLinearGradientColor(l)};E.prototype.reverse=function(){return this};E.prototype.toHex=function(){var l=this._colorRGBA;return Ft(l.r,l.g,l.b)};E.prototype.toRGB=function(){var l=this._colorRGBA;return{r:l.r,g:l.g,b:l.b}};E.prototype.toRGBString=
function(){var l=this._colorRGBA;return"rgb("+l.r+","+l.g+","+l.b+")"};E.prototype.toHSLA=function(){var l=this._colorRGBA,d=l.a;return r.extend(Sn(l.r,l.g,l.b),{a:d})};E.prototype.toHSL=function(){var l=this._colorRGBA;return Sn(l.r,l.g,l.b)};E.prototype.toRGBA=function(){return this._colorRGBA};E.prototype.toRGBAString=function(){var l=this._colorRGBA;return"rgba("+l.r+","+l.g+","+l.b+","+l.a+")"};E.prototype.toString=function(){return this.toRGBAString()};E.prototype.toJSON=function(){return this.toRGBAString()};
E.RGBFormat=/rgb\(([\d| ]+),([\d| ]+),([\d| ]+)\)/;E.RGBAFormat=/rgba\(([\d| ]+),([\d| ]+),([\d| ]+),([\d(.\d*)?| ]+)\)/;E.HSLFormat=/hsl\((\d+),(\d+),(\d+)\)/;E.HexFormat=/^#([0-9|a-f|A-F])*$/;var De=function(l,d){var a,b="";for(a=0;a<l.length;a++)b="string"===typeof l[a]?b+l[a]:b+l[a].source;return RegExp(b,d)},Em=/.*gradient\s*\(((?:\([^\)]*\)|[^\)\(]*)*)\)/,Af=function(){var l=/\s*,\s*/,d=/(?:[+-]?\d*\.?\d+)(?:%|[a-z]+)?/,a=De(["(?:",/\#(?:[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/,"|","(?:rgb|hsl)",/\(\s*(?:[0-9]{1,3}\s*,\s*){2}[0-9]{1,3}\s*\)/,
"|","(?:rgba|hsla)",/\(\s*(?:[0-9]{1,3}\s*,\s*){3}[0-9|\.]+\s*\)/,"|",/[_A-Za-z-][_A-Za-z0-9-]*/,")"],""),b=De([a,"(?:\\s+",d,")?"],""),b=De(["(?:",b,l,")*",b],""),c=De(["(?:(",/(?:[+-]?\d*\.?\d+)(?:deg|grad|rad|turn)/,")|",/to\s+((?:(?:left|right|top|bottom)(?:\s+(?:left|right))?))/,")"],""),b=De(["(",c,")",l,"(",b,")"],"gi"),l=De(["\\s*(",a,")","(?:\\s+","(",d,"))?","(?:",l,"\\s*)?"],"gi");return{gradientSearch:b,colorStopSearch:l}}(),Gh=p.COLOR_TYPE,C=function d(a){a&&"object"===typeof a&&a.low&&
a.high&&!Array.isArray(a)?(this._colorStops=[[a.low,0],[a.high,1]],this._direction=0):("string"===typeof a&&(a=d.fromStringToColor(a)),this._colorStops=a[0],this._direction=a[1])};C.fromStringToColor=function(d){var a=Zr(d);a?(d=C._parseDirection(a.line)||0,a=C._setDefaultColorSteps(a.colorStopList.map(C._parseColorStop))):(a=[[new E({r:0,g:0,b:0,a:1}),0]],d=0);return[a,d].filter(function(a){return null!=a})};C._parseDirection=function(d){var a=C.DirectionMap[d];return null==a?parseInt(d):a};C._parseColorStop=
function(d){return[new E(d.color),null==d.position?null:parseFloat(d.position)/100]};C._setDefaultColorSteps=function(d){for(var a=d.length,b=1/(a-1),c=0;c<a;++c){var f=d[c];f[1]=0===c?0:c===a-1?1:null==f[1]?b*c:f[1]}return d};C.prototype._toColorWithSimpleColor=function(d,a){return new C([this._colorStops.map(function(b){return[b[0].toColor(d,a),b[1]]}),this._direction])};C.prototype._toColorWithLinearGradient=function(d,a){for(var b=this._colorStops,c=d.getColorStops(),f=C._unionSteps(b.map(function(a){return a[1]}),
c.map(function(a){return a[1]})),b=C._interpolateMissingStops(b,f),c=C._interpolateMissingStops(c,f),e=[],g=0;g<f.length;++g)e.push([b[g][0].toColor(c[g][0],a),f[g]]);return new C([e,C._interpolate(0,this._direction,1,d.getDirection(),a)])};C.prototype._mixColorWithSimpleColor=function(d){return new C([this._colorStops.map(function(a){return[a[0].mixColor(d),a[1]]}),this._direction])};C.prototype._mixColorWithLinearGradient=function(d){var a=d.getColorStops(),b=this._colorStops;d=C._unionSteps(a.map(function(a){return a[1]}),
b.map(function(a){return a[1]}));for(var a=C._interpolateMissingStops(a,d),b=C._interpolateMissingStops(b,d),c=[],f=0;f<d.length;++f)c.push([a[f][0].mixColor(b[f][0]),d[f]]);return new C([c,this._direction])};C._unionSteps=function(d,a){for(var b=d.length,c=a.length,f=0,e=0,g=[];f<b||e<c;){var k=d[f],m=a[e];f===b?f++:e===c?e++:k<m?(f++,g.push(k)):k>m?(e++,g.push(m)):(f++,e++,g.push(k))}return g};C._interpolateMissingStops=function(d,a){var b=d.length,c=a.length,f=[];if(c<=b)return d;for(var e=0,g=
0;g<c;){var k=a[g];if((e===b?1:d[e][1])===k)f.push([(e===b?d[e-1]:d[e])[0],k]),e++;else{var m=d[e-1],n=d[e];f.push([C._interpolateColor(m[1],m[0],n[1],n[0],k),k])}g++}return f};C._interpolateColor=function(d,a,b,c,f){a=a.toRGBA();c=c.toRGBA();return new E({r:C._interpolate(d,a.r,b,c.r,f),g:C._interpolate(d,a.g,b,c.g,f),b:C._interpolate(d,a.b,b,c.b,f),a:C._interpolate(d,a.a,b,c.a,f)})};C._interpolate=function(d,a,b,c,f){return d===b||null==b?a:(f-d)*((c||0)-a)/(b-d)+a};C.prototype._getGradientObject=
function(d,a){var b=a.x0,c=a.y0,f=a.x1,e=a.y1,g,k=this._colorStops;0<f?g=d.createLinearGradient(b,c,f,e):(g=d.createLinearGradient(b,c,-f,e),k=k.reverse());k.forEach(function(a){return g.addColorStop(a[1],a[0].toRGBAString())});return g};C.prototype._isEqualToSimpleColor=function(d){return this.getColorStops().reduce(function(a,b){return a&&b[0].isEqual(d)},!0)};C.prototype._isEqualToLinearGradientColor=function(d){var a=d.getColorStops(),b=this._colorStops;d=C._unionSteps(a.map(function(a){return a[1]}),
b.map(function(a){return a[1]}));for(var a=C._interpolateMissingStops(a,d),b=C._interpolateMissingStops(b,d),c=0;c<d.length;++c)if(!a[c][0].isEqual(b[c][0]))return!1;return!0};C.prototype.getPaletteColors=function(d,a){void 0===a&&(a=!0);var b=this.getColorStops(),c=this.getDirection(),f=b[0][0],b=b[b.length-1][0],e,g=[];for(e=0;e<d;e++){var k=C._interpolateColor(0,f,1,b,e/d),m=C._interpolateColor(0,f,1,b,(e+1)/d);a?g.push(new C([[[k,0],[m,1]],c])):g.push(k)}return g};C.prototype.getType=function(){return Gh.LINEAR_GRADIENT};
C.prototype.toColor=function(d,a){void 0===a&&(a=1);var b=this._toColorWithSimpleColor;switch(d.getType()){case Gh.LINEAR_GRADIENT:b=this._toColorWithLinearGradient}return b.call(this,d,a)};C.prototype.toGreyscale=function(){return new C([this._colorStops.map(function(d){return[d[0].toGreyscale(),d[1]]}),this._direction])};C.prototype.dimColor=function(d){return new C([this._colorStops.map(function(a){return[a[0].dimColor(d),a[1]]}),this._direction])};C.prototype.adjustOpacity=function(d){return new C([this._colorStops.map(function(a){return[a[0].adjustOpacity(d),
a[1]]}),this._direction])};C.prototype.toOpaque=function(){return new C([this._colorStops.map(function(d){return[d[0].toOpaque(),d[1]]}),this._direction])};C.prototype.mixColor=function(d){var a=this._mixColorWithSimpleColor;switch(d.getType()){case Gh.LINEAR_GRADIENT:a=this._mixColorWithLinearGradient}return a.call(this,d)};C.prototype.getColorStops=function(){return this._colorStops};C.prototype.getDirection=function(){return this._direction};C.prototype.toHighContrast=function(d,a){return this._colorStops[this._colorStops.length-
1][0].toHighContrast(d,a)};C.prototype.toRepresentativeColor=function(){return this._colorStops[0][0]};C.prototype.interpolate=function(){var d=this._colorStops;return C._interpolateColor(0,d[0][0],1,d[d.length-1][0],0.5)};C.prototype.isEqual=function(d){return d?d.getType()===Gh.SIMPLE_COLOR?this._isEqualToSimpleColor(d):this._isEqualToLinearGradientColor(d):!1};C.prototype.reverse=function(){return new C([[[this._colorStops[1][0],0],[this._colorStops[0][0],1]],this._direction])};C.prototype.toHex=
function(){return this.toRepresentativeColor().toHex()};C.prototype.toRGB=function(){return this.toRepresentativeColor().toRGB()};C.prototype.toRGBString=function(){return this.toRepresentativeColor().toRGBString()};C.prototype.toRGBA=function(){return this.toRepresentativeColor().toRGBA()};C.prototype.toRGBAString=function(){return this.toRepresentativeColor().toRGBAString()};C.prototype._stringify=function(){return"linear-gradient("+this._direction+"deg, "+this._colorStops.map(function(d){return d[0].toString()+
" "+100*d[1]+"%"}).join(",")+")"};C.prototype.toString=function(){return this._stringify()};C.prototype.toJSON=function(){return this._stringify()};C.DirectionMap={};[["to right",0],["tp bottom right",45],["to bottom",90],["to bottom left",135],["to left",180],["to top left",225],["to top",270],["to top right",315]].forEach(function(d){return C.DirectionMap[d[0]]=d[1]});var Tn=p.COLOR_TYPE,gk=null,hk=function(){};hk.prototype.getColor=function(d){if(d&&Array.isArray(d)){var a=d.length;d=d.map(function(b,
c){return[new E(b),c/(a-1)]});return new C([d,0])}return r.isString(d)&&d.match(Em)?new C(d):new E(d)};hk.prototype.isColor=function(d){return d&&d.getType&&(d.getType()===Tn.SIMPLE_COLOR||d.getType()===Tn.LINEAR_GRADIENT)};var Od={getInstance:function(){null==gk&&(gk=new hk);return gk}},A={debounce:dk,setFromValues:function(d){if(!d)return{};var a={};d.forEach(function(b){return a[b]=b});return a},intersection:function(d,a){if(null==d||null==a)return[];var b=this.setFromValues(d);return a.filter(function(a){return null!=
b[a]})},deepCopy:function(d){return d?JSON.parse(JSON.stringify(d)):d},deepEqual:function(d,a){return d===a?!0:JSON.stringify(d)===JSON.stringify(a)},ensureArray:function(d){return r.isArray(d)?d:[d]},extendDeep:function(d){for(var a=this,b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];b.forEach(function(c){for(var b in c){var g=c[b],k=d[b];a.isPlainObject(k)&&a.isPlainObject(g)?a.extendDeep(k,g):d[b]=g}});return d},defaultsDeep:function(d,a){var b=this;r.keys(a).forEach(function(c){var f=d[c],
e=a[c];!r.has(d,c)||void 0===f?d[c]=e:b.isPlainObject(f)&&b.isPlainObject(e)?b.defaultsDeep(f,e):r.isArray(f)&&r.isArray(e)&&f.forEach(function(a,c){b.isPlainObject(a)&&b.isPlainObject(e[c])&&b.defaultsDeep(a,e[c])})});return d},repeat:function(d,a){return String.prototype.repeat?d.repeat(a):Array(a+1).join(d)},isPlainObject:function(d){return r.isObject(d)&&!r.isArray(d)&&!r.isString(d)},camelCase:function(d){return d.replace(/\W+(.)/g,function(a,b){return b.toUpperCase()})},difference:function(d,
a){var b=d.reduce(function(a,b){a[b]=!0;return a},{});a.forEach(function(a){b[a]&&delete b[a]});return Object.keys(b)},notIntersect:function(d,a){var b=[];r.keys(d).forEach(function(c){null==a[c]&&b.push(d[c])});r.keys(a).forEach(function(c){null==d[c]&&b.push(a[c])});return b},uniq:function(d,a){if(r.isArray(d)){a=a||function(a){return a};var b={},c=[];d.forEach(function(f){var e=a(f);void 0===b[e]&&(b[e]=!0,c.push(f))});return c}return d},zip:function(){for(var d=[],a=arguments.length;a--;)d[a]=
arguments[a];return d[0].map(function(a,c){return d.map(function(a){return a[c]})})},partition:function(d,a){var b=[],c=[];d.forEach(function(f){return a(f)?b.push(f):c.push(f)});return[b,c]},findIndex:function(d,a){for(var b=0;b<d.length;b++)if(a(d[b]))return b;return-1},countBy:function(d){var a={};d.forEach(function(b){var c=a[b];a[b]=void 0!==c?c+1:1});return a},groupBy:function(d,a){var b={};d.forEach(function(c){var f=a(c),e=b[f];e||(e=b[f]=[]);e.push(c)});return b},includes:function(d,a){return-1!==
d.indexOf(a)},range:function(d,a,b){void 0===b&&(b=!1);var c=[],f=d<a;for(a=!b?a:f?a+1:a-1;f?d<a:d>a;f?d++:d--)c.push(d);return c},flow:function(d){return function(){for(var a=arguments,b=void 0,c=0;c<d.length;c++)b=d[c].apply(null,a),a=[b];return b}},closestIndex:function(d,a){if(!d.length)return-1;for(var b=0,c=d.length-1;b<=c;){var f=b+(c-b>>>1),e=d[f];if(e===a)return f;e<a?b=f+1:c=f-1}return-1===c?b:b===d.length?c:Math.abs(a-d[c])<Math.abs(a-d[b])?c:b},k_combinations:function(d,a){var b,c,f,e,
g;if(a>d.length||0>=a)return[];if(a===d.length)return[d];if(1===a){f=[];for(b=0;b<d.length;b++)f.push([d[b]]);return f}f=[];for(b=0;b<d.length-a+1;b++){e=d.slice(b,b+1);g=this.k_combinations(d.slice(b+1),a-1);for(c=0;c<g.length;c++)f.push(e.concat(g[c]))}return f},differenceWithKey:function(d,a){if(!a.length)return d;var b=a.reduce(function(a,b){a[b.key]=!0;return a},{});return d.filter(function(a){return!b.hasOwnProperty(a.key)})}},Ht=A.deepCopy,Un=Uc.rotate,D=function(d){d=this._convertToXYWH(d);
this.x=d.x;this.y=d.y;this.w=d.w;this.h=d.h;this.rotation=d.rotation;this._sanitize()};D.initClass=function(){this.prototype.x=0;this.prototype.y=0;this.prototype.w=0;this.prototype.h=0;this.prototype.rotation=null};D.boundingBox=function(d){var a,b,c,f;d=r.filter(d,r.identity);if(0===d.length)return null;var e=Infinity,g=Infinity,k=-Infinity,m=-Infinity;d.forEach(function(d){c=d.x;f=d.y;b=d.w;a=d.h;c<e&&(e=c);f<g&&(g=f);c+b>k&&(k=c+b);f+a>m&&(m=f+a)});return new D({x:e,y:g,w:k-e,h:m-g})};D.scaleFactorToFit=
function(d,a){var b=d[0],c=d[1],f=a[0],e=a[1];return f/e>b/c?e/c:f/b};D.prototype.getCenter=function(){return[this.x+this.w/2,this.y+this.h/2]};D.prototype.getRelativeBox=function(d,a){a=this._sanitizeNumber(a);var b=a/2,c=this.getCenter(),f=c[0],c=c[1];switch(d){case "top":f=[f-b,this.y];b=f[0];f=f[1];break;case "bottom":f=[f-b,this.y+this.h-a];b=f[0];f=f[1];break;case "left":f=[this.x,c-b];b=f[0];f=f[1];break;default:f=[this.x+this.w-a,c-b],b=f[0],f=f[1]}return new D({x:b,y:f,w:a,h:a,rotation:this.rotation})};
D.prototype._convertToXYWH=function(d){if(null!=d.left){var a,b,c,f;b=d.left;c=d.right;f=d.top;a=d.bottom;d=d.rotation;return{x:b,y:f,w:c-b,h:a-f,rotation:d}}return null!=d.x0?(a=d.x0,c=d.y0,b=d.x1,f=d.y1,d=d.rotation,{x:a,y:c,w:b-a,h:f-c,rotation:d}):d};D.prototype._toFixed2=function(d){return Math.round(100*d)/100};D.prototype.clone=function(){return new D(this.toJson())};D.prototype.toArray=function(){return[this._toFixed2(this.x),this._toFixed2(this.y),this._toFixed2(this.w),this._toFixed2(this.h)]};
D.prototype.toJson=function(){return this.hasRotation()?{x:this.x,y:this.y,w:this.w,h:this.h,rotation:Ht(this.rotation)}:{x:this.x,y:this.y,w:this.w,h:this.h}};D.prototype.toVertices=function(d){var a=this;null==d&&(d=!0);var b=[[this.x,this.y],[this.x+this.w,this.y],[this.x,this.y+this.h],[this.x+this.w,this.y+this.h]];this.hasRotation()&&d&&(b=b.map(function(c){return Un(c,a.rotation)}));return b};D.prototype.toAABB=function(){if(this.hasRotation()){for(var d=this.toVertices(),a=d[0][0],b=d[0][0],
c=d[0][1],f=d[0][1],e=1;4>e;++e){var g=d[e],k=g[0],g=g[1];k<a&&(a=k);k>b&&(b=k);g<c&&(c=g);g>f&&(f=g)}return new D({x:a,y:c,w:b-a,h:f-c})}return this};D.prototype.contains=function(d,a){if(this.hasRotation()){var b;b=Un([d,a],{x:this.rotation.x,y:this.rotation.y,angle:-this.rotation.angle});d=b[0];a=b[1]}return d>=this.x&&d<=this.x+this.w&&a>=this.y&&a<=this.y+this.h};D.prototype.hasRotation=function(){return null!=this.rotation?this.rotation.angle:void 0};D.prototype.offset=function(d,a){this.x+=
d;this.y+=a;this.hasRotation()&&(this.rotation.x+=d,this.rotation.y+=a);return this};D.prototype.padBy=function(d){null==d&&(d={});var a=d.top,b=d.right,c=d.bottom;d=d.left;a&&this._padTop(a);b&&this._padRight(b);c&&this._padBottom(c);d&&this._padLeft(d);return this};D.prototype.padAll=function(d){if(!d)return this;this._padTop(d);this._padRight(d);this._padBottom(d);return this._padLeft(d)};D.prototype._padTop=function(d){null==d&&(d=0);this.h+=d;this.y-=d;return this};D.prototype._padBottom=function(d){null==
d&&(d=0);this.h+=d;return this};D.prototype._padLeft=function(d){null==d&&(d=0);this.w+=d;this.x-=d;return this};D.prototype._padRight=function(d){null==d&&(d=0);this.w+=d;return this};D.prototype._sanitizeNumber=function(d){return r.isNumber(d)?d:0};D.prototype._sanitize=function(){this.x=this._sanitizeNumber(this.x);this.y=this._sanitizeNumber(this.y);this.w=this._sanitizeNumber(this.w);this.h=this._sanitizeNumber(this.h);0>this.w&&(this.x+=this.w,this.w=-this.w);0>this.h&&(this.y+=this.h,this.h=
-this.h);return this};D.prototype.intersect=function(d,a,b,c){return"object"!==typeof d?this._intersect1D(this.x,this.w,d,b)&&this._intersect1D(this.y,this.h,a,c):this._intersect1D(this.x,this.w,d.x,d.w)&&this._intersect1D(this.y,this.h,d.y,d.h)};D.prototype._intersect1D=function(d,a,b,c){0>a&&(d=d+a+1,a=-a);0>c&&(b=b+c+1,c=-c);return this._intersect1DNormalized(d,a,b,c)};D.prototype._intersect1DNormalized=function(d,a,b,c){return!(d+a-1<b||b+c-1<d)};D.prototype.intersectLine=function(d,a,b,c){for(var f=
this.x,e=this.y,g=this.w,k=this.h,m=[[f,e],[f+g-1,e],[f+g-1,e+k-1],[f,e+k-1]],n=!0,q=1,s=0;4>s;s++){var u=this._isAboveLine(d,a,b,c,m[s][0],m[s][1]);if(0===u)return!0;if(0===s)q=+(0<u);else if(q^1===+(0<u)){n=!1;break}}if(n)return!1;m=0<=g?f:f+g+1;f=0<=g?f+g-1:f;g=0<=k?e:e+k+1;e=0<=k?e+k-1:e;return!(d<m&&b<m||d>f&&b>f||a<g&&c<g||a>e&&c>e)};D.prototype._isAboveLine=function(d,a,b,c,f,e){return(c-a)*f+(d-b)*e+(b*a-d*c)};D.prototype.overflow=function(d){var a=this._overflow1D(this.x,this.w,d.x,d.w),
b=this._overflow1D(this.y,this.h,d.y,d.h);return this.intersect(d)&&(a||b)?{left:a&&a.left,right:a&&a.right,top:b&&b.left,bottom:b&&b.right}:null};D.prototype._overflow1D=function(d,a,b,c){a=d+a-1;c=b+c-1;return a<b||c<d||b>d&&c<a?null:{left:b<=d?b-d:null,right:c>=a?c-a:null}};D.initClass();var Ee,wj,Vn,yc=function(){};yc.init=function(d){var a=d.scriptEvaluatorFct;Ee=d.delegate;wj=a;Vn=new yc};yc.getInstance=function(){return Vn};yc.prototype.getTextWidth=function(d,a){return Ob(Ee.getTextWidth(Ob(d),
Ob(a)))};yc.prototype.getTruncatedText=function(d,a,b){return Ob(Ee.getTruncatedText(Ob(d),Ob(a),Ob(b)))};yc.prototype.getRealFontSize=function(d){return Ob(Ee.getRealFontSize(Ob(d)))};yc.prototype.fontInfo=function(){return Ob(Ee.fontInfo())};yc.prototype.require=function(d){return new Promise(function(a,b){Ee.require(Ob(d)).then(function(c){a(Ob(c))})})};var ik,Wn,Yf,Pd=function(){};Pd.init=function(d){var a=d.scriptEvaluatorFct;ik=d.Perf;Yf=a;Wn=new Pd};Pd.getInstance=function(){return Wn};Pd.prototype.mark=
function(d){ik.getInstance().mark(Yf?Yf("return "+JSON.stringify(d)+";"):d)};Pd.prototype.endMark=function(d){ik.getInstance().mark(Yf?Yf("return "+JSON.stringify(d)+";"):d)};var jk=function(){};jk.prototype.getDelegate=function(){return yc.getInstance()};jk.prototype.getPerf=function(){return Pd.getInstance()};var Qa=new jk,sa=function(d){this.key=d;this._parent=null;this._children=[];this._childByKey={};this._updateState=p.UPDATE_STATE.MODIFIED};sa.prototype.getKey=function(){return this.key};sa.prototype._updateKey=
function(d){var a=this.key,b=this.getParent();if(b){if(b.getChildByKey(d))return console.warn("key: "+d+" already exist among parent: "+b.getKey()+"'s children, can not update key"),this;b.onChildKeyChange(a,d)}this.key=d;return this};sa.prototype.setUpdateState=function(d){this._updateState=d;return this};sa.prototype.getUpdateState=function(){return this._updateState};sa.prototype.markAsModified=function(){this.setUpdateState(p.UPDATE_STATE.MODIFIED);var d=this.getParent();d&&d.markAsModified(p.UPDATE_STATE.MODIFIED);
return this};sa.prototype.appendTo=function(d){d&&d.append(this);return this};sa.prototype.prependTo=function(d){d&&d.prepend(this);return this};sa.prototype.removeFromParent=function(){this._parent&&this._parent.remove(this);return this};sa.prototype._setParent=function(d){this._parent=d;return this};sa.prototype.getParent=function(){return this._parent};sa.prototype.onChildKeyChange=function(d,a){var b=this._childByKey[d];b&&(delete this._childByKey[d],this._childByKey[a]=b);return this};sa.prototype.appendAll=
function(d){var a=this;if(!d)return this;d.forEach(function(b){a.append(b)});return this};sa.prototype.append=function(d){if(!d)return this;this.markAsModified();var a=d.getKey(),b=this._childByKey;b[a]?console.warn("key: "+d.getKey()+" already exist among parent: "+this.key+"'s children, can not append"):(d.removeFromParent(),this._children.push(d),d._setParent(this),b[a]=d);return this};sa.prototype.prependAll=function(d){var a=this;if(!d)return this;this.markAsModified();d.forEach(function(b){a.prepend(b)});
return this};sa.prototype.prepend=function(d){if(!d)return this;this.markAsModified();this._childByKey[d.getKey()]?console.warn("key: "+d.getKey()+" already exist among parent: "+this.key+"'s children, can not prepend"):(d.removeFromParent(),this._children.unshift(d),d._setParent(this),this._childByKey[d.getKey()]=d);return this};sa.prototype.remove=function(d){if(!d)return this;this.markAsModified();var a=d.getKey(),b=A.findIndex(this._children,function(c){return c.key===a});-1<b&&(d._setParent(null),
this._children.splice(b,1),delete this._childByKey[a]);return this};sa.prototype.removeAll=function(){this.markAsModified();this._children.forEach(function(d){return d._setParent(void 0)});this._children=[];this._childByKey={};return this};sa.prototype._setChildren=function(d){var a=this;this._childByKey=d.reduce(function(b,c){c._parent=a;b[c.key]=c;return b},{});this._children=d;return this};sa.prototype.getChildren=function(){return this._children};sa.prototype.getChildByKey=function(d){return this._childByKey[d]};
sa.prototype.reverse=function(){this._children.reverse();return this};sa.prototype._sortChildren=function(){this._childSorter&&(this._children=r.sortBy(this._children,this._childSorter));this._children.forEach(function(d){"function"===typeof d._sortChildren&&d._sortChildren()});return this};sa.prototype._sortByKeys=function(d){var a=this;this._children=[];d.forEach(function(b){(b=a._childByKey[b])&&a._children.push(b)});return this};sa.prototype.traverse=function(d){d(this);this._children.forEach(function(a){return a.traverse(d)});
return this};sa.prototype.updateChildren=function(d){var a={};this._children.forEach(function(b,c){d(b,c);a[b.getKey()]=b});this._childByKey=a;return this};var $a=function(d){var a=this;this.array=d||[];this.set={};this.array.forEach(function(b){return a.set[b]=!0})};$a.prototype.add=function(d){this.array.push(d);this.set[d]=!0;return this};var It={name:"default",properties:{BACKGROUND_COLOR:"rgba(255,255,255,0)",BACKGROUND_OPACITY:0,AXIS:{NUMBER:{AXIS_LINE:"rgba(201,199,197,0.9)",GRID_LINE:"rgba(201,199,197,0.5)",
MINOR_GRID_LINE:"rgba(217,215,213,0.3)",TICK_MARK:"rgba(201,199,197, 0.9)",TICK_LABEL:"#706e6b",TITLE:"#706e6b"},TITLE:{TEXT:{BACKGROUND:"#f4f6f9"}},LABEL:{TEXT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#080707"},SEPARATOR_LINE:"#c9c7c5",TITLE:"#706e6b"},TIME:{AXIS_LINE:"rgba(201,199,197,0.9)",GRID_LINE:"rgba(217,215,213,0.3)",TITLE:"#706e6b",TICK_MARK:"#c9c7c5",TICK_LABEL:"#080707"}},TOOLTIP:{BACKGROUND_COLOR:"#16325C",TRUNCATION_BACKGROUND_COLOR:"rgba(255, 255, 194, 1)",LABEL_COLOR:"#9faab5",
VALUE_COLOR:"#fff"},LEGEND:{BACKGROUND:"rgba(255,255,255,0.8)",BORDER:"#c9c7c5",TEXT:{COLOR:"#706e6b",BACKGROUND:"#E6EAF5",HOVER:"#17324D"},HEADER:"#706e6b",HEADER_LINE:"#c9c7c5"},GRADIENT_LEGEND:{TEXT:"#444"},RADIAL_LEGEND:{BACKGROUND:"rgba(244,246,249,0.7)",BORDER:"#a8b7c7",TEXT:"#000"},HOTSPOT:{COLOR:"#17324D",BACKGROUND:"#E6EAF5",HOVER:"#ffffff",HOVER_BACKGROUND:"rgba(107,114,115,1)"},CONDITIONAL_COLOR:{POSITIVE:"#60b17d",NEGATIVE:"#c23934",TEXT_COLOR_DARK:"#000",TEXT_COLOR_LIGHT:"#fff"},TITLE:{COLOR:"#080707",
SUBTITLE_COLOR:"#706e6b"},MARK:{LINE:{FILL_AREA:"rgba(255,255,255,0.1)"},POLAR_GAUGE:{TRACK:"rgba(204,221,238,1)"},SPARK_LINE:{COLOR_LINE:"#888",COLOR_HIGH:"#0f0",COLOR_LOW:"#f00"},MAP:{COLOR_EMPTY:"#e0e5ee",COLOR_STROKE:"#fff",COLOR_LINE:"#a8b7c7"},GAUGE:{NEEDLE:"#080707"},HISTOGRAM:{BAR_STROKE:"rgba(201,199,197,0.25)"}},TRELLIS:{GRID_LINE:"#ddd",HEADER_TEXT:"#000",HEADER_LINE:"#000"},EMPTY_CHART:{TEXT:"#54698d"},GRADIENT_COLORS:["linear-gradient(to bottom, #e2f4fc, #009ddf)"],BAND_COLORS:{FLAT:["#DC3912",
"#FF9900","#109618"],GRADIENT:["linear-gradient(to bottom, #f95, #f07)","linear-gradient(to bottom, #fd4, #4e0)","linear-gradient(to bottom, #0fc, #40f)"]},PALETTE:"#16325C #00A1E0 #76DED9 #08A69E #E2CE7D #E69F00 #C23934 #FFB75D #60B17D #00716B #94E3B1 #009E73 #93C9F8 #3A93BA #0070D2 #ABDCF4 #8073F7 #7B399C #CC79A7 #E2B1FA #AF5CD8".split(" "),REFERENCE_LINE:{LINE_STROKE:"#8932ed"},BINS:{DEFAULT_COLOR:"#A9A9A9"},BRUSH:{STROKE:"rgba(150, 150, 150, 0.5)",FILL:"rgba(200, 200, 200, 0.3)",TEXT:"rgba(0, 0, 0, 0.8)"},
ICON:{FILL:"rgba(0, 0, 0, 0.1)"},CROSSHAIR:{STROKE:"rgba(255, 255, 255, 1)",FILL:"rgba(1,118,211,1)"}}},oa=function(d,a){var b=null;d.getInstance=function(){b||(b=new d,a&&(b=a(b)));return b};return d},kk=function(){};kk.prototype.setResourcesPath=function(d){this._resourcesPath=d};kk.prototype.getResourcesPath=function(){return this._resourcesPath};var Xn=oa(kk),Yn=function(){};Yn.prototype.loadTheme=function(d){d=Xn.getInstance().getResourcesPath()+"/themes/"+d+".json";return Qa.getDelegate().require(d).then(function(a){return JSON.parse(a)})};
var Jt=oa(Yn),Zn=Od.getInstance().getColor,B=function(d){this._themeData=d;this._theme=this._convertColor(A.deepCopy(d.properties));return this};B.prototype._convertColor=function(d){var a=this;if(Array.isArray(d))return d.map(Zn);if(d&&"object"!==typeof d&&"number"!==typeof d)return Zn(d);r.keys(d).forEach(function(b){d[b]=a._convertColor(d[b])});return d};B.prototype.getName=function(){return this._themeData.name};B.prototype.getThemeData=function(){return this._themeData};B.prototype.toObject=
function(){return JSON.parse(JSON.stringify(this._theme))};B.prototype.toJSON=function(){return this._theme};B.prototype.getBackgroundColor=function(){return this._theme.BACKGROUND_COLOR};B.prototype.getBackgroundOpacity=function(){return this._theme.BACKGROUND_OPACITY};B.prototype.getAxisTitleTextBackgroundColor=function(){return this._theme.AXIS.TITLE.TEXT.BACKGROUND};B.prototype.getMeasureAxisLineColor=function(){return this._theme.AXIS.NUMBER.AXIS_LINE};B.prototype.getMeasureAxisGridLineColor=
function(){return this._theme.AXIS.NUMBER.GRID_LINE};B.prototype.getMeasureAxisMinorGridLineColor=function(){return this._theme.AXIS.NUMBER.MINOR_GRID_LINE};B.prototype.getMeasureAxisTickMarkColor=function(){return this._theme.AXIS.NUMBER.TICK_MARK};B.prototype.getMeasureAxisTickLabelColor=function(){return this._theme.AXIS.NUMBER.TICK_LABEL};B.prototype.getMeasureAxisTitleColor=function(){return this._theme.AXIS.NUMBER.TITLE};B.prototype.getDimensionAxisTextColor=function(){return this._theme.AXIS.LABEL.TEXT.COLOR};
B.prototype.getDimensionAxisTextBGColor=function(){return this._theme.AXIS.LABEL.TEXT.BACKGROUND};B.prototype.getDimensionAxisTextHoverColor=function(){return this._theme.AXIS.LABEL.TEXT.HOVER};B.prototype.getDimensionAxisSeparatorColor=function(){return this._theme.AXIS.LABEL.SEPARATOR_LINE};B.prototype.getDimensionAxisTitleColor=function(){return this._theme.AXIS.LABEL.TITLE};B.prototype.getTimeAxisLineColor=function(){return this._theme.AXIS.TIME.AXIS_LINE};B.prototype.getTimeAxisGridLineColor=
function(){return this._theme.AXIS.TIME.GRID_LINE};B.prototype.getTimeAxisTickMarkColor=function(){return this._theme.AXIS.TIME.TICK_MARK};B.prototype.getTimeAxisTickLabelColor=function(){return this._theme.AXIS.TIME.TICK_LABEL};B.prototype.getTimeAxisTitleColor=function(){return this._theme.AXIS.TIME.TITLE};B.prototype.getToolTipBackgroundColor=function(){return this._theme.TOOLTIP.BACKGROUND_COLOR};B.prototype.getToolTipTruncationBackgroundColor=function(){return this._theme.TOOLTIP.TRUNCATION_BACKGROUND_COLOR};
B.prototype.getToolTipLabelColor=function(){return this._theme.TOOLTIP.LABEL_COLOR};B.prototype.getToolTipValueColor=function(){return this._theme.TOOLTIP.VALUE_COLOR};B.prototype.getLegendBGColor=function(){return this._theme.LEGEND.BACKGROUND};B.prototype.getLegendBorderColor=function(){return this._theme.LEGEND.BORDER};B.prototype.getLegendTextColor=function(){return this._theme.LEGEND.TEXT.COLOR};B.prototype.getLegendTextBGColor=function(){return this._theme.LEGEND.TEXT.BACKGROUND};B.prototype.getLegendTextHoverColor=
function(){return this._theme.LEGEND.TEXT.HOVER};B.prototype.getLegendHeaderColor=function(){return this._theme.LEGEND.HEADER};B.prototype.getLegendHeaderLineColor=function(){return this._theme.LEGEND.HEADER_LINE};B.prototype.getGradientLegendColor=function(){return this._theme.GRADIENT_COLORS[0]};B.prototype.getGradientLegendTextColor=function(){return this._theme.GRADIENT_LEGEND.TEXT};B.prototype.getRadialLegendBGColor=function(){return this._theme.RADIAL_LEGEND.BACKGROUND};B.prototype.getRadialLegendBorderColor=
function(){return this._theme.RADIAL_LEGEND.BORDER};B.prototype.getRadialLegendTextColor=function(){return this._theme.RADIAL_LEGEND.TEXT};B.prototype.getHotspotColors=function(){return{color:this.getHotspotColor(),bgColor:this.getHotspotBGColor(),hoverColor:this.getHotspotHoverColor(),hoverBgColor:this.getHotspotHoverBGColor()}};B.prototype.getHotspotColor=function(){return this._theme.HOTSPOT.COLOR};B.prototype.getHotspotBGColor=function(){return this._theme.HOTSPOT.BACKGROUND};B.prototype.getHotspotHoverColor=
function(){return this._theme.HOTSPOT.HOVER};B.prototype.getHotspotHoverBGColor=function(){return this._theme.HOTSPOT.HOVER_BACKGROUND};B.prototype.getPositiveColor=function(){return this._theme.CONDITIONAL_COLOR.POSITIVE};B.prototype.getNegativeColor=function(){return this._theme.CONDITIONAL_COLOR.NEGATIVE};B.prototype.getTextColorOnDark=function(){return this._theme.CONDITIONAL_COLOR.TEXT_COLOR_DARK};B.prototype.getTextColorOnLight=function(){return this._theme.CONDITIONAL_COLOR.TEXT_COLOR_LIGHT};
B.prototype.getChartTitleColor=function(){return this._theme.TITLE.COLOR};B.prototype.getChartSubtitleColor=function(){return this._theme.TITLE.SUBTITLE_COLOR};B.prototype.getLineFillAreaColor=function(){return this._theme.MARK.LINE.FILL_AREA};B.prototype.getPolarGaugeMarkColor=function(){return this._theme.MARK.POLAR_GAUGE.TRACK};B.prototype.getSparkLineMarkLineColor=function(){return this._theme.MARK.SPARK_LINE.COLOR_LINE};B.prototype.getSparkLineMarkHighColor=function(){return this._theme.MARK.SPARK_LINE.COLOR_HIGH};
B.prototype.getSparkLineMarkLowColor=function(){return this._theme.MARK.SPARK_LINE.COLOR_LOW};B.prototype.getMapMarkEmptyColor=function(){return this._theme.MARK.MAP.COLOR_EMPTY};B.prototype.getMapMarkStrokeColor=function(){return this._theme.MARK.MAP.COLOR_STROKE};B.prototype.getMapMarkLineColor=function(){return this._theme.MARK.MAP.COLOR_LINE};B.prototype.getGaugeNeedleColor=function(){return this._theme.MARK.GAUGE.NEEDLE};B.prototype.getHistogramStrokeColor=function(){return this._theme.MARK.HISTOGRAM.BAR_STROKE};
B.prototype.getTrellisGridLineColor=function(){return this._theme.TRELLIS.GRID_LINE};B.prototype.getTrellisHeaderTextColor=function(){return this._theme.TRELLIS.HEADER_TEXT};B.prototype.getTrellisHeaderLineColor=function(){return this._theme.TRELLIS.HEADER_LINE};B.prototype.getEmptyChartTextColor=function(){return this._theme.EMPTY_CHART.TEXT};B.prototype.getPrimaryGradientColors=function(){return this._theme.GRADIENT_COLORS[0]};B.prototype.getGradientColors=function(){return this._theme.GRADIENT_COLORS};
B.prototype.getFlatBandColors=function(){return this._theme.BAND_COLORS.FLAT};B.prototype.getGradientBandColors=function(){return this._theme.BAND_COLORS.GRADIENT};B.prototype.getPaletteColors=function(){return this._theme.PALETTE};B.prototype.getBinDefaultColor=function(){return this._theme.BINS.DEFAULT_COLOR};B.prototype.getBrushStrokeColor=function(){return this._theme.BRUSH.STROKE};B.prototype.getBrushFillColor=function(){return this._theme.BRUSH.FILL};B.prototype.getBrushTextColor=function(){return this._theme.BRUSH.TEXT};
B.prototype.getReferenceLineColor=function(){return this._theme.REFERENCE_LINE.LINE_STROKE};B.prototype.getIconFillColor=function(){return this._theme.ICON.FILL};B.prototype.getCrosshairFillColor=function(){return this._theme.CROSSHAIR.FILL};B.prototype.getCrosshairStrokeColor=function(){return this._theme.CROSSHAIR.STROKE};var Qd=function(){this._themeCache={};this._themeDataCache={};this._themeDataPromises={};this.registerTheme(It)};Qd.prototype.getTheme=function(d){var a;"string"===typeof d?(a=
this._themeCache[d],a||(d=this._themeDataCache[d])&&(a=this._buildTheme(d,!0))):a=this._buildTheme(d);return a};Qd.prototype.getDefaultTheme=function(){return this.getTheme("default")};Qd.prototype.registerTheme=function(d){if("string"===typeof d)return this._loadTheme(d);var a=d.name;if(r.isEmpty(a))return Promise.reject("Can't register an unnamed theme");this._themeDataCache[a]=d;return Promise.resolve(d)};Qd.prototype.getAllThemeNames=function(){return r.keys(this._themeDataCache)};Qd.prototype._loadTheme=
function(d){var a=this,b=this._themeDataCache[d];if(b)return Promise.resolve(b);if(b=this._themeDataPromises[d])return b;b=Jt.getInstance().loadTheme(d).then(function(c){a.registerTheme(c);var b=Promise.resolve(c);delete a._themeDataPromises[d];return c.base?a._loadTheme(c.base).then(function(){return b}):b});return this._themeDataPromises[d]=b};Qd.prototype._buildTheme=function(d,a){void 0===a&&(a=!1);var b=d.name,c=d.base,c=c?this.getTheme(c):null;!c&&"default"!==d.name&&(c=this.getDefaultTheme());
c=c?c.getThemeData():{};d=A.defaultsDeep(A.deepCopy(d),c);c=new B(d);b&&a&&(this._themeCache[b]=c);return c};var nd=oa(Qd),Zf={},Fe={init:function(d){d in Zf||(Zf[d]=0);return{next:function(){return Zf[d]++},reset:function(){return Zf[d]=0}}},counter:Zf},Kt=nd.getInstance(),$n=Fe.init("Node"),Hh=function(d){function a(a,c){a?null==a.key&&(a.key="$autogen_"+$n.next()):a={key:"$autogen_"+$n.next()};d.call(this,a.key);this._props={key:void 0,accessibility:void 0,zIndex:void 0};this._setDefaultProps();
this.set(a,c)}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.prototype._setDefaultProps=function(){};a.prototype._onChange=function(a){(a=a.key)&&this._updateKey(a[0])};a.prototype._mapValue=function(a,c){return c};a.prototype.getType=function(){return this.constructor.type};a.prototype._setProp=function(a,c,f){var e;if(!this._props.hasOwnProperty(a))return this;this.markAsModified();f?this._props[a]=this._mapValue(a,c):(f=this.constructor._sensitiveProps&&
this.constructor._sensitiveProps.set,"key"===a||f&&f.hasOwnProperty(a)?(f=this._props[a],c=this._mapValue(a,c),this._props[a]=c,f!==c&&this._onChange((e={},e[a]=[c,f],e))):this._props[a]=this._mapValue(a,c));return this};a.prototype._setProps=function(a,c){var f=r.keys(a),e=this._props;this.markAsModified();if(c)for(var d=0;d<f.length;d++){var k=f[d];e.hasOwnProperty(k)&&(e[k]=this._mapValue(k,a[k]))}else{for(var d=this.constructor._sensitiveProps&&this.constructor._sensitiveProps.set,m=0;m<f.length;m++){var n=
f[m];if(e.hasOwnProperty(n)){var q=a[n];if("key"===n||d&&d.hasOwnProperty(n)){var s=e[n],q=this._mapValue(n,q);e[n]=q;s!==q&&(k||(k={}),k[n]=[q,s])}else e[n]=this._mapValue(n,q)}}k&&this._onChange(k)}return this};a.prototype.set=function(a,c,f){"string"===typeof a?this._setProp(a,c,f):this._setProps(a,c);return this};a.prototype.get=function(a){return a?this._props[a]:this._props};a.prototype.isGroup=function(){return!1};a.prototype.getParentBackgroundColor=function(){var a=this.getParent();return a?
a.getParentBackgroundColor():Kt.getDefaultTheme().getBackgroundColor()};a.prototype.translation=function(){return[0,0]};a.prototype.boundingBox=function(){};a.prototype.domainBox=function(){};a.prototype.isVisible=function(){return!0};a.prototype.rotate=function(){return this};a.prototype.flipY=function(){return this};a.prototype.flipX=function(){return this};a.prototype.offsetX=function(a){return this};a.prototype.offsetY=function(a){return this};a.prototype.center=function(a,c){return this};a.prototype.offsetAngle=
function(a){return this};a.prototype.totalTranslation=function(a,c){void 0===a&&(a=!1);void 0===c&&(c=!1);var f=this.getParent(),e=f?f.totalTranslation(a,c):[0,0],f=e[0],e=e[1],d=this.translation();return[d[0]+f,d[1]+e]};a.prototype.find=function(a){var c=[];this.traverse(function(f){var e;a:{for(e in a){var d=a[e],k=f._props[e];if(!("type"===e?f.getType()===d:r.isRegExp(d)?r.isString(k)&&k.match(d):r.isFunction(d)?d(k):r.isEqual(d,k))){e=!1;break a}}e=!0}e&&c.push(f);return f});return c};a.prototype.toJson=
function(a){return{type:this.getType(),props:r.clone(this._props)}};return a}(sa),Ih={boundingBox:function(d,a){return D.boundingBox(d.map(function(b){return b.boundingBox(a)}))},domainBox:function(d){return D.boundingBox(d.map(function(a){return a.domainBox()}))}},Lt={applyLayout:function(d,a){var b,c,f,e,g;switch(a.type){case "vbox":e=a.spacer;g=a.reverse;null==e&&(e=0);var k=0;for(c=0;c<d.length;c++)if(f=d[c],b=f.boundingBox(!0)){if(0===c&&(k=b.y,g))continue;g&&(k-=b.h+e);f.offsetY(k-b.y);g||(k+=
b.h+e)}break;case "hbox":e=a.spacer;g=a.reverse;null==e&&(e=0);for(c=k=0;c<d.length;c++)if(f=d[c],b=f.boundingBox(!0)){if(0===c&&(k=b.x,g))continue;g&&(k-=b.w+e);f.offsetX(k-b.x);g||(k+=b.w+e)}break;case "stackX":this.applyStackLayout(d,a.separatePosNeg,a.cumulativeProp,function(a,c){return a.offsetX(c)});break;case "stackY":this.applyStackLayout(d,a.separatePosNeg,a.cumulativeProp,function(a,c){return a.offsetY(c)});break;default:this.applyStackLayout(d,a.separatePosNeg,"angle",function(a,c){return a.offsetAngle(c)})}},
applyStackLayout:function(d,a,b,c){null==a&&(a=!0);var f=a?d.filter(function(a){return 0<=a.get(b)}):d;d=a?d.filter(function(a){return 0>a.get(b)}):[];a=function(a,c,b){var f=0;return a.map(function(a){var e=a.get(c);b(a,f);return f+=e})};a(f,b,c);return a(d,b,c)}},od=function(d){function a(){d.apply(this,arguments)}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.prototype.isGroup=function(){return!0};a.prototype._setDefaultProps=function(){d.prototype._setDefaultProps.call(this);
var a=this._props;a.zIndex=0;a.transforms={};a.skipTransforms=!1};a.prototype.forEach=function(a){this.getChildren().forEach(a);return this};a.prototype.map=function(a){return this.getChildren().map(a)};a.prototype.boundingBox=function(a){void 0===a&&(a=!1);var c=this.getChildren();(c=Ih.boundingBox(c,!0))&&a&&c.offset.apply(c,this.translation());return c};a.prototype.translation=function(){return[0,0]};a.prototype.domainBox=function(){return Ih.domainBox(this.getChildren())};a.prototype.toScenePosition=
function(a,c,f){return[a,c]};a.prototype.toLocalPosition=function(a,c,f){return[a,c]};a.prototype.applyLayout=function(a){Lt.applyLayout(this.getChildren(),a);return this};a.prototype.toJson=function(a){void 0===a&&(a=!0);var c=d.prototype.toJson.call(this);a&&(c.children=this.getChildren().map(function(a){return a.toJson(!0)}));return c};return a}(Hh),wa={getMinMax:function(d){return[r.min(d),r.max(d)]},sum:function(d){return r.reduce(d,function(a,b){return a+b},0)},avg:function(d){return this.sum(d)/
d.length},sortNumbers:function(d){return d.slice().sort(function(a,b){return a-b})},round2d:function(d){return Math.round(100*d)/100},isInRange:function(d,a,b,c){void 0===c&&(c=0);var f=Math.max(a,b);return Math.min(a,b)-c<=d&&d<=f+c},roundUp:function(d){var a=Math.pow(10,Math.floor(Math.log(Math.abs(d))/Math.LN10));return Math.ceil(d/a)*a},interpolate:function(){for(var d=[],a=arguments.length;a--;)d[a]=arguments[a];var b,c;if(2>d.length)return function(){return d[0]&&d[0][1]?d[0][1]:0};d.sort(function(a,
c){return a[0]-c[0]});var f=d.length,e=[];for(b=0;b<f-1;b++)c=d[b],a=d[b+1],e.push((a[1]-c[1])/(a[0]-c[0]));e.push(e[f-2]);return function(a,k){null==k&&(k=!1);if(k){if(a>=d[f-1][0])return d[f-1][1];if(a<=d[0][0])return d[0][1]}for(b=0;b<d.length&&!(c=d[b],c[0]>=a);b++);b&&b--;return e[b]*(a-d[b][0])+d[b][1]}}},zc=function(){this.reset()};zc.prototype.reset=function(){this._keys=[];return this._valueMap={}};zc.prototype.remove=function(d){if(this._valueMap.hasOwnProperty(d)){var a=this._keys.indexOf(d);
this._keys.splice(a,1);a=this._valueMap[d];delete this._valueMap[d];return a}};zc.prototype.put=function(d,a){void 0===a?this.remove(d):(this._valueMap.hasOwnProperty(d)||this._keys.push(d),this._valueMap[d]=a);return a};zc.prototype.get=function(d){return this._valueMap[d]};zc.prototype.getKeys=function(){return this._keys};zc.prototype.getValues=function(){var d=this;return this._keys.map(function(a){return d._valueMap[a]})};zc.prototype.size=function(){return this._keys.length};zc.prototype.sortKeys=
function(){return this._keys.sort()};zc.prototype.sortBy=function(d){var a=this;this._keys=this._keys.sort(function(b,c){return d(a.get(b),a.get(c))});return this};var ao=function(d){function a(a,c){d.call(this);this._key=a;this._displayKey=c}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.prototype.getKey=function(){return this._key};a.prototype.getDisplayKey=function(){return this._displayKey};a.prototype.setIsLeaf=function(a){this._isLeaf=a;return this};
a.prototype.isLeaf=function(){return this._isLeaf};a.prototype.setBaseRows=function(a){this._baseRows=a;return this};a.prototype.getBaseRows=function(){return this._baseRows};a.prototype.setLayout=function(a){this._layout=a;return this};a.prototype.getLayout=function(){return this._layout};a.prototype.setRollupValue=function(a,c){null==this._rollupInfo&&(this._rollupInfo={});this._rollupInfo[a.getName()]=c;return this};a.prototype.getRollupValue=function(a){return null!=this._rollupInfo?this._rollupInfo[a.getName()]:
void 0};return a}(zc),Aa=function(d,a,b){this.ordinal=d;this.value=a;this.sortChar=b};Aa.values=function(){return[Aa.DESC,Aa.ASC,Aa.NONE]};Aa.fromOrdinal=function(d){return Aa.values()[d]};Aa.fromValue=function(d){return r.find(Aa.values(),{value:d})};Aa.DESC=new Aa(0,"desc","\u2193");Aa.ASC=new Aa(1,"asc","\u2191");Aa.NONE=new Aa(2,"none",null);var Rb=function(d,a,b){null==b&&(b={});this._columns=a;this._root=new ao("");var c=b.forceHierarchy,f=b.sortHierarchy,e=b.hasHierarchy;b=b.summarize;c?(this._hasHierarchy=
!0,this._nestRows(this._root,d,a,{forceHierarchy:c,sortHierarchy:f})):null!=e?(this._hasHierarchy=e,this._nestRows(this._root,d,a,{hasHierarchy:e,summarize:b})):(this._hasHierarchy=c=this._nestRows(this._root,d,a,{hasHierarchy:!0,summarize:b}),c||(this._root.reset(),this._nestRows(this._root,d,a,{hasHierarchy:!1,summarize:b})))};Rb.prototype._nestRows=function(d,a,b,c){var f=c.forceHierarchy,e=c.hasHierarchy,g=c.sortHierarchy,k=c.summarize,e=f||e;if(!b.length)return d.setIsLeaf(!0).setBaseRows(a),
!0;1===b.length&&(!f&&e)&&(e=!1);for(var m=la.getValueFct({field:b[0]}),n=la.getValueFct({field:b}),q={},k=e?m:k?n:function(a,c){var b=m(a);return null!=q[b]?b+"-"+c:q[b]=b},s,n=0;n<a.length;n++){var u=a[n],x=k(u,n),t=d.get(x);if(t)if(f||s===x||!e)t.push(u);else{if(e)return!1}else d.put(x,[u]);s=x}f&&g&&d.sortKeys();a=d.getKeys();for(f=0;f<a.length;f++)if(e=a[f],g=d.get(e),s=m(g[0]),s=new ao(e,s),d.put(e,s),!this._nestRows(s,g,b.slice(1),c))return!1;return!0};Rb.prototype.numLeafRows=function(){var d=
0;this.traverse(function(a,b,c,f,e,g){g.isLeaf()&&d++});return d};Rb.prototype.setLayout=function(d){this._root.setLayout(d);return this};Rb.prototype.getLayout=function(){return this._root.getLayout()};Rb.prototype.hasHierarchy=function(){return this._hasHierarchy};Rb.prototype.traverse=function(d,a){null==a&&(a=this._columns.length-1);this._root.isLeaf()?d("",-1,{index:0,isLast:!0},[""],[""],this._root):this._traverse(this._root,d,a,0)};Rb.prototype._traverse=function(d,a,b,c,f,e){var g=this;void 0===
f&&(f=[]);void 0===e&&(e=[]);if(!(c>b||d.isLeaf())){var k=d.getKeys(),m=k.length;k.forEach(function(k,q){var s=d.get(k),u=s.getDisplayKey(),x={index:q,isLast:q===m-1},t=f.concat([k]),p=e.concat([u]);a(null!=u?u:k,c,x,t,p,s,d);g._traverse(s,a,b,c+1,t,p)})}};Rb.prototype.rollup=function(d,a){if(null==d)return this;var b=la.getValueFct({field:d});this._rollup(this._root,d,b,a);return this};Rb.prototype._rollup=function(d,a,b,c){var f=this;if(d.isLeaf()){var e=d.getBaseRows();d.setRollupValue(a,c(e.map(b)))}else e=
d.getKeys().map(function(e){e=d.get(e);f._rollup(e,a,b,c);return e.getRollupValue(a)}),d.setRollupValue(a,c(e))};Rb.prototype.sortByRollup=function(d,a){a=null==a?Aa.ASC:Aa.fromValue(a);this._sortByRollup(this._root,d,a)};Rb.prototype._sortByRollup=function(d,a,b){var c=this;b!==Aa.NONE&&!d.isLeaf()&&(1<d.getKeys().length&&d.sortBy(function(c,e){var d=c.getRollupValue(a)-e.getRollupValue(a);return b===Aa.ASC?d:-d}),d.getKeys().forEach(function(f){c._sortByRollup(d.get(f),a,b)}))};var Ga=function(){this.scale=
this.scale.bind(this);this._domain=[0,1];this._range=[0,1];this._ky=this._kx=this._dy=this._dx=1;this._step=0};Ga.prototype.create=function(){return new Ga};Ga.prototype.scale=function(d){d=(d-this._domain[0])*this._kx;return this._range[0]+this._dy*d};Ga.prototype.invert=function(d){return(d-this._range[0])*this._ky+this._domain[0]};Ga.prototype.domain=function(d){if(null==d)return this._domain;this._domain=d;this._domain[0]=+this._domain[0];this._domain[1]=+this._domain[1];this._kx=(this._dx=this._domain[1]-
this._domain[0])?1/this._dx:0;this._ky=this._dy?this._dx/this._dy:0;return this};Ga.prototype.range=function(d){if(null==d)return this._range;this._range=d;this._ky=(this._dy=this._range[1]-this._range[0])?this._dx/this._dy:0;return this};Ga.prototype.step=function(d){if(null==d)return this._step;this._step=d;return this};Ga.prototype._tickStep=function(d,a,b,c,f){void 0===c&&(c=!0);void 0===f&&(f=!0);var e=this._step;if(c||!e){var g=a-d,e=Math.pow(10,Math.floor(Math.log(g/b)/Math.LN10)),k=b/(g/e);
c=e*Math.round(g/e/b);0.15>k?e*=10:0.35>=k?e*=5:0.75>k&&(e*=2);f?(f=Math.ceil(a/c)*c-Math.floor(d/c)*c-g,k=(f+g)/c,d=Math.ceil(a/e)*e-Math.floor(d/e)*e-g):(f=g-Math.floor(a/c)*c+Math.ceil(d/c)*c,k=(g-f)/c,d=g-Math.floor(a/e)*e+Math.ceil(d/e)*e);f<=d&&3>k-b&&(e=c)}return e};Ga.prototype._tickRange=function(d,a,b){1===arguments.length&&(a=d,d=0);void 0===b&&(b=1);var c=-1,f,e=[];if(0>b)for(;(f=d+b*++c)>a;)e.push(f);else for(;(f=d+b*++c)<a;)e.push(f);return e};Ga.prototype.ticks=function(d,a){void 0===
a&&(a=!1);d=Math.max(d,2);var b=Math.min(this._domain[0],this._domain[1]),c=Math.max(this._domain[0],this._domain[1]),f=this._tickStep(b,c,d,a,!1),b=this._tickRange(Math.ceil(b/f)*f,Math.floor(c/f)*f+0.5*f,f),e=b[b.length-1];null!=e&&(f=e+f,1E-7>Math.abs(this.scale(f)-this.scale(c))&&b.push(f));return b};Ga.prototype.nice=function(d){var a=Math.min(this._domain[0],this._domain[1]),b=Math.max(this._domain[0],this._domain[1]);d=Math.max(d,2);var c=this._step;if(c)return this;if(c=this._tickStep(a,b,
d)){c=this._tickStep(Math.floor(a/c)*c,Math.ceil(b/c)*c,d);d=Math.floor(a/c)*c;var f=Math.ceil(b/c)*c,e=(new Ga).domain([d,f]).range(this.range()),g=0.1*e.scale(c);e.scale(d+c)-e.scale(a)<=g&&(d=a);e.scale(b)-e.scale(f-c)<=g&&(f=b);this.domain([d,f]);this.step(c)}return this};Ga.prototype.offset=function(d){var a=this.range(),b=this.domain();if(a&&b)return this.create().domain(b).range([a[0]+d,a[1]+d]).step(this._step)};Ga.prototype.adjustZero=function(){var d=this.scale(0);return this.offset(-d)};
Ga.prototype.adjustRangeZero=function(){var d=this.range()[0];return this.offset(-d)};Ga.prototype.adjustRange=function(d){if(!d)return this;var a=[this.invert(d[0]),this.invert(d[1])];return this.create().domain(a).range(d).step(this._step)};Ga.prototype.flip=function(){var d=this.range(),a=this.domain();if(d&&a)return this.create().domain([a[1],a[0]]).range([-d[1],-d[0]]).step(this._step)};Ga.prototype.toJson=function(){return{type:"LinearScale",domain:this._domain,range:this._range}};var kc=function(){this.scale=
this.scale.bind(this);this._domain=[];this._index={};this._range=[];this._subdivisionInterval=null};kc.prototype._computeSubdivision=function(){var d=this;if(this._subdivisionInterval&&this._domain){var a=1>this._domain.length?0:(this._subdivisionInterval[1]-this._subdivisionInterval[0])/this._domain.length;return this._range=this._domain.map(function(b,c){return d._subdivisionInterval[0]+c*a})}};kc.prototype.scale=function(d){var a;a=this._index.hasOwnProperty(d)?this._index[d]:this._index[d]=this._domain.push(d)-
1;return"function"===typeof this._range?this._range(d,a):this._tickScale?this._tickScale.scale(a):this._range[a%this._range.length]};kc.prototype.invert=function(d){return this._domain[A.closestIndex(this._range,d)]};kc.prototype.domain=function(d){var a=this;if(null==d)return this._domain;this._domain=d;this._index={};var b=0;this._domain.forEach(function(c){a._index.hasOwnProperty(c)||(a._index[c]=b++)});this._computeSubdivision();return this};kc.prototype.offset=function(d){var a=this,b;if(!this._domain||
!this._range)return[];if(null==d)return this._range;var c=r.isString(d)&&"%"===d.charAt(d.length-1)?parseFloat(d,10)/100:null,f=A.range(0,this._range.length).map(function(f){return b=null!=c?f===a._range.length-1?(a._range[f]-a._range[f-1])*c:(a._range[f+1]-a._range[f])*c:d,a._range[f]+b});return(new kc).domain(this._domain).range(f)};kc.prototype.range=function(d){if(null==d)return this._range;this._subdivisionInterval=null;this._range=d;return this};kc.prototype.subdivide=function(d){if(null==d)return this._subdivisionInterval;
this._subdivisionInterval=d;this._computeSubdivision();return this};kc.prototype.toJson=function(){return{type:"OrdinalScale",domain:this._domain,range:this._range}};var $f=function(){this.scale=this.scale.bind(this)};$f.prototype.range=function(d){if(null==d)return this._range;this._range=d;return this};$f.prototype.scale=function(){return this._range};$f.prototype.toJson=function(){return{type:"ConstantScale",range:this._range}};var bo=Od.getInstance().getColor,Ge=function(){this.scale=this.scale.bind(this);
this._domain=[0,1];this._dx=[this._domain[1]-this._domain[0]];this._range=new C({low:bo("#000000"),high:bo("#ffffff")});this._rangeRGB=[Xf.rgb("#000000"),Xf.rgb("#ffffff")]};Ge.prototype.domain=function(d){if(null==d)return this._domain;this._domain=d;this._dx=[];if(0<this._domain.length){d=0;for(var a=this._domain.length-1,b=0<=a;b?d<=a:d>=a;b?d++:d--)this._dx.push(this._domain[d+1]-this._domain[d]||this._domain[d]-this._domain[d-1]||1)}return this};Ge.prototype.range=function(d){if(null==d)return this._range;
this._range=d;return this};Ge.prototype.scale=function(d){var a=this._range.getColorStops();if(d<=this._domain[0])return a[0][0];if(d>=r.last(this._domain))return r.last(a)[0];for(var b=0;d>this._domain[b];)b++;var c=b-1;return a[c][0].toColor(a[b][0],(d-this._domain[c])/this._dx[c])};Ge.prototype.toJson=function(){return{type:"GradientScale",domain:this._domain,range:this._range.toJSON()}};var lk=function(d){function a(){d.call(this);this.scale=this.scale.bind(this);this._dom0=this._domain;this._dir=
!0;var b;b=a.pos_lp;this.__log=b[0];this.__pow=b[1]}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.initClass=function(){this.pos_lp=[function(a){return Math.log(a)/Math.LN10},function(a){return Math.pow(10,a)}];this.neg_lp=[function(a){return-Math.log(-a)/Math.LN10},function(a){return-Math.pow(10,-a)}]};a.pow=function(a){return function(c){return 0>c?-Math.pow(-c,a):Math.pow(c,a)}};a.prototype.scale=function(a){return d.prototype.scale.call(this,this.__log(a))};
a.prototype.invert=function(a){return this.__pow(d.prototype.invert.call(this,a))};a.prototype.domain=function(b){if(null==b)return this._dom0;this._dom0=b;if(0>(b[0]||b[1])){this._dir=!1;var c;c=a.neg_lp}else this._dir=!0,c=a.pos_lp;this.__log=c[0];this.__pow=c[1];return d.prototype.domain.call(this,b.map(this.__log))};a.prototype.ticks=function(){var a=[];if(this._domain.every(isFinite)){var c,f=Math.floor(this._domain[0]),e=Math.ceil(this._domain[1]),d=this.__pow(this._domain[0]),k=this.__pow(this._domain[1]);
if(this._dir)for(a.push(this.__pow(f));f++<e;)for(c=10;--c;)a.push(this.__pow(f)*c);else{for(;f<e;)for(c=0;10>c++;)a.push(this.__pow(f++)*c);a.push(this.__pow(f))}for(f=0;a[f]<d;)f++;for(e=a.length;a[e-1]>k;)e--;return a.slice(f,e)}return a};a.prototype.toJson=function(){return{type:"LogScale",domain:this._dom0,range:this._range}};return a}(Ga);lk.initClass();var mk=function(d){function a(){d.call(this);this.scale=this.scale.bind(this);this._exp=1;this.__powb=this.__powp=Number;this._dom0=this._domain}
d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.pow=function(a){return function(c){return 0>c?-Math.pow(-c,a):Math.pow(c,a)}};a.prototype.scale=function(a){return d.prototype.scale.call(this,this.__powp(a))};a.prototype.invert=function(a){return this.__powb(d.prototype.invert.call(this,a))};a.prototype.domain=function(b){if(null==b)return this._dom0;this._dom0=b;this.__powp=a.pow(this._exp);this.__powb=a.pow(1/this._exp);return d.prototype.domain.call(this,
b.map(this.__powp))};a.prototype.exponent=function(a){this._exp=a;return this.domain(this._dom0)};a.prototype.ticks=function(a,c){void 0===c&&(c=!1);var f=new d;f.domain(this._dom0).step(this.step());return f.ticks(a,c)};a.prototype.toJson=function(){return{type:"PowScale",exp:this._exp,domain:this._dom0,range:this._range}};return a}(Ga),co=function(d){function a(){d.apply(this,arguments);this.exponent(0.5)}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.prototype.create=
function(){return new a};a.prototype.toJson=function(){return{type:"SqrtScale",domain:this._dom0,range:this._range}};return a}(mk),$={linear:function(){return new Ga},ordinal:function(){return new kc},constant:function(){return new $f},gradient:function(){return new Ge},log:function(){return new lk},pow:function(d){return(new mk).exponent(d)},sqrt:function(){return new co},fromJson:function(d){var a;switch(d.type){case "ConstantScale":a=new $f;break;case "LinearScale":a=new Ga;break;case "OrdinalScale":a=
new kc;break;case "GradientScale":a=new Ge;break;case "LogScale":a=new lk;break;case "PowScale":a=(new mk).exponent(d.exp);break;case "SqrtScale":a=new co;break;default:throw Error("invalid scale "+d.type);}for(var b in d)if(d[b]){var c=d[b];if(!A.includes(["type","exp"],b))a[b](c)}return a},transpose:function(d,a,b){var c;return null!=(c=a.scale("function"===typeof b.invert?b.invert(d):void 0))?c:d}},rb=function(d,a,b,c){void 0===a&&(a=[]);void 0===c&&(c={});this.getCategories=this.getCategories.bind(this);
this._columns=a;this._keyFct=b;this._spacerOnEdge=c.spacerOnEdge;delete c.spacerOnEdge;this._nestedRows=new Rb(d,a,c);this._rowHeight=0};rb.prototype.getLayout=function(){return this._nestedRows.getLayout()};rb.prototype.getFields=function(){return this._columns};rb.prototype.hasHierarchy=function(){return this._nestedRows.hasHierarchy()};rb.prototype.numBaseRows=function(){return this._nestedRows.numLeafRows()};rb.prototype.numColumns=function(){return this._columns.length};rb.prototype.getRowHeight=
function(){return this._rowHeight};rb.prototype.traverse=function(d,a){var b=this;null==a&&(a=this.numColumns());return this._nestedRows.traverse(function(a,f,e,g,k,m,n){n={index:f,isLast:f===b.numColumns()-1,layout:null!=n?n.getLayout():void 0};e.layout=m.getLayout();return d(a,b._columns[f],n,e,g,k,m,b._columns.slice(0,f+1))},a-1)};rb.prototype.sortByRollup=function(d,a){this._nestedRows.sortByRollup(d,a);return this};rb.prototype.rollup=function(d,a){this._nestedRows.rollup(d,a);return this};rb.prototype.setLayout=
function(d){var a=d.rowHeight;d=d.spacers;this._rowHeight=a;this._nestedRows.hasHierarchy()?null==d&&(d=[p.SPACER,5*p.SPACER]):d=[d[0]];var b=r.last(d),c=this.numColumns();if(c){for(;d.length<c;)d.push(b);d=d.slice(0,c).reverse()}else d=[b];return this._updateLayout(a,d)};rb.prototype._updateLayout=function(d,a){var b=function(c,e,g){var k=a[e],m=g;c.isLeaf()?m+=d:(c.getKeys().forEach(function(a){a=c.get(a);b(a,e+1,m);m+=a.getLayout().h+k}),m-=k);return c.setLayout({spacer:k,y:g,h:m-g})};b(this._nestedRows._root,
0,this._spacerOnEdge?a[0]:0);if(this._spacerOnEdge){var c=this._nestedRows.getLayout();this._nestedRows.setLayout({h:c.h+2*a[0],y:0,spacer:c.spacer})}return this};rb.prototype.getScale=function(d){var a=void 0===d,b=[],c=[],f=this._keyFct;this.traverse(function(e,g,k,m,n,q,s){var u=m.layout.y+m.layout.h/2;a?s.isLeaf()&&s.getBaseRows().forEach(function(a){b.push(f(a));c.push(u)}):k.index===d&&(b.push(1===q.length?q[0]:la.joinValues(q)),c.push(u))});return $.ordinal().domain(b).range(c)};rb.prototype.getCategories=
function(d){var a=void 0===d,b={},c=0,f=this._keyFct;this.traverse(function(e,g,k,m,n,q,s){a?s.isLeaf()&&(s.getBaseRows().forEach(function(a){b[f(a)]=c}),c++):k.index===d&&(e=1===q.length?q[0]:la.joinValues(q),b[e]=c,c++)});return b};var W={_labels:{"@salesforce/charts":{insufficientSpace:"This chart is too large for this area. Try increasing the chart area, reducing the amount of data, or using a different chart type.",waterfallTotal:"End",noData:"No data to display",noValues:"No valid data to display",
measure:"Measure",total:"Total",range:"{0} to {1}",percentTooltip:"{0} of {1}",percentTooltipWithGroup:"{0} of {1} for {2}",enableTabNavigation:"Turn On Accessibility Navigation",tabNavigationEnabled:"Accessibility Navigation On",enableDataTable:"Enable table equivalent for screen reader users",sortAssistiveText:"Press Enter to sort by {0}",other:"Other",invalidGeoJSON:"Invalid GeoJSON",invalidMap:"Invalid Map",nullLabel:" - ",closeTooltip:"Close tooltip",contextGeo:"data with geo information",contextTime:"data with time information",
contextLatlng:"data with lat lng information",contextFlowHighCard:"not suitable to visualize high cardinality data column with flow diagram",contextFlowLowCard:"visualize low cardinality data column with flow diagram",axisDimNoColumn:"dimension axis has no data column",axisXDimOneColumn:"x dimension axis has 1 data column",axisYDimOneColumn:"y dimension axis has 1 data column",axisXDim2Columns:"x dimension axis has 2 data column",axisYDim2Columns:" dimension axis has 2 data column",axisDimMaxColumn:"dimension axis has more than {0} columns",
axisMeaNoColumns:"measure axis has no data column",axisMeaMaxColumn:"measure axis has more than {0} columns",axisTimeNoColumn:"time axis has no data column",axisMvM:"measure axis vs measure axis",axisDvD:"dimension axis vs dimension axis",axisMvDMultiMetric:"can use another chart type for visualizing single measure",axisMultiMetricManyMeasure:"visualize more than {0} metrics",axisMultiMetricFewMeasure:"not suitable to visualize fewer than {0} metrics",axisSingleMetricSingleMeasure:"visualize exactly one metric",
axisSingleMetricFewMeasure:"not suitable to visualizemore than one metric",axisRedundancy:"x, y axis representing duplicate data columns",colorHighCardinality:"not suitable to visualize high cardinality data column with categorical color",colorLowCardinality:"visualize low cardinality data column with categorical color",trellisHighCardinality:"not suitable to visualize high cardinality data column with trellis",popularChart:"is popular",unpopularChart:"is only suitable for specific use case",low:"Low",
medium:"Medium",high:"High",US_States:"US States",World_Countries:"World Countries",Americas:"Americas",North_America:"North America",South_America:"South America",Central_America:"Central America",Caribbean:"Caribbean",Europe:"Europe",Eastern_Europe:"Eastern Europe",Northern_Europe:"Northern Europe",Southern_Europe:"Southern Europe",Western_Europe:"Western Europe",Central_Europe:"Central Europe",Scandanavia:"Scandinavia",Asia:"Asia",South_Asia:"South Asia",South_East_Asia:"South East Asia",East_Asia:"East Asia",
Australasia:"Australasia",Africa:"Africa",East_Africa:"East Africa",Middle_Africa:"Middle Africa",North_Africa:"North Africa",Southern_Africa:"Southern Africa",Western_Africa:"Western Africa",EMEA:"EMEA",APAC:"APAC","World(zoomable)":"World Countries(zoomable)","US_States(zoomable)":"US States(zoomable)"}},setCustomLabels:function(d){this._labels=A.extendDeep(this._labels,d||{})},getLabel:function(d,a,b,c){var f;if(a)if(c&&(c[d]&&c[d][a])&&(f=c[d][a]),null==f&&(f=(f=this._labels[d])?f[a]:null),null!=
f)for(var e=b||[],g=0;g<e.length;g++){var k=e[g];f=f.replace(RegExp("\\{"+g+"\\}","g"),function(){return k})}else console.warn("invalid label: "+JSON.stringify(arguments));return f||""}},Eb={isDiscreteTimeFormat:function(d){return"sfdcWeek"===d},isSfdcWeekFormat:function(d){return"sfdcWeek"===d||"sfdcYearWeek"===d},_getTickFormatter:function(d,a,b){var c=this;return function(f){return a&&14832288E5<=f?void 0:"W"+c._parseYearWeek(f,b)[1]}},getFormatter:function(d,a){var b=this;return"sfdcWeek"===d?
function(c){c=b._parseYearWeek(c,a)[1];return(10>c?"0":"")+c}:function(c){c=b._parseYearWeek(c,a);var f=c[1];return""+c[0]+" - "+((10>f?"0":"")+f)}},getParser:function(d,a,b){var c=this;return"sfdcWeek"===d?function(b){return c._getYearWeekEpoch(2016,parseInt(b,10),a)}:function(f){f=f.split(b);return c._getYearWeekEpoch(f[0],f[1],a)}},startOf:function(d,a){var b=this._parseYearWeek(d,a),b=this._getYearWeekEpoch(b[0],b[1],a);return G.DateTime.fromMillis(b)},offset:function(d,a,b){var c=this._parseYearWeek(d,
b);d=c[0];c=c[1];c+=a;a=Math.floor((c-1)/53);return G.DateTime.fromMillis(this._getYearWeekEpoch(d+a,c-53*a,b))},diff:function(d,a,b){var c=this._parseYearWeek(d,b);d=c[0];c=c[1];a=this._parseYearWeek(a,b);return 53*(a[0]-d)+a[1]-c},_parseYearWeek:function(d,a){null==a&&(a=0);var b=G.DateTime.fromMillis(d),c=b.year,f=G.DateTime.fromObject({year:c}),e=f.weekday,b=Math.ceil(((b.valueOf()-f.valueOf())/864E5+(-1===a||e===a?0:a<e?e-a:7-(a-e))+1)/7);return[c,b]},_getYearWeekEpoch:function(d,a,b){null==
b&&(b=0);d=parseInt(d);a=parseInt(a);if(isNaN(a)||1>a||53<a)return null;var c=new Date(Date.UTC(d,0,1));if(1===a)return G.DateTime.fromObject({year:d}).valueOf();d=c.getUTCDay();b=-1===b||d===b?7:b<d?7-(d-b):b-d;2<a&&(b+=7*(a-2));c.setUTCDate(c.getUTCDate()+b);return c.getTime()}},pd={isQuarterFormat:function(d){return"quarter"===d||"yearQuarter"===d},isDiscreteTimeFormat:function(d){return"quarter"===d},getFormatter:function(d,a){var b="quarter"===d?"q":"yyyy"+a+"q";return function(a){return G.DateTime.fromMillis(a).toFormat(b)}},
getParser:function(d,a){var b=this;return"quarter"===d?function(a){if(!isNaN(Number(a)))return G.DateTime.fromObject({month:b.convertQuarterToMonth(a)}).valueOf()}:function(c){var f=c.split(a);c=f[0];f=f[1];if(!isNaN(Number(c))&&!isNaN(Number(f)))return G.DateTime.fromObject({month:b.convertQuarterToMonth(1*f),year:1*c}).valueOf()}},diff:function(d,a){return this.convertMonthToQuarter(G.DateTime.fromMillis(a).diff(G.DateTime.fromMillis(d),"months").toObject().months||0)},duration:function(d){var a;
return G.Duration.fromObject((a={},a.months=this.convertQuarterToMonth(d)+2,a))},offset:function(d,a){var b;return G.DateTime.fromMillis(d).plus((b={},b.months=this.getOffsetInMonths(a),b))},getOffsetInMonths:function(d){return 3*d},convertQuarterToMonth:function(d){return 3*d-2},convertMonthToQuarter:function(d){return Math.ceil(d/3)}},R=function(){};R.isDiscreteTimeFormat=function(d){return"fiscalYear"===d||"fiscalQuarter"===d||"fiscalMonth"===d||"fiscalWeek"===d};R.isFiscalTimeFormat=function(d){return"fiscalYearQuarter"===
d||"fiscalYearMonth"===d||"fiscalYearWeek"===d||"fiscalYear"===d||"fiscalQuarter"===d||"fiscalMonth"===d||"fiscalWeek"===d};R.getTickFormatter=function(d,a,b,c){return function(f){if(a)return"fiscalWeek"===b?"W"+f:f;var e=R._getContinuousTimeYearInfo(f,b,c),g=e.fiscalYear;if("fiscalYear"===d)return g;f-=e.totalGrains;return"fiscalWeek"===b?"W"+f:f}};R.getFormatter=function(d,a,b){return function(c){if(R.isDiscreteTimeFormat(d))return c;var f=R._getContinuousTimeYearInfo(c,a,b);return f.fiscalYear+
"-"+(c-f.totalGrains)}};R.getParser=function(d,a,b,c){return R.isDiscreteTimeFormat(d)?function(a){return parseInt(a)}:function(f){var e=f.split(a);f=e[0];var e=e[1],d=Object.keys(c),k=Math.min.apply(Math,d),d=Math.max.apply(Math,d);if(!(f<k||f>d)){for(d=0;k!==parseInt(f);)d+=R._getNumGrainsInYear(k++,b,c);return d+=parseInt(e)}}};R.startOf=function(d,a,b,c,f){var e;e=b?Math.floor(d):"fiscalYear"===a?R._getContinuousTimeYearInfo(d,c,f).totalGrains+1:Math.floor(d);return{valueOf:function(){return e},
hasSame:function(a){return e===a.valueOf()}}};R.offset=function(d,a,b,c,f,e){var g;if(c||R._isChildGranularity(b))g=(1E8*d+1E8*a)/1E8;else{b=R._getContinuousTimeYearInfo(d,f,e).fiscalYear;for(var k=c=0;k<a;k++)c+=R._getNumGrainsInYear(b++,f,e);g=(1E8*d+1E8*c)/1E8}return{valueOf:function(){return g},hasSame:function(a){return g===a.valueOf()}}};R.diff=function(d,a){return(1E8*a-1E8*d)/1E8};R.shortestDuration=function(d,a,b,c){return a||R._isChildGranularity(d)?1:R._smallestGranularityInYear(b,c)};
R._smallestGranularityInYear=function(d,a){var b=Number.MAX_SAFE_INTEGER,c;for(c in a)if(a.hasOwnProperty(c)){var f=R._getNumGrainsInYear(c,d,a);f<b&&(b=f)}return b};R._getNumGrainsInYear=function(d,a,b){d=b[d];switch(a){case "fiscalQuarter":return d&&d.fiscalQuarter||4;case "fiscalMonth":return d&&d.fiscalMonth||12;case "fiscalWeek":return d&&d.fiscalWeek||52}};R._getContinuousTimeYearInfo=function(d,a,b){for(var c=Math.min.apply(Math,Object.keys(b)),f=0,e=R._getNumGrainsInYear(c,a,b);f+e+1<=d;)f+=
e,e=R._getNumGrainsInYear(++c,a,b);return{fiscalYear:c,totalGrains:f}};R._isChildGranularity=function(d){return"fiscalQuarter"===d||"fiscalMonth"===d||"fiscalWeek"===d};var Jd=null,L=p.TIME_GRANULARITY,Fm=["d","dd"],Gm=["W","WW"],Mt=["M","MM","MMM","MMMM"].concat(Fm).concat(Gm).concat("H","m","s"),cs=864E5,ds=6048E5,xj,yj,nk,zj=null,Ba={};Ba[L.MILLISECOND]={steps:[1,100,500],parentGranularity:L.SECOND,durationGranuarilty:"milliseconds"};Ba[L.SECOND]={steps:[1],parentGranularity:L.MINUTE,durationGranuarilty:"seconds"};
Ba[L.MINUTE]={steps:[1,2,5,10,15,30],parentGranularity:L.HOUR,durationGranuarilty:"minutes"};Ba[L.HOUR]={steps:[1,2,3,4,6,8,12],parentGranularity:L.DAY,durationGranuarilty:"hours"};Ba[L.DAY]={steps:[1,2,3,4,10,14],parentGranularity:L.MONTH,durationGranuarilty:"days"};Ba[L.WEEK]={steps:[1,2,13,25],parentGranularity:L.WEEKYEAR,durationGranuarilty:"weeks"};Ba[L.SFDC_WEEK]={steps:[1,2,13,25],parentGranularity:L.YEAR,durationGranuarilty:"weeks"};Ba[L.MONTH]={steps:[1,2,3,4,6],parentGranularity:L.YEAR,
durationGranuarilty:"months"};Ba[L.QUARTER]={steps:[1,2],parentGranularity:L.YEAR,durationGranuarilty:"months"};Ba[L.YEAR]={durationGranuarilty:"years"};Ba[L.WEEKYEAR]={durationGranuarilty:"years"};Ba[L.FISCAL_YEAR]={durationGranuarilty:"years"};Ba[L.FISCAL_QUARTER]={steps:[1,2],parentGranularity:L.FISCAL_YEAR,durationGranuarilty:"quarters"};Ba[L.FISCAL_MONTH]={steps:[1,2,3,4,6],parentGranularity:L.FISCAL_YEAR,durationGranuarilty:"months"};Ba[L.FISCAL_WEEK]={steps:[1,2,13,25],parentGranularity:L.FISCAL_YEAR,
durationGranuarilty:"weeks"};var Nt="1988-01-02T01:00:00.001 1992-02-04T03:05:05.100 1994-03-06T05:10:10.200 2000-04-08T07:15:15.300 2005-05-10T09:20:20.400 2006-06-12T11:25:25.500 2007-07-14T13:30:30.600 2008-08-16T15:35:35.700 2009-09-20T17:40:40.800 2010-10-24T19:45:45.900 2011-11-26T21:50:50.920 2012-12-30T23:55:55.999".split(" "),ka={isFiscalTimeFormat:function(d){return R.isFiscalTimeFormat(d)},isDiscreteTimeFormat:function(d){return R.isDiscreteTimeFormat(d)||Eb.isDiscreteTimeFormat(d)||pd.isDiscreteTimeFormat(d)||
-1<Mt.indexOf(d)},getFormatter:function(d,a,b,c,f){return R.isFiscalTimeFormat(d)?R.getFormatter(d,c,f):Eb.isSfdcWeekFormat(d)?Eb.getFormatter(d,a,b):pd.isQuarterFormat(d)?pd.getFormatter(d,b):function(a){return G.DateTime.fromMillis(a).toFormat(d)}},getParser:function(d,a,b,c,f){return d?Eb.isSfdcWeekFormat(d)?xe(Eb.getParser(d,a,b),d):pd.isQuarterFormat(d)?xe(pd.getParser(d,b),d):R.isFiscalTimeFormat(d)?xe(R.getParser(d,b,c,f),d):this.isDiscreteTimeFormat(d)?bs(d):Hm(d):xe(function(a){return G.DateTime.fromJSDate(new Date(a)).valueOf()},
d)},getConstantEpoch:function(){nk||(nk=G.DateTime.fromISO("1988-07-08").valueOf());return nk},getCategories:function(d,a,b,c){null==a&&(a=L.MONTH);var f=d.domain();if(!(2E3<(R.isFiscalTimeFormat(a)?R.diff(c[0],c[1]):this.diff(f[0],f[1],a,b)))){d={};if(f[0]===f[1])return d[f[0]]=0,d;if(R.isFiscalTimeFormat(a)){a=0;for(b=c[0];b<=c[1];b+=1)d[b]=a++}else{c=this.startOf(f[0],a,b);for(var e=0,f=G.DateTime.fromMillis(f[1]);c<=f;)d[c.valueOf()]=e++,c=this.offset(c.valueOf(),1,a,b)}return d}},_tooCloseToParentTick:function(d,
a,b,c,f,e,g,k,m){d=d.valueOf();a=a.valueOf();if(f.scale(d)-f.scale(a)<c)return!0;b=this.offset(a,1,b,e,k,g,m).valueOf();return f.scale(b)-f.scale(d)<c},_getTickFormatter:function(d,a,b,c,f,e){var g=d[a];return Eb.isSfdcWeekFormat(g)?Eb._getTickFormatter(g,b,c):R.isFiscalTimeFormat(g)?R.getTickFormatter(g,b,f,e):function(a){return G.DateTime.fromMillis(a).toFormat(g)}},ticks:function(d,a,b,c,f,e,g,k){var m,n,q,s,u=a,x=d.domain(),t=R.isFiscalTimeFormat(g)?x[0]:G.DateTime.fromMillis(x[0]);g=R.isFiscalTimeFormat(g)?
x[1]:G.DateTime.fromMillis(x[1]);f&&(q=Ba[a].parentGranularity)&&(b[q]=b[a]);if(t.hasSame&&t.hasSame(g,L.MILLISECOND)||t===g)return[{time:t.valueOf(),text:this._getTickFormatter(b,a,f,e,u,k)(t.valueOf())}];c=this.estimateWidth(b,c?null:es());for(var p=Ba[L.MILLISECOND].durationGranuarilty;;){s=Ba[a];q=s.parentGranularity;s=s.steps;if(!q)break;m=R.isFiscalTimeFormat(a)?d.scale(R.shortestDuration(a,f,u,k))-d.scale(0):d.scale(this.duration(1,a).as(p))-d.scale(0);n=1.1*Math.max(c[a],c[q]);if(n<m*r.last(s))break;
a=q}q||(q=a,m=R.isFiscalTimeFormat(a)?d.scale(R.shortestDuration(L.YEAR,f,u,k))-d.scale(0):d.scale(this.duration(1,L.YEAR).as(p))-d.scale(0),n=1.1*c[a]);var z;if(s)for(c=0;c<s.length&&!(z=s[c],m*z>n);c++);else z=Math.ceil(n/m);x=(m=!(a===L.DAY&&10>z||a===L.WEEK&&13>z))?this.startOf(x[0],q,e,f,u,k):this.startOf(x[0],a,e,f,u,k);s=[];c=this._getTickFormatter(b,a,f,e,u,k);b=this._getTickFormatter(b,q,f,e,u,k);for(p=this.startOf(x.valueOf(),q,e,f,u,k);;){if(x>=t){var w=void 0,y=this.startOf(x.valueOf(),
q,e,f,u,k);y>p?(m&&(x=y),w=b(x.valueOf())):w=x.hasSame(y,L.MILLISECOND)?b(x.valueOf()):m&&this._tooCloseToParentTick(x.valueOf(),y,q,n,d,e,u,f,k)?null:c(x.valueOf());if(x>g)break;null!=w&&s.push({time:x.valueOf(),text:w});p=y}x=this.offset(x.valueOf(),z,a,e,f,u,k)}return s},estimateWidth:function(d,a){var b={};Jd=Jd||Qa.getDelegate();if(null!=a)for(var c in d)d[c]&&(b[c]=a);else{var f=Jd.getTextWidth("0",p.AXIS.LABELS.TEXT.SIZE);Nt.forEach(function(a){for(var c in d)if(d[c])if(R.isFiscalTimeFormat(c))b[c]=
c===L.FISCAL_YEAR?4*f:2*f;else{var k=d[c],k=Jd.getTextWidth(G.DateTime.fromISO(a).toFormat(Eb.isSfdcWeekFormat(k)?"W[w]":k),p.AXIS.LABELS.TEXT.SIZE);null==b[c]&&(b[c]=0);b[c]=Math.max(b[c],k)}})}return b},startOf:function(d,a,b,c,f,e){d="number"===typeof d?G.DateTime.fromMillis(d):d;return a===L.WEEKYEAR?d.set({weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0}):a===L.SFDC_WEEK?Eb.startOf(d.valueOf(),b):R.isFiscalTimeFormat(a)?R.startOf(d.valueOf(),a,c,f,e):d.startOf(a)},offset:function(d,
a,b,c,f,e,g){var k;d="number"===typeof d?G.DateTime.fromMillis(d):d;return b===L.WEEKYEAR?d.set({year:d.weekYear+a,month:6,day:1}).set({weekNumber:1}):b===L.SFDC_WEEK?Eb.offset(d.valueOf(),a,c):b===L.QUARTER?pd.offset(d.valueOf(),a):R.isFiscalTimeFormat(b)?R.offset(d.valueOf(),a,b,f,e,g):d.plus((k={},k[Ba[b].durationGranuarilty]=a,k))},diff:function(d,a,b,c){d="number"===typeof d?G.DateTime.fromMillis(d):d;a="number"===typeof a?G.DateTime.fromMillis(a):a;if(R.isFiscalTimeFormat(b))return R.diff(d.valueOf(),
a.valueOf());if(b===L.SFDC_WEEK)return Eb.diff(d.valueOf(),a.valueOf(),c);if(b===L.QUARTER)return pd.diff(d.valueOf(),a.valueOf());b=Ba[b].durationGranuarilty;return a.diff(d,b).toObject()[b]||0},duration:function(d,a){var b;if(a===L.QUARTER)return pd.duration(d);a===L.SFDC_WEEK&&(a=L.WEEK);return G.Duration.fromObject((b={},b[Ba[a].durationGranuarilty]=d,b))},getDateTimeFromMillis:function(d){return G.DateTime.fromMillis(d)},getDateTimeFromObject:function(d){return G.DateTime.fromObject(d)}},eo=
p.SERIES_KEY,Jh={percent:function(d,a){null==d&&(d=0);return 0===a?a:100*d/a},getDataInfoForMeasure:function(d,a){return Da.getRowInternalField(d,p.PERCENTAGE_INFO_KEY).measures[a]},getPercentRowTransform:function(d,a,b){var c=this,f=a.map(function(a){return a.getName()}),e=la.getValueFct({field:a}),g={},k=function(a){a=e(a)||"";g[a]||(g[a]={});return g[a]};d.forEach(function(a){if(null==a[eo]){var c=k(a);b.forEach(function(b){b=b.getName();null!=a[b]&&(c[b]||(c[b]=0),c[b]+=Math.abs(a[b]))})}});return function(a){null==
a[eo]&&c.addPercentData(a,{groupNames:f,measures:k(a)});return a}},addPercentData:function(d,a){null==a&&(a={});var b=a.groupNames,c=a.measures,f={},e;for(e in c){var g=c[e];if(null!=(null!=d?d[e]:void 0))f[e]={percent:this.percent(d[e],g),total:g}}Da.setRowInternalField(d,p.PERCENTAGE_INFO_KEY,{groups:b,measures:f});return d}},qd=p.ROW_INTERNAL_KEY,Ot=p.SERIES_KEY,ag,Da=ag={layoutTabularRows:function(d,a,b,c){void 0===c&&(c={});d=new rb(d,a,b,c);if((c=c.sorting)&&c.column&&0<a.length&&c.internal)a=
c.column[0],a.getType()===p.COLUMN_TYPE.MEASURE&&(d.rollup(a,function(a){return wa.sum(r.filter(a))}),d.sortByRollup(a,c.order));return d},transpose:function(d){return A.zip.apply(A,d)},rows2cols:function(d){var a={};d.forEach(function(c){r.keys(c).forEach(function(c){null==a[c]&&(a[c]=[])})});var b=r.keys(a);d.forEach(function(c){b.forEach(function(b){a[b].push(c[b])})});return a},cols2rows:function(d){var a=r.keys(d);if(0===a.length)return[];for(var b=d[a[0]].length,c=[],f=function(b){var f={};
a.map(function(a){return f[a]=d[a][b]});c.push(f)},e=0;e<b;e++)f(e);return c},foldRows:function(d,a,b,c){if(!b)return d;a=A.ensureArray(a);var f={},e=[],g=la.getValueFct({field:a}),k=la.getValueFct({field:b});d.forEach(function(b){var d=g(b),q=k(b),s=f[d];s||(s=r.pick.apply(r,[b].concat(r.map(a,function(a){return a.getName()}))),f[d]=s,s.$$data={},e.push(d));s[q]=b[c.getName()];s.$$data[q]=b});return e.map(function(a){return f[a]})},unfoldRows:function(d,a,b,c,f){a=A.ensureArray(a);var e=[],g=r.map(a,
function(a){return a.getName()});d.forEach(function(a){for(var d=a.$$data||{},n,q=0;q<b.length;q++){n=b[q];var s=a[n],u=d[n];if(u||void 0!==s){u||(u=r.pick(a,g));u[c.getName()]=n;u[f.getName()]=s;if(n=a[qd])u[qd]||(u[qd]={}),r.extend(u[qd],n);e.push(u)}}});return e},zeroFillRows:function(d,a,b,c,f){a=A.ensureArray(a);d=this.foldRows(d,a,c,f);d.forEach(function(a){b.forEach(function(c){null==a[c]&&(a[c]=0)})});return this.unfoldRows(d,a,b,c,f)},addTotalRows:function(d,a,b,c,f,e){var g,k,m;null==e&&
(e=!0);d=A.deepCopy(d);if(!a||!a.length)return d;b=A.ensureArray(b);var n=ag.rows2cols(d);c?(m=A.uniq(n[c.getName()]),k=this.foldRows(d,b,c,f),g=ag.rows2cols(k)):(m=[f.getName()],k=d,g=n);a=r.chain(a).map(function(a){0>a.row&&(a.row=k.length,e||a.row--);return a}).sortBy(function(a){return-a.row}).value();a.forEach(function(a){var c,f=a.row,d=a.label;if(e)null==d&&(d=W.getLabel("@salesforce/charts","total")),c={},ag.setRowInternalField(c,"isTotal",!0),b.forEach(function(a){c[a.getName()]=d}),m.forEach(function(a){c[a]=
wa.sum(r.filter(g[a].slice(0,f)))}),k.splice(f,0,c);else if(c=k[Math.round(f)])ag.setRowInternalField(c,"isTotal",!0),null!=d&&b.forEach(function(a){null==a.getValueLabels()&&(a._valueLabels={});a._valueLabels[c[a.getName()]]=d})});return c?(d=this.unfoldRows(k,b,m,c,f),e&&(a=Jh.getPercentRowTransform(d,b,[f]),d=d.map(a)),d):k},filterOutRowsWithMissingFields:function(d){for(var a=this,b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];b=b.filter(function(a){return null!=a});return r.filter(d,function(c){return(e=
a).rowHasAllFields.apply(e,[c].concat(b));var e})},rowHasAllFields:function(d){for(var a=[],b=arguments.length-1;0<b--;)a[b]=arguments[b+1];return r.reduce(a,function(a,b){return null!=d[b.getName()]&&a},!0)},hasMeasures:function(d,a){return!r.isEmpty(r.find(d,function(b){return null!=r.find(a,function(a){return null!=b[a.getName()]})}))},getRowsForSeries:function(d,a){return r.filter(d,function(b){return b[Ot]===a})},measureSum:function(d,a,b){null==b&&(b=!1);d=b?r.map(d,function(c){return Math.abs(c[a.getName()])}):
r.map(d,a.getName());return wa.sum(d)},parseTimeRowTransform:function(d){var a=d.getDataFormat(),b=d.getName(),c=d.getFirstDayOfWeek(),f=d.getDataSeparator(),e=d.getParser()||ka.getParser(a,c,f);return this.getInternalValueTransform(d,function(a){return e(a[b])})},parseInternalKeyTransform:function(d,a){var b=la.getValueFct({field:a,defaultValue:""});return this.getInternalValueTransform(d,b)},getInternalValueTransform:function(d,a){var b=this,c=d.getInternalColumnName();return function(f){b.setRowInternalField(f,
c,a(f));return f}},setRowInternalField:function(d,a,b){if(d){var c=d[qd];c||(d[qd]=c={});c[a]=b}},getRowInternalField:function(d,a){var b=d[qd];if(b)return b[a]},getRowWithoutInternalValue:function(d){d=r.extend({},d);delete d[qd];return d},sortRows:function(d,a,b){var c,f=la.getValueFct({field:a}),e=a.getName(),g={};d.forEach(function(a){var c=f(a);g[c]?g[c].push(a):g[c]=[a]});var k=[];b.forEach(function(a){g[a]?k=k.concat(g[a]):k.push((c={},c[e]=a,c))});return k}},fo=function(d){return JSON.stringify(d)},
Pt=function(d,a){null==a&&(a=!1);var b=d.map(function(c){return Kh(c,a)});return function(a){return fo(b.map(function(b){return b(a)}))}},Kh=function(d,a){void 0===a&&(a=!1);if(!d)return function(a){};if(a||d.isInternalOnly()){var b=d.getInternalColumnName();return function(a){return Da.getRowInternalField(a,b)}}var c=d.getName();return function(a){return a[c]}},Qt=function(d,a,b){null==b&&(b=!1);return r.isArray(d)?d.length?1===d.length?Kh(d[0],b):Pt(d,b):go(a):Kh(d,b)},go=function(d){return function(){return null!=
d?d:void 0}},Rt=function(d){return function(a){return null!=a?a:d}},la={joinValues:fo,getValueFctFromSingleField:Kh,getValueFct:function(d,a){null==d&&(d={});null==a&&(a=!1);var b=d.value,c=d.field,f=d.scale,e=d.defaultValue,c=null!=b?r.isFunction(b)?[b]:[function(){return b}]:null!=c?[Qt(c,e,a)]:[go(e)];null!=f&&c.push(f.scale);null!=e&&c.push(Rt(e));c=r.filter(c);return 1===c.length?c[0]:A.flow(c)},getValueMapFct:function(d){var a={},b;for(b in d)if(d[b]){var c=d[b];a[b]=this.getValueFct(c,c.useParsedData)}return function(c){var b=
{},d;for(d in a)a[d]&&(b[d]=(0,a[d])(c));return b}},getDotAccessorFct:function(d){if(-1===d.indexOf("."))return function(a){return null!=a?a[d]:void 0};var a=d.split(".");return function(b){a.forEach(function(a){b=null!=b?b[a]:void 0});return b}},isValidJSONString:function(d){try{JSON.parse(d)}catch(a){return!1}return!0},parseValue:function(d){return this.isValidJSONString(d)?JSON.parse(d):d}},ho,He=function(d){function a(){d.apply(this,arguments)}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);
a.prototype.constructor=a;a.setShapeGroup=function(a){ho=a};a.prototype.getShapes=function(){return this.getChildren()};a.prototype.shapeByKey=function(a){return this.getChildByKey(a)};a.prototype.getFlattenShapes=function(){return r.flatten(this.getChildren().map(function(a){return a.getFlattenShapes()}))};a.prototype.flatten=function(){var a=this.getFlattenShapes();this.removeAll();return this.appendAll(a)};a.prototype.applyScales=function(a){if(null==a)return this;this.getChildren().forEach(function(c){c.applyScales(a)});
return this};a.prototype.connectBy=function(a){for(var c=this.getChildren().slice(),f=0;f<c.length;f++){var e=c[f];0<f&&a(c[f-1],e)}return this};a.prototype.groupByField=function(a){a=la.getValueFct({field:a});var c=this.getFlattenShapes();this.removeAll();for(var f=0;f<c.length;f++){var e=c[f];if(e.get("data")&&e.get("data").row){var d=a(e.get("data").row)||"";this.getChildByKey(d)||this.append(new ho({key:d}));this.getChildByKey(d).append(e)}else this.append(e)}return this};a.prototype.sortByField=
function(a){if(null==a)return this;this._setChildren(r.sortBy(this.getChildren(),function(c){return c.get("data").row[a.getName()]}));return this};a.prototype.sortBy=function(a){if(null==a)return this;this._setChildren(r.sortBy(this.getChildren(),a));return this};return a}(od),Ka=function(d){function a(a,c){a||(a={cell:void 0});d.call(this,a,c);var f=a.cell;f&&f.append(this)}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.prototype._setDefaultProps=function(){d.prototype._setDefaultProps.call(this);
var a=this._props;a.x=0;a.y=0;a.staggerAnim=!0;a.scales=void 0;a.viewport=void 0;a.axisOptions=void 0;a.interactive=!1;a.canSelect=!1;a.canHover=!1;a.canScroll=!0;a.brush=null};a.prototype._onChange=function(a){d.prototype._onChange.call(this,a);var c;(c=a.scales)&&this.applyScales(c[0])};a.prototype.getCell=function(){return this.getParent()};a.prototype.getScene=function(){var a=this.getCell();if(a)return a.getScene()};a.prototype.flipX=function(){var a=this._props,c=this.getCell(),c=c?0===c.get("w")?
0:c.get("w")-1:0;if(a.viewport){var f=a.viewport;a.viewport[0]=c-f[0]-f[2]}a.x=c-a.x;if((a=a.scales)&&a.x)a.x=a.x.flip();d.prototype.flipX.call(this);return this};a.prototype.flipY=function(){var a=this._props,c=this.getCell(),c=c?0===c.get("h")?0:c.get("h")-1:0;if(a.viewport){var f=a.viewport;a.viewport[1]=c-f[1]-f[3]}a.y=c-a.y;if((a=a.scales)&&a.y)a.y=a.y.flip();d.prototype.flipY.call(this);return this};a.prototype.rotate=function(){var a=this._props,c=this.getCell(),c=c?0===c.get("h")?0:c.get("h")-
1:0;if(a.viewport){var f=a.viewport,e=f[2];a.viewport=[f[1],c-f[0]-e,f[3],e]}c-=a.x;a.x=a.y;a.y=c;if(a=a.scales)c=a.y,f=a.x&&a.x.flip(),a.x=c,a.y=f,a.x||delete a.x,a.y||delete a.y;d.prototype.rotate.call(this);return this};a.prototype.offsetX=function(a){this._props.x+=a;this._props.viewport&&(this._props.viewport[0]+=a);return this};a.prototype.offsetY=function(a){this._props.y+=a;this._props.viewport&&(this._props.viewport[1]+=a);return this};a.prototype.postProcess=function(){delete this._props.axisOptions;
return d.prototype.postProcess.call(this)};a.prototype.boundingBox=function(a){void 0===a&&(a=!1);var c=this._props;if(c.viewport){var f=c.viewport;(c=new D({x:f[0]-c.x,y:f[1]-c.y,w:f[2],h:f[3]}))&&a&&c.offset.apply(c,this.translation());return c}return d.prototype.boundingBox.call(this,a)};a.prototype.translation=function(){var a=[this._props.x,this._props.y],c=a[0],a=a[1],f=this.getCell(),e=this.getScene();f&&e&&(e=e.get("scrollOffset"),f.get("scrollX")&&(c-=e[0]),f.get("scrollY")&&(a-=e[1]));return[c,
a]};a.prototype.totalTranslation=function(a,c){void 0===a&&(a=!1);void 0===c&&(c=!1);var f=this._props.x,e=this._props.y,d=this.getParent(),k=this._props.canScroll;void 0===k&&(k=!0);d=d&&d.totalTranslation(a&&k,c&&k)||[0,0];return[d[0]+f,d[1]+e]};a.prototype.toJson=function(){var a=d.prototype.toJson.call(this);if(this._props.scales){a.props.scales={};for(var c in this._props.scales)if(this._props.scales[c]){var f=this._props.scales[c];f&&(a.props.scales[c]=f.toJson())}}return a};return a}(He);Ka.type=
"Layer";Ka._sensitiveProps=new $a(["scales"]);var Sa=function(){};Sa.prototype.applyEffect=function(d){return d};Sa.getDescriptor=function(d){return Sa.getDescriptorForType("ShapeEffect",d)};Sa.getDescriptorForType=function(d,a){var b={type:d};null!=a&&(b.options=a);return b};Sa.addEffectToShape=function(d,a){var b=this.getDescriptor(),c=d.get(a);r.isArray(c)||(c=[c]);r.find(c,function(a){return a.type===b.type})||(c.push(b),d.set(a,c))};var Lh=function(d){function a(){d.apply(this,arguments)}d&&
(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.prototype.applyEffect=function(a,c){var f=c.selectState,e=a.fill,d=a.stroke,k=a.texture,m=a.r,n=a.hidden;null!=f&&(f=f===p.SELECT_STATE.FALSE,e&&(e=f?e.toGreyscale():e),d&&(d=f?d.toGreyscale():d),f&&(null!=m&&n)&&(m=0),k&&f&&(k.shade+=0.2));return r.extend(a,{fill:e,stroke:d,texture:k,r:m})};return a}(Sa);Lh.getDescriptor=function(d){return Sa.getDescriptorForType("DefaultSelectionShapeEffect",d)};var Mh=function(d){function a(){d.apply(this,
arguments)}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.prototype.applyEffect=function(a,c){var f=c.hoverState,e=a.fill,d=a.stroke,k=a.texture;null!=f&&f===p.HOVER_STATE.TRUE&&(e&&(e=e.dimColor(0.5)),d&&(d=d.dimColor(0.5)),k&&(k.shade+=0.2));return r.extend(a,{fill:e,stroke:d,texture:k})};return a}(Sa);Mh.getDescriptor=function(d){return Sa.getDescriptorForType("DefaultHoverShapeEffect",d)};var St=Od.getInstance(),Tt="fill hoverFill stroke hoverStroke bgColor hoverBgColor textColor textColorDark textColorLight".split(" "),
ab=function(d){function a(a,c){a||(a={layer:void 0,shapeGroup:void 0});d.call(this,a,c);var f=a.layer,e=a.shapeGroup;f&&f.append(this);e&&e.append(this)}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.prototype._setDefaultProps=function(){d.prototype._setDefaultProps.call(this);var a=this._props;a.opacity=1;a.canHover=!0;a.canSelect=!0;a.skipInFind=!1;a.data=void 0;a.cursorType=p.CURSOR_TYPE.DEFAULT;a.selectionShapeEffect=Lh.getDescriptor();a.hoverShapeEffect=
Mh.getDescriptor();a.selectionKeys=void 0;a.onClick=void 0};a.prototype._mapValue=function(a,c){return-1<Tt.indexOf(a)?this._mapColor(c):c};a.prototype._mapColor=function(a){return"string"===typeof a&&""!==a?St.getColor(a):a};a.prototype.getLayer=function(){for(var a=this.getParent();a&&!(a instanceof Ka);)a=a.getParent();return a};a.prototype.getFlattenShapes=function(){return this};a.prototype.applyScales=function(a){var c={},f=this.getPropertiesByScale(),e;for(e in f)if(f[e]){var d=f[e],k=a[e];
if(k)for(var m=this._props,n=0;n<d.length;n++){var q=d[n],s=m[q];c[q]=null==s?void 0:r.isArray(s)?s.map(function(a){return k.scale(a)}):k.scale(s)}}return this.set(c)};a.prototype.getPropertiesByScale=function(){return{}};a.prototype.getRotation=function(){};a.prototype.isVisible=function(){return 0<this._props.opacity};a.prototype._forceRecomputeBoundingBox=function(){this._hoverBB=this._trueBoundingBox=null};a.prototype._computeTrueBoundingBox=function(){return new D};a.prototype.boundingBox=function(){return this.trueBoundingBox().toAABB()};
a.prototype.trueBoundingBox=function(){this._trueBoundingBox||(this._trueBoundingBox=this._computeTrueBoundingBox());return this._trueBoundingBox};a.prototype.domainBox=function(){return this.boundingBox()};a.prototype._flipProp=function(a){var c=this._props[a];null!=c&&(this._props[a]=r.isArray(c)?c.map(function(a){return-a}):-c);return this};a.prototype.flipX=function(){var a=this;this._forceRecomputeBoundingBox();var c=this.getPropertiesByScale();c.x&&c.x.forEach(function(c){a._flipProp(c)});this._props.angle=
-this._props.angle;return this};a.prototype.flipY=function(){var a=this;this._forceRecomputeBoundingBox();var c=this.getPropertiesByScale();c.y&&c.y.forEach(function(c){a._flipProp(c)});this._props.angle=-this._props.angle;return this};a.prototype.offsetX=function(a){this._forceRecomputeBoundingBox();return this};a.prototype.offsetY=function(a){this._forceRecomputeBoundingBox();return this};a.prototype.rotate=function(){this._forceRecomputeBoundingBox();return this};a.prototype.centerDistSqrd=function(a,
c){var f=this.boundingBox().getCenter();return Math.pow(f[0]-a,2)+Math.pow(f[1]-c,2)};a.prototype.closerThan=function(a,c,f){return this.constructor!==a.constructor?!1:this.centerDistSqrd(c,f)<a.centerDistSqrd(c,f)};return a}(Hh),Nh=function(d){function a(){d.apply(this,arguments)}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.prototype.applyEffect=function(a,c){var f=c.hoverState,e=a.hoverBgColor,d=a.hoverStroke,k=a.bgColor,m=a.stroke;null!=f&&f===p.HOVER_STATE.TRUE&&
(null!=e&&(k=e),null!=d&&(m=d));return r.extend(a,{bgColor:k,stroke:m})};return a}(Sa);Nh.getDescriptor=function(d){return Sa.getDescriptorForType("HighlightHoverShapeEffect",d)};var Ut={right:"left",left:"right",center:"center"},Vt={right:"top",left:"bottom",center:"middle"},Wt={top:"bottom",bottom:"top",middle:"middle"},Xt={top:"left",bottom:"right",middle:"center"},Oh=0,io=0,ya=function(d){function a(a){null==a&&(a={});if(!Oh){var c;c=Qa.getDelegate().fontInfo();Oh=c.SIZE_ASCENDER;io=c.SIZE_DESCENDER}d.call(this,
a);this._maxTextWidth=0;this._isTruncated=void 0}d&&(a.__proto__=d);a.prototype=Object.create(d&&d.prototype);a.prototype.constructor=a;a.initClass=function(){this.type="Text";this.shapeEffectsProps=["stroke","bgColor","hoverBgColor","hoverStroke"];this._sensitiveProps=new $a(["pivot","text"])};a.prototype._setDefaultProps=function(){d.prototype._setDefaultProps.call(this);var a=this._props;a.key="Text";a.x=0;a.y=0;a.text=void 0;a.stroke=void 0;a.size=12;a.halign="left";a.valign="bottom";a.vertical=
!1;a.maxWidth=void 0;a.includeDescender=!0;a.cw=!1;a.pivot=void 0;a.pivot_x=void 0;a.pivot_y=void 0;a.angle=0;a.hoverBgColor=void 0;a.hoverStroke=void 0;a.bgColor=void 0;a.hotSpots=void 0;a.canSelect=!1;a.fixedOrientation=!1;a.hoverShapeEffect=[a.hoverShapeEffect,Nh.getDescriptor()];a.padding=new fb({top:0,right:0,bottom:0,left:0})};a.prototype._mapValue=function(a,c){c=d.prototype._mapValue.call(this,a,c);return"angle"===a?r.isNumber(c)?c:0:"padding"===a?new fb(c):c};a.prototype._onChange=function(a){var c;
d.prototype._onChange.call(this,a);if(c=a.pivot)c=c[0],this._props.pivot_x=c[0],this._props.pivot_y=c[1];if(c=a.text)this._props.text=""+c[0]};a.prototype._hasFixedWidth=function(){return this.hasBackground()&&null!=this._props.maxWidth};a.prototype.set=function(a,c,f){this._isTruncated=void 0;this._forceRecomputeBoundingBox();return d.prototype.set.call(this,a,c,f)};a.prototype.getPropertiesByScale=function(){return{x:["x","pivot_x"],y:["y","pivot_y"]}};a.prototype.fitToSize=function(a,c,f,e){null==
f&&(f=12);null==e&&(e=1E3);this.set({size:e});for(var d=f,k=e,m=0;1E3>m;){var n=q,q=d+(k-d)/2;this.set({size:q});var s=this.boundingBox(),u=s.w>=0.95*a&&s.w<=a&&s.h<c||s.h>=0.95*c&&s.h<=c&&s.w<a;if(q===n||q===f||q===e||u)break;else s.w>a||s.h>c?k=q:d=q;m++}return this};a.prototype.getText=function(){this.trueBoundingBox();var a=this.getModelProps(),c=a.maxWidth,f=a.text,a=a.fontSize;return null!=c?(a/=12,Qa.getDelegate().getTruncatedText(f,c/a)):f};a.prototype.getW=function(){if(this._hasFixedWidth())return this._props.maxWidth;
var a=this._props.padding,c=a.left,a=a.right;return this.getTextW()+c+a};a.prototype.getH=function(){var a=this._props.padding,c=a.top,a=a.bottom;return this.getTextH()+c+a};a.prototype.getTextH=function(){return Qa.getDelegate().getRealFontSize(this._props.size)};a.prototype.getTextW=function(){if(this._hasFixedWidth()){var a=this._props.padding;return this._maxTextWidth=Math.max(this._props.maxWidth-a.left-a.right,0)}return this.isTruncated()?this._maxTextWidth:Qa.getDelegate().getTextWidth(this._props.text,
this._props.size)};a.prototype.getRotation=function(){var a=this._props.vertical?this._props.cw?Math.PI/2:-Math.PI/2:0;if(a+=this._props.angle){var c=null!=this._props.pivot_x?[this._props.pivot_x,this._props.pivot_y]:[this._props.x,this._props.y];return{x:c[0],y:c[1],angle:a}}return null};a.prototype.hasBackground=function(){return this._props.bgColor||this._props.hoverBgColor};a.prototype._getBaseXY=function(a,c){null==c&&(c=!0);var f=this.getTextH(),e=this._props.padding,d=e.top,k=e.left,e=e.bottom,
m=this._props.includeDescender?io:0,n;switch(this._props.halign){case "right":n=-a;break;case "center":n=-a/2;break;default:n=0}switch(this._props.valign){case "top":d=f*(1-Oh-m)+d;break;case "middle":d=f*(1-Oh-m)/2;break;default:d=-e}c?n+=k:d+=e+f*m;return[this._props.x+n,this._props.y+d]};a.prototype._adjustRtlBaseXY=function(a){var c=a[0];a=a[1];var f=Db.isRTL()?Math.min(this.getTextW(),Qa.getDelegate().getTextWidth(this._props.text,this._props.size)):0;return[c+f,a]};a.prototype.getTextXY=function(){var a=
this._props.padding,c=a.left,a=a.right,c=this._adjustRtlBaseXY(this._getBaseXY(this.getTextW()+c+a)),a=c[1];return[Math.round(c[0]),Math.round(a)]};a.prototype.isTruncated=function(){null==this._isTruncated&&(this._isTruncated=this._computeIsTruncated());return this._isTruncated};a.prototype._computeIsTruncated=function(){if(null!=this._props.maxWidth){var a=this._props.padding;this._maxTextWidth=Math.max(this._props.maxWidth-a.left-a.right,0);return Qa.getDelegate().getTextWidth(this._props.text,
this._props.size)>this._maxTextWidth}return!1};a.prototype._computeTrueBoundingBox=function(){var a=this.getW(),c=this.getH(),f=this._getBaseXY(a,!1);return new D({x:f[0],y:f[1]-c,w:a,h:c,rotation:this.getRotation()})};a.prototype.domainBox=function(){return new D({x:this._props.x,y:this._props.y,w:0,h:0})};a.prototype._flipHalign=function(){this._props.halign=Ut[this._props.halign];return this};a.prototype._flipValign=function(){this._props.valign=Wt[this._props.valign];return this};a.prototype._transposeTexAlign=
function(){var a=this._props,c=a.valign;this._props.valign=Vt[a.halign];this._props.halign=Xt[c];return this};a.prototype.flipY=function(){d.prototype.flipY.call(this);this._props.vertical?(this._flipHalign(),this._props.padding.flipX()):(this._flipValign(),this._props.padding.flipY());return this};a.prototype.flipX=function(){d.prototype.flipX.call(this);this._props.vertical?(this._flipValign(),this._props.padding.flipY()):(this._flipHalign(),this._props.padding.flipX());return this};a.prototype.offsetY=
function(a){d.prototype.offsetY.call(this,a);this._props.y+=a;return this};a.prototype.offsetX=function(a){d.prototype.offsetX.call(this,a);this._props.x+=a;return this};a.prototype.rotate=function(){d.prototype.rotate.call(this);this._props.vertical&&(this._flipHalign(),this._flipValign());this._props.fixedOrientation?this._transposeTexAlign():this._props.vertical=!this._props.vertical;var a;a=[this._props.y,-this._props.x];this._props.x=a[0];this._props.y=a[1];return this};a.prototype.rotateTextDirection=
function(){this._props.vertical&&(this._flipHalign(),this._flipValign());this._props.vertical=!this._props.vertical;return this};a.prototype.toJson=function(){var a=d.prototype.toJson.call(this);a.props.padding=null!=a.props.padding?a.props.padding.toJson():void 0;return a};return a}(ab);ya.initClass();var va={intersectRectRect:function(d,a){return d[0]+d[2]<a[0]||a[0]+a[2]<d[0]||d[1]+d[3]<a[1]||a[1]+a[3]<d[1]?!1:!0},getFont:function(d){return d+"px "+Ra.FONT.FAMILY},tweenedValue:function(d,a){var b;
return d.tweens&&void 0!==(b=d.tweens[a])?b[1]:d[a]},setStyles:function(d,a){var b=[],c;for(c in a)a[c]&&b.push(d.style[c]=a[c]);return b},pageScrollOffset:function(){var d=document.documentElement;return{top:(window.pageYOffset||d.scrollTop||0)-(d.clientTop||0),left:(window.pageXOffset||d.scrollLeft||0)-(d.clientLeft||0)}},isIE:function(){return(-1!==navigator.userAgent.indexOf("MSIE")?/MSIE (\d+\.\d+);/:/Trident.*rv[ :]*(\d+\.\d+)/).test(navigator.userAgent)},isElementInViewport:function(d,a){var b=
d.getBoundingClientRect(),c=b.left,f=b.top,e=b.width,b=b.height;return 0===c&&0===f&&0===e&&0===b?!1:va.intersectRectRect([c,f,a[0],a[1]],[0,0,window.innerWidth||document.documentElement.clientWidth,window.innerHeight||document.documentElement.clientHeight])}},ok=Ra.ELLIPSIS,Yt=Ra.FONT,Zt=Ra.EPSILON,Ac=function(){this._delegate=null;this.reset()};Ac.cacheKey=function(d,a){return d+"-"+a};Ac.prototype.getTextDelegate=function(){return this._delegate};Ac.prototype.setTextDelegate=function(d){this._delegate=
d};Ac.prototype.reset=function(){this._measuredText={};this._truncatedText={};return this};Ac.prototype.getFont=function(d){return d+"px "+Yt.FAMILY};Ac.prototype.getTextWidth=function(d){var a=0;null!=d&&(this._measuredText.hasOwnProperty(d)?a=this._measuredText[d]:this._delegate&&(a=this._delegate.measureText(d).width,this._measuredText[d]=a));return a||0};Ac.prototype.getTruncatedText=function(d,a){var b=Ac.cacheKey(d,a),c;if(this._truncatedText.hasOwnProperty(b))c=this._truncatedText[b];else{if(this.getTextWidth(d)<=
a+Zt)c=d;else{var f=this.getTextWidth(ok);c="";if(a>f){c=0;for(f=d.length-1;f>=c;){var e=c+(f-c>>1),g=this.getTextWidth(d.slice(0,e+1)+ok);if(g===a){f=e;break}g<a?c=e+1:f=e-1}c=(-1===f?"":d.slice(0,f+1))+ok}}this._truncatedText[b]=c}return c};Ac.prototype.wrap=function(d,a,b){var c=d.length;if(0>=a||0===c)return{lines:[],rest:d.join(" ")};for(var f="",e=0,e=0;e<c;++e){var g=f+d[e];if(this.getTextWidth(g)>b){f=f.substring(0,f.length-1);break}else f=g+(e===c-1?"":" ")}d=this.wrap(d.slice(e),a-1,b);
a=d.rest;return{lines:[f].concat(d.lines),rest:a}};var wc=oa(Ac),Ph=function(){this.resolve=this.resolve.bind(this);this.reject=this.reject.bind(this);this.promise=new Promise(function(d,a){this._resolve=d;this._reject=a}.bind(this))};Ph.prototype.resolve=function(){(d=this)._resolve.apply(d,arguments);return this;var d};Ph.prototype.reject=function(){(d=this)._reject.apply(d,arguments);return this;var d};var jo={mockXhrUrl:function(d){window.__karma__&&0!==d.indexOf("/base")&&(d="/base/tests/"+d);
return d},request:function(d){var a=d.url,b=d.action,c=d.dataType,f=d.data;d=d.isSync;null==b&&(b="GET");var e=new XMLHttpRequest,a=this.mockXhrUrl(a);if(d)return e.open(b,a,!1),c&&(e.responseType=c),e.send(f),e;var g=new Ph;e.onload=function(){return 300>this.status?g.resolve(this.response):g.reject(this.statusText)};e.onerror=function(){return g.reject(this.statusText)};e.open(b,a);c&&(e.responseType=c);e.send(f);return g.promise}},bg=function a(b){this._view=b;this._redrawIfNeeded=dk(a.prototype._redrawIfNeeded,
p.ANIM_DURATION.IMAGE_LOADING_REDRAW)};bg.prototype._redrawIfNeeded=function(){this._view.isRemoved()||this._view.isAnimating()||this._view.redraw()};bg.prototype.willLoadImage=function(a){};bg.prototype.didLoadImage=function(a){this._view.isRemoved()||this._view.isAnimating()||this._redrawIfNeeded()};bg.prototype.failedToLoadImage=function(a){};var ko=function(a){return r.reduce(a,function(a,c){return a+c},0)},$t=function(a,b){for(;a.length<b;)a="\u00a0"+a;return a},lo=null,P=function(a){this._name=
a.name};P.prettyPrint=function(a){console.log(" transaction: "+a.name+" | duration: "+a.duration+" ");0<r.keys(a.marks).length&&console.table(a.marks);if(0<r.keys(a.iterations).length){var b={},c=0;r.keys(a.iterations).sort().forEach(function(f){var e=a.iterations[f];f=f.split(" \x3e ");var g=f.pop();f=f.map(function(a){return"\u00a0\u00a0"}).join("")+g;b[$t(""+c++,3)+" "+f]=e});return console.table(b)}};P.prototype.start=function(a){this._info=a;this._startTime=Date.now();this._endTime=null;this._marks=
{};this._iterations={};this._nestedIterationMarks=[];return this};P.prototype.getStartTime=function(){return this._startTime};P.prototype.end=function(){null==this._endTime&&(this._endTime=Date.now());return this};P.prototype.getEndTime=function(){return this._endTime};P.prototype.mark=function(a){if(!(null!=this._marks[a]&&this._marks[a].start))return this._marks[a]={start:Date.now()-this._startTime},this};P.prototype.endMark=function(a){if(this._marks[a]&&null==this._marks[a].duration)return this._marks[a].duration=
Date.now()-this._marks[a].start-this._startTime,this};P.prototype.updateInfo=function(a){for(var b in a)a.hasOwnProperty(b)&&(this._info[b]=a[b])};P.prototype.prettyPrint=function(){return P.prettyPrint(this.toJson())};P.prototype.toJson=function(){this.end();var a={},b;for(b in this._iterations)if(this._iterations[b]){var c=this._iterations[b],f=c.length;if(0!==f){var e=r.map(c,"duration"),c=ko(e),g=c/f,k=r.min(e),m=r.max(e),e=Math.sqrt(ko(r.map(e,function(a){return(a-g)*(a-g)}))/f);a[b]={total:parseFloat(c.toFixed(2)),
nb:f,avg:parseFloat(g.toFixed(2)),stdDev:parseFloat(e.toFixed(2)),min:parseFloat(k.toFixed(2)),max:parseFloat(m.toFixed(2))}}}return{name:this._name,startTime:this._startTime,duration:this._endTime-this._startTime,marks:JSON.parse(JSON.stringify(this._marks)),iterations:a,info:this._info}};P.prototype.merge=function(a,b){null==b&&(b="");var c=a.name,f=a.startTime,e=a.duration,g=a.marks;b&&(c=b+"-"+c);this._marks[c]={start:f-this._startTime,duration:e};for(var k in g)g[k]&&(e=g[k],this._marks[c+"-"+
k]={start:e.start+f-this._startTime,duration:e.duration});return this};P.prototype.add=function(a,b){this._endTime=(this._endTime||this._startTime)+a.duration;return this.merge(a,b)};P.prototype._iterationPath=function(a){return this._nestedIterationMarks.concat(a).join(" \x3e ")};P.prototype.iteration=function(a,b){var c=this._iterationPath(a);this._nestedIterationMarks.push(a);var f=Date.now()-this._startTime;try{return b()}finally{var e=Date.now()-this._startTime,g=e-f;this._nestedIterationMarks.pop();
null==this._iterations[c]&&(this._iterations[c]=[]);this._iterations[c].push({start:f,end:e,duration:g})}};P.prototype.resetIterations=function(){return this._iterations={}};P.setInstance=function(a){return lo=a};P.getInstance=function(){return lo};var au=Fe.init("shape"),sb=function(){};sb.prototype.render=function(a,b,c){void 0===c&&(c={duration:0});var f=(new P({name:"rendering"})).start();b&&a.setModel(this._assignPainter(b,a.getTweener()));f.end();return this._render(a,c).then(function(a){var c=
(new P({name:"remove-invisible"})).start();c.end();f.add(c.toJson());a&&f.add(a.toJson());return f})};sb.prototype.isPatchSupported=function(){return!0};sb.prototype.renderAccessibilityTable=function(a,b){};sb.prototype.renderAccessibilityTabbableItems=function(a){};sb.prototype._createPainter=function(a){return null};sb.prototype._getPainter=function(a,b){return a.painter};sb.prototype._assignPainter=function(a,b){var c=this;b.addTweenProperties(a,a.tweens);a.painter=this._createPainter(a.props.type);
a.uid=au.next();a.getChildren().forEach(function(a){return c._assignPainter(a,b)});return a};sb.prototype._render=function(a,b){return Promise.resolve(this._drawContainer(a.getModel(),a.getContext()))};sb.prototype._drawContainer=function(a,b){var c=this;b.save();b.saveGraphicsContext();this._applySelfTransform(a,b);var f=this._getPainter(a,b);f&&(b.applyTransform(),f.draw(a,b.getGraphicsContext(),b.getImageLoaderDelegate()),b.restoreTransform());this._applyScrolling(a,b);this._applyChildrenTransform(a,
b);a.getChildren().forEach(function(a){return 0<a.getChildren().length?c._drawContainer(a,b):c._drawElement(a,b)});b.restoreGraphicsContext();b.restore()};sb.prototype._drawElement=function(a,b){b.save();this._applySelfTransform(a,b);var c=this._getPainter(a,b);c&&(b.saveGraphicsContext(),b.applyTransform(),c.draw(a,b.getGraphicsContext(),b.getImageLoaderDelegate()),b.restoreGraphicsContext());b.restore()};sb.prototype._applySelfTransform=function(a,b){var c=a.props,f=c.x,e=c.y,g=c.rotation;if(g){var c=
g.x,k=g.y,g=g.angle;b.translate(c,k);b.rotate(g);b.translate(-c,-k)}if(f||e)b.translate(f||0,e||0)};sb.prototype._applyChildrenTransform=function(a,b){var c=a.props,f=c.tx,c=c.ty;if(f||c)b.translate(f||0,c||0)};sb.prototype._applyScrolling=function(a,b,c){void 0===c&&(c=!1);var f=a.getParent();if(f)if(!1===a.props.canScroll)this._applyScrolling(f,b,!0);else{var e=a.props;a=e.scrollX;e=e.scrollY;if((f=f.props.scrollOffset)&&(a||e))c=c?1:-1,b.translate(c*(a?f[0]||0:0),c*(e?f[1]||0:0))}};var bu=function(a){function b(){a.apply(this,
arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._drawContainer=function(a,b){var e=this;b.save();b.saveGraphicsContext();this._applySelfTransform(a,b);var g=a.painter;g&&(b.applyTransform(),g.draw(a,b.getGraphicsContext(),b.getImageLoaderDelegate()),b.shouldDrawDebugInfo(a)&&g.drawDebug(a,b.getGraphicsContext(),b.getImageLoaderDelegate()),b.restoreTransform());this._applyScrolling(a,b);this._applyChildrenTransform(a,b);a.getChildren().forEach(function(a){return 0<
a.getChildren().length?e._drawContainer(a,b):e._drawElement(a,b)});b.restoreGraphicsContext();b.restore()};b.prototype._drawElement=function(c,b){a.prototype._drawElement.call(this,c,b);if(b.shouldDrawDebugInfo(c)){b.save();var e=c.painter;e&&(b.saveGraphicsContext(),b.applyTransform(),e.drawDebug(c,b.getGraphicsContext(),b.getImageLoaderDelegate()),b.restoreGraphicsContext());b.restore()}};return b}(sb),mo=p.COLOR_TYPE,cu=mo.SIMPLE_COLOR,du=mo.LINEAR_GRADIENT,no=p.TEXTURE.FIT,eu=no.COVER,fu=no.CONTAIN,
Fb=function(){};Fb.prototype.draw=function(a,b,c){this._setStyle(a,b);this._drawBackground(a,b)};Fb.prototype._drawBackground=function(a,b){var c=a.props,f=c.x,e=c.y;if(c=c.bg)b.save(),b.translate(-f,-e),f=c.box,b.fillStyle=c.color.toString(),b.fillRect(f[0],f[1],f[2],f[3]),b.restore()};Fb.prototype._drawTexture=function(a,b,c,f,e){var g=f[0],k=f[1],m=f[2],n=f[3],q=a.width,s=a.height,u=q/s,p=Math.abs(m/n);switch(b){case eu:u>p?(b=n/s,e.drawImage(a,g+(m-q*b)/2,k,q*b,n)):(b=m/q,e.drawImage(a,g,k+(n-
s*b)/2,m,s*b));break;case fu:u<p?(b=n/s,e.drawImage(a,g+(m-q*b)/2,k,q*b,n)):(b=m/q,e.drawImage(a,g,k+(n-s*b)/2,m,s*b));break;default:e.drawImage(a,g,k,m,n)}null!=c&&1!==c&&(e.fillStyle="rgba(0, 0, 0, "+c+")",e.fillRect.apply(e,f))};Fb.prototype._getColorRegion=function(a){var b=a.props.bb,c=b[0],f=b[1],e=b[2],b=b[3];return a.props.boundingBox?{x0:c,y0:f,x1:c+e,y1:f+b}:{x0:0,y0:0,x1:0,y1:0}};Fb.prototype._setStyle=function(a,b){var c=a.props,f=c.opacity,e=c.lineWidth,g=c.stroke,c=c.fill;b.globalAlpha=
0>f?0:f;null!=e&&(b.lineWidth=e);g&&(b.strokeStyle=this._processColor(a,b,g));c&&(b.fillStyle=this._processColor(a,b,c))};Fb.prototype._processColor=function(a,b,c){var f="";switch(c.getType()){case cu:f=c.toRGBAString();break;case du:a=this._getColorRegion(a);var e=b.createLinearGradient(a.x0,a.y0,a.x1,a.y1);c.getColorStops().forEach(function(a){e.addColorStop(a[1],a[0].toRGBAString())});f=e}return f};var gu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,e){a.prototype.draw.call(this,c,b,e);var g=c.props;e=g.closePath;var k=g.fill,m=g.stroke,n=g.dashed,q=g.lineWidth,s=g.baseX,u=g.baseY,g=g.lineJoin,p=this._getPoints(c.props);c=p[0];p=p[1];if(c&&p){var t=null==q?1:q%2/2;b.translate(t,t);b.lineJoin=g;k&&(this._drawPath(b,c,p,s,u,!0),b.fill());m&&(q&&0<q)&&(this._drawPath(b,c,p,null,null,e),n&&b.setLineDash&&(b.lineCap="round",b.setLineDash([1,n])),b.stroke())}};b.prototype._getPoints=
function(a){return[a.points_x,a.points_y]};b.prototype._drawPath=function(a,b,e,g,k,m){void 0===m&&(m=!1);a.beginPath();null!=g?(a.moveTo(g,e[0]),a.lineTo(b[0],e[0])):null!=k?(a.moveTo(b[0],k),a.lineTo(b[0],e[0])):a.moveTo(b[0],e[0]);for(var n=1;n<b.length;++n)a.lineTo(b[n],e[n]);null!=g?a.lineTo(g,e[e.length-1]):null!=k&&a.lineTo(b[b.length-1],k);m&&a.closePath()};return b}(Fb),oo=oa(gu),hu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
b.prototype.constructor=b;b.prototype._getPoints=function(a){return[a.animate_points_x,a.animate_points_y]};return b}(oo),iu=oa(hu),po=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.getInstance=function(){this.instance||(this.instance=new this);return this.instance};b.prototype._render=function(a,b){var e=this;void 0===b&&(b={});var g=(new P({name:"visibility-test"})).start(),k=a.getModel(),m=a.getContext(),
n=a.getTweener(),q=function(a){m.setInterpolationRatio(a);e._drawContainer(k,m)};g.end();return new Promise(function(a,c){n.runTween(b,q,function(c){c&&g.add(c.toJson());a(g)})})};b.prototype._getPainter=function(a,b){return a.hasAnimatePathInfo()?b.isAnimating()?iu.getInstance():a.painter:a.painter};return b}(bu);po.instance=null;var qa=function(a,b){void 0===b&&(b=!1);var c=r.escape(a);return b?c.replace(/ /g,"\x26nbsp;"):c},Vc=p.ACCESSIBILITY,ju=function(a){function b(){a.apply(this,arguments)}
a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(c,b,e){void 0===e&&(e={duration:0});var g=(new P({name:"accessibility"})).start();this.renderTooltip(b,c,c.getContext(),[]);g.end();return a.prototype.render.call(this,c,b,e).then(function(a){return a.add(g.toJson())})};b.prototype.renderAccessibilityTable=function(a,b){a.updateAccessibilityTable(this._renderCaption(a)+this._renderTableMarkup(b))};b.prototype.renderAccessibilityTabbableItems=
function(a){a.setTabbableItems(Vc.TYPE.AXIS,this.collectTabbableItems(a,Vc.TYPE.AXIS));a.setTabbableItems(Vc.TYPE.DATA,this.collectTabbableItems(a,Vc.TYPE.DATA))};b.prototype.updateAccessibilityDataItems=function(a){a.getContainerEl(Vc.TYPE.DATA)&&a.setTabbableItems(Vc.TYPE.DATA,this.collectTabbableItems(a,Vc.TYPE.DATA))};b.prototype.collectTabbableItems=function(a,b){return this._collectTabbableItems(a.getModel(),[],!1,!1,{},b)};b.prototype.renderTooltip=function(a,b,e,g){var k=this;e.save();this._applyScrolling(a,
e);this._applyChildrenTransform(a,e);a.getChildren().forEach(function(m){g.push(m.groupKey||m.key);var n=m.props,q=n.accessibility,s=n.bb,n=n.bb0;q&&q.showTooltip&&(q=e.applyTransformTo(s||n),b.showTooltipAtWithKey(q[0]+(q[2]>>1),q[1]+(q[3]>>1),g));k.renderTooltip(m,b,e,g);g.pop(a.key)});e.restore()};b.prototype._renderTableMarkup=function(a){function b(f){return f.map(function(b,f){return(a.titleRow[f].type===Vc.CELL_TYPE.DIMENSION?g:k)({label:b})}).join("")}function e(a){var c=""===a.label?"\x3c/td\x3e ":
"\x3c/th\x3e";return""+(""===a.label?"\x3ctd\x3e":"\x3cth scope\x3d'col'\x3e")+qa(a.label)+c}var g=function(a){return"\x3cth scope\x3d'row'\x3e"+qa(a.label)+"\x3c/th\x3e"},k=function(a){return"\x3ctd\x3e"+qa(a.label)+"\x3c/td\x3e"},m=a.titleRow.length?"\x3ctr\x3e"+a.titleRow.map(e).join("")+"\x3c/tr\x3e":"",n=a.dataRows.map(function(a){return"\x3ctr\x3e"+b(a)+"\x3c/tr\x3e"}).join("");return m+n};b.prototype._renderCaption=function(a){return this._renderCaptionMarkup(this._collectCaption(a.getModel()))};
b.prototype._collectCaption=function(a){var b=this;if(a){var e=Q.flatten(a.getChildren().map(function(a){return b._collectCaption(a)}));return(a=a.props.accessibility)&&a.type===Vc.TYPE.CAPTION?[{key:a.key,value:a.value}].concat(e):Q.flatten(e)}return[]};b.prototype._renderCaptionMarkup=function(a){return a.length?"\x3ccaption\x3e"+a.map(function(a){return qa(a.key)+":"+qa(a.value)}).join(",")+"\x3c/caption\x3e":""};b.prototype._collectTabbableItems=function(a,b,e,g,k,m){var n=this;if(!a||a.groupKey&&
null!=k[a.groupKey])return[];var q=a.groupKey,s=a.props,u=s.accessibility,p=s.opacity,s=s.isAccessible;q&&(k[q]=q);b.push(q||a.key);q=Q.flatten(a.getChildren().map(function(q){return n._collectTabbableItems(q,b,a.props.scrollX||e,a.props.scrollY||g,k,m)}));if(u&&u.type===m&&(null==p||0<p||!0===s))q=[{keyPath:b.slice(1)}].concat(q);b.pop();return q};return b}(po),fs="green",pk=function(){};pk.prototype.draw=function(a,b){var c=a.props,f=c.w,e=c.h,c=c.background;b.clearRect(0,0,f,e);c&&(b.fillStyle=
c.toString(),b.fillRect(0,0,f,e))};pk.prototype.drawDebug=function(a,b,c){};var ku=oa(pk),qk=function(){};qk.prototype.draw=function(a,b){if(a.props.viewport){var c=a.props.viewport,f=c[0],e=c[1],g=c[2],c=c[3];b.beginPath();b.rect(f,e,g,c);b.clip()}};qk.prototype.drawDebug=function(a,b,c){b.save();a=a.props;c=a.key;var f=a.tx,e=a.ty,g=a.w,k=a.h;"Cell"===a.type&&(b.font=va.getFont(10),b.strokeStyle="red",b.strokeRect(f,e,g,k),b.textBaseline="top",b.strokeText(c,f,e));b.restore()};var lu=oa(qk),qo=
Ra.FONT,ro=2*Math.PI,mu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,e){a.prototype.draw.call(this,c,b,e);var g=c.props,k=g.angle;e=g.startAngle;var m=g.roundedCornerStart,n=g.roundedCornerEnd,q=g.r1,s=g.r2,u=g.fill,p=g.stroke,t=g.lineWidth,r=g.text,z=g.subText,g=g.textColor,w=0===k?0:1>Math.abs(k*(s||q))?1*(0>k?-1:1)/(s||q):k;if(k&&(!m||this.roundedCornerEnd)||0<q){b.rotate(e);
k=0>w;b.beginPath();if(0<s){var y=0.5*(q+s);b.moveTo(s,0);m&&b.arc(y,0,(q-s)/2,Math.PI,0,k);b.arc(0,0,q,0,w,k);n&&(m=y*Math.cos(w),n=y*Math.sin(w),b.arc(m,n,(q-s)/2,w,Math.PI+w,k));b.arc(0,0,s,w,0,!k)}else b.moveTo(0,0),m&&b.arc(q/2,0,q/2,Math.PI,0,k),b.arc(0,0,q,0,w,k),n&&(m=q/2*Math.cos(w),n=q/2*Math.sin(w),b.arc(m,n,q/2,w,Math.PI+w,k));b.closePath();u&&b.fill();p&&(t&&0<t)&&(w===ro||w===-ro?(b.beginPath(),b.arc(0,0,q,0,w),b.stroke(),0<s&&(b.beginPath(),b.arc(0,0,s,w,0),b.stroke())):b.stroke())}g&&
r&&(s=c.props,q=s.textR,c=s.fontSize,s=s.subTextFontSize,u=q*Math.cos(w/2),w=q*Math.sin(w/2),b.translate(u,w),e&&b.rotate(-e),b.textAlign="center",b.textBaseline="middle",b.fillStyle=g.toRGBAString(),c=c||qo.SIZE,b.font=va.getFont(c),z?(b.fillText(r,0,-c/2-0.1*c),s=s||qo.SIZE,b.font=va.getFont(s),b.fillText(z,0,s/2+0.1*s)):b.fillText(r,0,0))};b.prototype._getColorRegion=function(a){a=a.props.r1;return{x0:a,y0:0,x1:-a,y1:a}};return b}(Fb),nu=oa(mu),so={drawCurve:function(a){var b=a.ctx,c=a.curve;a=
a.lineWidth;var f=c.type,e=c.cp0,g=c.cp1,k=c.cp2,m=c.cp3;b.beginPath();b.lineWidth=a;b.moveTo(e[0],e[1]);"bezier"===f?b.bezierCurveTo(g[0],g[1],k[0],k[1],m[0],m[1]):"quadratic"===c.type&&b.quadraticCurveTo(g[0],g[1],k[0],k[1])}},ou=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,e){a.prototype.draw.call(this,c,b,e);var g=c.props;c=g.lineWidth;e=g.fill;var k=g.stroke,m=g.dx,n=g.dy,
q=g.h,s=g.dashed,g=g.curve,u=null==c?1:c%2/2;b.translate(u,u);e&&(b.beginPath(),b.moveTo(q,0),b.lineTo(m+q,n),b.lineTo(0,n),b.lineTo(0,0),b.fill());k&&(c&&0<c)&&(s&&b.setLineDash&&(b.lineCap="round",b.setLineDash([1,s])),g?(1===c&&b.translate(-u,-u),so.drawCurve({ctx:b,curve:g,lineWidth:c})):(b.beginPath(),b.lineWidth=c,b.moveTo(q,0),b.lineTo(m+q,n)),b.stroke())};b.prototype._getColorRegion=function(a){var b=a.props;a=b.h;var e=b.dx,b=b.dy;return null!=a&&null!=e&&null!=b?{x0:0,y0:0,x1:a+e,y1:b}:
{x0:0,y0:0,x1:0,y1:0}};return b}(Fb),pu=oa(ou),ta={events:!1,scripts:!1,perf:!1,animation:!1,debugParams:!1,map:!1,rendering:!1,moduleLoader:!1,images:!1},qu=jo.mockXhrUrl,rd=function(a){this._url=a;this._delegates=[];this._state=0;this._img=new Image;this._img.onload=this._onLoadImage.bind(this);this._img.onerror=this._onErrorImage.bind(this);this._img.src=qu(a);ta.images&&console.log("ImageCache:: willLoadImage",a)};rd.prototype.addDelegate=function(a){switch(this._state){case 0:if(0<=this._delegates.indexOf(a))break;
this._delegates.push(a);a.willLoadImage(this._url);break;case 1:a.didLoadImage(this._url);break;case 2:a.failedToLoadImage(this._url)}};rd.prototype.isLoaded=function(){return 1===this._state};rd.prototype.getImage=function(){return this._img};rd.prototype._onErrorImage=function(){this._state=2;this._notifyDelegates("failedToLoadImage");this._cleanup()};rd.prototype._onLoadImage=function(){this._state=1;this._notifyDelegates("didLoadImage");this._cleanup()};rd.prototype._notifyDelegates=function(a){var b=
this;ta.images&&console.log("ImageCache::",a,this._url,"-\x3e dispatching to",(this._delegates||[]).length,"delegates");this._delegates&&this._delegates.forEach(function(c){c[a](b._url)})};rd.prototype._cleanup=function(){delete this._delegates;delete this._img.onload;delete this._img.onerror};var ru=function(a){return null},Ie=function(){this._cache={};this._urlValidator=ru};Ie.prototype.setImageValidator=function(a){this._urlValidator=a;return this};Ie.prototype.validateUrl=function(a){return this._urlValidator(a)};
Ie.prototype.registerImage=function(a,b){var c=this._cache[a];c||(c=this._cache[a]=new rd(a));c&&b&&c.addDelegate(b)};Ie.prototype.isImageLoaded=function(a){return(a=this._cache[a])?a.isLoaded():!1};Ie.prototype.getImage=function(a){return(a=this._cache[a])?a.getImage():null};var Qh=oa(Ie),su=Ra.FONT,rk=Qh.getInstance(),tu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,e){a.prototype.draw.call(this,
c,b,e);var g=c.props,k=g.w,m=g.h,n=g.cornerRadius,q=g.fill,s=g.stroke,u=g.lineWidth,p=g.dashed,g=g.texture;if(n){var t=0<k?n:-n,r=0<m?n:-n;b.beginPath();b.moveTo(t,0);b.lineTo(k-t,0);b.quadraticCurveTo(k,0,k,r);b.lineTo(k,m-r);b.quadraticCurveTo(k,m,k-t,m);b.lineTo(t,m);b.quadraticCurveTo(0,m,0,m-r);b.lineTo(0,r);b.quadraticCurveTo(0,0,t,0)}q&&(n?b.fill():b.fillRect(0,0,k,m));g&&(t=g.url,q=g.fit,g=g.shade,rk.isImageLoaded(t)?(e=rk.getImage(t),b.save(),n||(b.beginPath(),b.rect(0,0,k,m)),b.clip(),a.prototype._drawTexture.call(this,
e,q,g,[0,0,k,m],b),b.restore()):rk.registerImage(t,e));s&&(u&&0<u)&&(p&&b.setLineDash&&(b.lineCap="round",b.setLineDash([5,p])),n?b.stroke():(n=u%2/2,b.strokeRect(n,n,k,m)));this._drawText(c,b)};b.prototype._drawText=function(a,b){var e=a.props,g=e.textX,k=e.textY,m=e.textColor,n=e.text,q=e.textRotation,e=e.fontSize;m&&(n&&null!=g&&null!=k)&&(b.font=va.getFont(e?e:su.SIZE),b.fillStyle=m.toRGBAString(),b.translate(g,k),q&&b.rotate(q),b.fillText(n,0,0))};b.prototype._getColorRegion=function(a){a=a.props.w;
return 0>a?{x0:-a,y0:0,x1:0,y1:0}:{x0:0,y0:0,x1:a,y1:0}};return b}(Fb),uu=oa(tu),sk=Ra.FONT,vu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,e){a.prototype.draw.call(this,c,b,e);this._setupCache(c);e=c.rendererCache;var g=c.props,k=g.maxWidth,m=g.fontSize;c=g.text;g=g.halign;b.font=wc.getInstance().getFont(m?m:sk.SIZE);if(null!=k){var n=e.truncatedText,q=e.truncatedMaxWidth,s=e.truncatedFontSize,
u=e.truncatedAlign;if(e&&(null==n||q!==k||s!==m||u!==g))e.truncatedText=this._truncate(c,m||sk.SIZE,k,g),e.truncatedMaxWidth=k,e.truncatedFontSize=m,e.truncatedAlign=g;e&&e.truncatedText&&(e=e.truncatedText,b.fillText(e.text,e.offset,0))}else(e=e.truncatedText)?b.fillText(e.text,e.offset,0):b.fillText(c,0,0)};b.prototype._setupCache=function(a){a.rendererCache=a.rendererCache?a.rendererCache:{truncatedText:null,truncatedMaxWidth:-1,truncatedFontSize:-1,truncatedAlign:""}};b.prototype._truncate=function(a,
b,e,g){void 0===g&&(g="left");b/=sk.SIZE;a=wc.getInstance().getTruncatedText(a,e/b);var k=0;switch(g){case "right":g=b*wc.getInstance().getTextWidth(a);k=e-g;break;case "center":g=b*wc.getInstance().getTextWidth(a);k=0.5*(e-g);break;default:case "left":k=0}return{text:a,offset:k}};return b}(Fb),wu=oa(vu),Ya=function(a,b,c){return b?function(b){return ck.formatCompact(b,{formatString:a&&a[0]||"",multiplier:a&&a[1]||1,delimiters:a&&a[2]&&a[2].delimiters,compactDecimalDigits:a&&a[2]&&a[2].compactDecimalDigits,
removeTrailingZeros:a&&a[2]&&a[2].removeTrailingZeros,isPreciseCompact:c,isRTL:Db.isRTL(),currencyIsoCode:a&&a[2]&&a[2].currencyIsoCode,locale:Db.getLocale()})}:function(c){return ck.format(c,{formatString:a&&a[0],multiplier:a&&a[1],delimiters:a&&a[2]&&a[2].delimiters,isRTL:Db.isRTL(),currencyIsoCode:a&&a[2]&&a[2].currencyIsoCode,locale:Db.getLocale()})}},xu=Ra.FONT,yu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=
b;b.prototype.draw=function(c,b,e){if(b)if(c){a.prototype.draw.call(this,c,b,e);this._setupCache(c);var g=c.rendererCache.formatterCache,k=c.props,m=k.fontSize;e=k.number;var n=k.format,k=k.compact;m!==xu.SIZE&&(b.font=va.getFont(m));null==g&&(g=Ya(n,k),c.rendererCache.formatterCache=g);b.fillText(g(e),0,0)}else console.error("Chart canvas NumberText model is undefined");else console.error("Chart canvas NumberText context is undefined")};b.prototype._setupCache=function(a){a.rendererCache=a.rendererCache?
a.rendererCache:{formatterCache:null}};b.prototype._getColorRegion=function(){return{x0:0,y0:0,x1:0,y1:0}};return b}(Fb),zu=oa(yu),tk=Qh.getInstance(),Au=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.draw=function(c,b,e){a.prototype.draw.call(this,c,b,e);var g=c.props;c=g.r;var k=g.fill,m=g.stroke,n=g.lineWidth,g=g.texture;if(0<c){b.beginPath();b.arc(0,0,c,0,2*Math.PI,!0);b.closePath();k&&b.fill();
if(g){var q=g.url,k=g.fit,g=g.shade;tk.isImageLoaded(q)?(e=tk.getImage(q),b.save(),b.clip(),a.prototype._drawTexture.call(this,e,k,g,[-c,-c,2*c,2*c],b),b.restore()):tk.registerImage(q,e)}m&&(n&&0<n)&&b.stroke()}};b.prototype._getColorRegion=function(a){a=a.props.r;return{x0:-a,y0:0,x1:a,y1:0}};return b}(Fb),Bu=oa(Au),to=function(){};to.prototype.get=function(a){switch(a){case "Scene":a=ku;break;case "Cell":case "Layer":a=lu;break;case "Rect":a=Kd(uu);break;case "Text":a=Kd(wu);break;case "NumberText":a=
Kd(zu);break;case "Line":a=Kd(pu);break;case "Polygon":case "Path":a=Kd(oo);break;case "Arc":a=Kd(nu);break;case "Point":a=Kd(Bu);break;default:throw Error("invalid creme node type "+a);}return a.getInstance()};var Cu=oa(to),uo=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.getInstance=function(){this.instance||(this.instance=new this);return this.instance};b.prototype._createPainter=function(a){return Cu.getInstance().get(a)};
return b}(ju);uo.instance=null;var Rd=p.ACCESSIBILITY,Du=p.KEY_CODE,vo=0,Eu=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){var b,c,f;b=Date.now();f=Math.max(0,1E3/60-(b-vo));c=setTimeout(function(){return a(b+f)},f);vo=b+f;return c},ma=function(a){this.tweenFunction=a;this.runTween=this.runTween.bind(this);this.reset()};ma.initClass=function(){this.TWEEN_FUNCTIONS={sine:function(a){return 0.5-
0.5*Math.cos(a*Math.PI)}};this.prototype.afterFct=null;this.prototype.tweenSequence=0;this.prototype.objectsToTween={};this.prototype.tweenFunction=null;this.prototype.isAnimating=!1;this.prototype.nbTweens=0};ma.prototype.reset=function(){this.isAnimating&&(++this.tweenSequence,this.doTweenStep(1),this.afterFct&&this.afterFct());for(var a in this.objectsToTween)this.objectsToTween[a]&&this.objectsToTween[a].forEach(function(a){delete a.tweens;delete a.tweenableAttrs});this.objectsToTween={};this.nbTweens=
0;return this.isAnimating=!1};ma.prototype.nbObjectsToTween=function(){var a=0,b;for(b in this.objectsToTween)this.objectsToTween[b]&&(a+=this.objectsToTween[b].length);return a};ma.tweenValue=function(a,b,c){return b*(1-a)+c*a};ma.tweenColor=function(a,b,c){return b.toColor(c,a)};ma.tweenValues=function(a,b,c){return A.zip(b,c).map(function(c){return ma.tweenValue(a,c[0],c[1])})};ma.prototype._pre=function(){this.isAnimating=!0};ma.prototype._post=function(a){this.isAnimating=!1;this.afterFct&&this.afterFct(a.end())};
ma.prototype._doStep=function(a,b){this.doTweenStep(b);a(this.tweenFunction(b))};ma.prototype.runTween=function(a,b,c){var f=this,e;this.afterFct=c;var g=a.duration;c=a.frames;var k=a.callback,m=++this.tweenSequence,n=(new P({name:"tweener"})).start();if(c)this._pre(),c.forEach(function(a){f._doStep(b,a/100);k(a)}),this._post(n);else if(0===g)this._pre(),this._doStep(b,1),this._post(n);else{e=0;var q=-1,s=!0,u=0;this._pre();var p=n.iteration.bind(n,"draw",function(){if(this.tweenSequence===m){var a=
Date.now();s?(s=!1,q=a):(e=(a-q)/g,0>e&&(e=0),1<e&&(e=1));u++;this._doStep(b,e);if(1>e)return Eu(p);ta.draw&&console.log((new Date).toLocaleTimeString()+"|tweener:: fps: "+1E3*u/(Date.now()-q)+" for "+this.nbObjectsToTween()+" objects");return this._post(n)}}.bind(this));return p()}};ma.prototype.doTweenStep=function(a){for(var b in this.objectsToTween)if(this.objectsToTween[b]){var c=this.objectsToTween[b],f=c.length,e=!0,g=null!=c[0]?c[0].getParent():void 0;g&&(e=g.props.staggerAnim);for(var g=
void 0,k=g=0,m=c.length;g<m;k=++g){var n=c[k],k=e?a+0.6*(a-k/f):a;0>k&&(k=0);1<k&&(k=1);k=this.tweenFunction(k);n._tweenRatio=k;for(var q in n.tweenableAttrs)if(n.tweenableAttrs[q]){var s=void 0,s=n.tweenableAttrs[q],u=s[0],p=s[1];if("fill"===q||"stroke"===q||"textColor"===q||"background"===q)s=ma.tweenColor(k,u,p);else if("points_x"===q||"points_y"===q||"animate_points_x"===q||"animate_points_y"===q)for(var t=u[u.length-1],r=p[p.length-1],s=[],z=0,w=Math.max(u.length,p.length),y=0<=w;y?z<w:z>w;y?
z++:z--){var H=void 0,I=void 0,V=null!=(H=null!=u[z]?u[z]:t)?H:0,H=null!=(I=null!=p[z]?p[z]:r)?I:0;s.push(ma.tweenValue(k,V,H))}else s="viewport"===q?ma.tweenValues(k,u,p):"scrollOffset"===q?ma.tweenValues(k,u,p):"rotation"===q?{x:ma.tweenValue(k,u.x,p.x),y:ma.tweenValue(k,u.y,p.y),angle:ma.tweenValue(k,u.angle,p.angle)}:"texture"===q?{url:p.url,fit:p.fit,shade:ma.tweenValue(k,u.shade,p.shade)}:"bg"===q?{color:ma.tweenColor(k,u.color,p.color),opacity:ma.tweenValue(k,u.opacity,p.opacity),box:ma.tweenValues(k,
u.box,p.box)}:ma.tweenValue(k,u,p);n.props[q]=s}}}};ma.prototype.addTweenProperties=function(a,b){if(b){for(var c in b)if(!("type"===c||"key"===c)){var f=b[c],e=f[0],f=f[1];if(!(null==e&&null==f))if(!A.includes("fill stroke textColor background rotation bg baseX baseY viewport".split(" "),c)&&(null==e||null==f))a.props[c]=f;else{if(!a.tweenableAttrs){a.tweenableAttrs={};var g=a.getParent()?a.getParent().uid:0;null==this.objectsToTween[g]&&(this.objectsToTween[g]=[]);this.objectsToTween[g].push(a)}g=
void 0;switch(c){case "fill":case "stroke":case "textColor":case "background":null==e&&(e=f.adjustOpacity(0));null==f&&(f=e.adjustOpacity(0));g=[e,f];break;case "rotation":null==e&&(e={x:f.x,y:f.y,angle:0});null==f&&(f={x:e.x,y:e.y,angle:0});g=[e,f];break;case "baseX":case "baseY":null==e&&(e=f);null==f&&(f=e);g=[e,f];break;case "bg":g=e?r.extend({},e):{color:f.color.adjustOpacity(0),box:f.box};e=f?r.extend({},f):{color:e.color.adjustOpacity(0),box:e.box};g=[g,e];break;case "viewport":g=[e?e:[0,0,
1E4,1E4],f?f:[0,0,1E4,1E4]];break;default:g=[e,f]}a.tweenableAttrs[c]=g;this.nbTweens++}}return a}};ma.initClass();var Sd=function(){};Sd.mul=function(a,b,c){var f=b[0],e=b[1],g=b[2],k=b[3],m=b[4],n=b[5],q=b[6],s=b[7];b=b[8];var u=c[0],p=c[1],t=c[2],r=c[3],z=c[4],w=c[5],y=c[6],H=c[7];c=c[8];a[0]=u*f+p*k+t*q;a[1]=u*e+p*m+t*s;a[2]=u*g+p*n+t*b;a[3]=r*f+z*k+w*q;a[4]=r*e+z*m+w*s;a[5]=r*g+z*n+w*b;a[6]=y*f+H*k+c*q;a[7]=y*e+H*m+c*s;a[8]=y*g+H*n+c*b;return a};Sd.fromTranslation=function(a,b){a[0]=1;a[1]=0;
a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=b[0];a[7]=b[1];a[8]=1;return a};Sd.fromRotation=function(a,b){var c=Math.sin(b),f=Math.cos(b);a[0]=f;a[1]=c;a[2]=0;a[3]=-c;a[4]=f;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};var Td=function(){this.reset()};Td.prototype.setProvider=function(a){this._provider=a;return this};Td.prototype.checkout=function(a){var b=this._getNextAvailableItemFromPool();this._numResourceCheckedOut++;return this._provider.checkout(a,b)};Td.prototype.returnBack=function(a){this._numResourceCheckedOut--;
this._poolAvailable.push(a)};Td.prototype.reset=function(){this._numResourceCheckedOut=0;this._poolAvailable=[];return this};Td.prototype.getUsedSize=function(){return this._numResourceCheckedOut};Td.prototype._getNextAvailableItemFromPool=function(){return 0>=this._poolAvailable.length?null:this._poolAvailable.pop()};var wo=function(){};wo.prototype.checkout=function(a,b){return b?b:new Float32Array(9)};var Gu=function(a){function b(){a.call(this);this.setProvider(Fu.getInstance())}a&&(b.__proto__=
a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(Td),Fu=oa(wo),cg=oa(Gu),na=function(a,b){this._graphicsContext=a;this._imageLoaderDelegate=b.imageLoaderDelegate;this._modelTransform=this._initTransform(cg.getInstance().checkout());this._modelStack=[];this._drawDebugInfo={isEnabled:!1,filter:null}};na.prototype.translate=function(a,b,c){c=cg.getInstance();var f=c.checkout();Sd.mul(this._modelTransform,this._modelTransform,Sd.fromTranslation(f,[a,b]));c.returnBack(f)};
na.prototype.scale=function(a,b,c){throw Error("Scale in renderer is not supported yet");};na.prototype.rotate=function(a){var b=cg.getInstance(),c=b.checkout();Sd.mul(this._modelTransform,this._modelTransform,Sd.fromRotation(c,a));b.returnBack(c)};na.prototype.save=function(){this._saveModelTransform()};na.prototype.restore=function(){this._restoreModelTransform()};na.prototype.applyTransformTo=function(a){return[a[0]+this._modelTransform[6],a[1]+this._modelTransform[7],a[2],a[3]]};na.prototype.applyTransform=
function(){};na.prototype.restoreTransform=function(){};na.prototype.setInterpolationRatio=function(a){this._interpolationRatio=a};na.prototype.getInterpolationRatio=function(){return this._interpolationRatio};na.prototype.isAnimating=function(){return 1!==this._interpolationRatio};na.prototype.getGraphicsContext=function(){return this._graphicsContext};na.prototype.saveGraphicsContext=function(){};na.prototype.restoreGraphicsContext=function(){};na.prototype.getImageLoaderDelegate=function(){return this._imageLoaderDelegate};
na.prototype.setDebugInfo=function(a){this._drawDebugInfo=a;return this._drawDebugInfo.isEnabled};na.prototype.shouldDrawDebugInfo=function(a){var b=this._drawDebugInfo,c=b.filter;return!b.isEnabled?!1:c?Array.isArray(c)?-1!==c.indexOf(a.props.type):c(a):!0};na.prototype._initTransform=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};na.prototype._saveModelTransform=function(){this._modelStack.push(this._copyState(this._modelTransform))};na.prototype._restoreModelTransform=
function(){cg.getInstance().returnBack(this._modelTransform);this._modelTransform=this._modelStack.pop()};na.prototype._copyState=function(a){for(var b=cg.getInstance().checkout(),c=0;9>c;++c)b[c]=a[c];return b};var Hu=Ra.EPSILON,Iu=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.applyTransform=function(){var a=this._decomposeTransform(this._modelTransform),b=a.tx,e=a.ty,g=a.sx,k=a.sy,a=a.rotation;
(!this._isNegligible(b)||!this._isNegligible(e))&&this._graphicsContext.translate(b,e);this._isNegligible(a)||this._graphicsContext.rotate(a);(!this._isNegligible(g-1)||!this._isNegligible(k-1))&&this._graphicsContext.scale(g,k)};b.prototype.restoreTransform=function(){var a=this._decomposeTransform(this._modelTransform),b=a.tx,e=a.ty,g=a.sx,k=a.sy,a=a.rotation;(!this._isNegligible(b)||!this._isNegligible(e))&&this._graphicsContext.translate(-b,-e);this._isNegligible(a)||this._graphicsContext.rotate(-a);
(!this._isNegligible(g-1)||!this._isNegligible(k-1))&&this._graphicsContext.scale(1/g,1/k)};b.prototype.saveGraphicsContext=function(){this._graphicsContext.save()};b.prototype.restoreGraphicsContext=function(){this._graphicsContext.restore()};b.prototype._decomposeTransform=function(a){var b=0.5*Math.PI,e,g;this._isNegligible(a[0])?(b=0<a[1]?b:-b,g=Math.sin(b),e=-a[3]/g,g=a[1]/g):(b=Math.atan(a[1]/a[4]),g=Math.cos(b),e=a[0]/g,g=a[0]/g);return{tx:a[6],ty:a[7],sx:e,sy:g,rotation:b}};b.prototype._isNegligible=
function(a){return Math.abs(a)<Hu};return b}(na),xo=Ra.FONT,M=function(a){var b=a.processor,c=a.config,f=a.isLegend,e=a.getTooltipInstance;a=a.imageLoaderDelegate;var g,k,m,n,q,s;this.onScroll=this.onScroll.bind(this);this.onTouchMove=this.onTouchMove.bind(this);this.onTouchStart=this.onTouchStart.bind(this);this.onTouchEnd=this.onTouchEnd.bind(this);this.onMouseMove=this.onMouseMove.bind(this);this.onMouseDown=this.onMouseDown.bind(this);this.onKeyDown=this.onKeyDown.bind(this);this.onKeyUp=this.onKeyUp.bind(this);
this.onMouseUp=this.onMouseUp.bind(this);this.onMouseLeave=this.onMouseLeave.bind(this);this.processor=b;this.getTooltipInstance=e;this.isLegend=f;this.imageLoaderDelegate=a;this.position=this.fullSize=this.size=null;this.baseScrollOffset=[0,0];this.scrollOffset=[0,0];this.updateScrollBar=!1;this.tweener=new ma(ma.TWEEN_FUNCTIONS.sine);this.cursorType=p.CURSOR_TYPE.DEFAULT;null!=c&&(m=c.el,k=c.cssDescriptor,q=c.tooltipCSSClass,s=c.wheelPropagation,n=c.swipePropagation,g=c.accessible);this.tooltipCSSClass=
null!=q?q:"";this.accessible=null!=g?g:!0;m?this.el=m:k?(m=document.querySelector(k),this.el=null!=m?m:document.createElement("div")):this.el=document.createElement("div");this.elCreated=this.el!==m;this.name=this.processor.getName();this.el.setAttribute("data-ngname",this.name);this.createDOM();this.wheelPropagation=null!=s?s:!0;this.swipePropagation=null!=n?n:!0;this.startMouseInteraction();this.ctx.getGraphicsContext().font=va.getFont(xo.SIZE);this.accessible?this.enableAccessibility():this.disableAccessibility()};
M.initClass=function(){this.prototype.firstTime=!0;this.prototype.el=null;this.prototype.isLegend=!1;this.prototype.elCreated=!1;this.prototype.model=null;this.prototype.quietModeTimer=null};M.prototype.getContext=function(){return this.ctx};M.prototype.toggleAccessibility=function(a){a?this.enableAccessibility():this.disableAccessibility()};M.prototype.getModel=function(){return this.model};M.prototype.setModel=function(a){this.model=a;this.model.props.w=this.size[0];this.model.props.h=this.size[1];
return this};M.prototype.getWidth=function(){return this.canvasDom.width};M.prototype.getHeight=function(){return this.canvasDom.height};M.prototype.getElementOffset=function(){return[this.canvasDom.offsetLeft,this.canvasDom.offsetTop]};M.prototype.getScrollOffset=function(){return this.scrollOffset};M.prototype.getTweener=function(){return this.tweener};M.prototype.isAnimating=function(){return this.tweener.isAnimating};M.prototype.attachEvents=function(){this.outerDom.addEventListener("mousedown",
this.onMouseDown);this.outerDom.addEventListener("mousemove",this.onMouseMove);this.outerDom.addEventListener("mouseup",this.onMouseUp);this.outerDom.addEventListener("mouseleave",this.onMouseLeave);this.outerDom.addEventListener("scroll",this.onScroll);document.addEventListener("keydown",this.onKeyDown);document.addEventListener("keyup",this.onKeyUp);this.outerDom.addEventListener("touchmove",this.onTouchMove,{passive:!0});this.outerDom.addEventListener("touchstart",this.onTouchStart,{passive:!0});
this.outerDom.addEventListener("touchend",this.onTouchEnd,{passive:!1})};M.prototype.detachEvents=function(){this.outerDom.removeEventListener("mousedown",this.onMouseDown);this.outerDom.removeEventListener("mousemove",this.onMouseMove);this.outerDom.removeEventListener("mouseup",this.onMouseUp);this.outerDom.removeEventListener("mouseleave",this.onMouseLeave);this.outerDom.removeEventListener("scroll",this.onScroll);document.removeEventListener("keydown",this.onKeyDown);document.removeEventListener("keyup",
this.onKeyUp);this.outerDom.removeEventListener("touchmove",this.onTouchMove);this.outerDom.removeEventListener("touchstart",this.onTouchStart);this.outerDom.removeEventListener("touchend",this.onTouchEnd)};M.prototype.quietMode=function(a){this.quietModeTimer&&clearTimeout(this.quietModeTimer);this.getTooltipInstance().quietMode(a);this.detachEvents();return this.quietModeTimer=setTimeout(this.attachEvents.bind(this),a)};M.prototype.getElement=function(){return this.el};M.prototype.getEventListeningElement=
function(){return this.outerDom};M.prototype.createDOM=function(){this.container=this.el.appendChild(document.createElement("div"));va.setStyles(this.container,{position:"relative"});this.outerDom=this.container.appendChild(document.createElement("div"));va.setStyles(this.outerDom,{zIndex:this.isLegend?3:2,position:"absolute",overflow:"hidden","background-color":"rgba(255,255,255,0)"});this.innerDom=this.outerDom.appendChild(document.createElement("div"));this.canvasDom=this.container.appendChild(document.createElement("canvas"));
this.canvasDom.className=this.isLegend?"legend":"chart";va.setStyles(this.canvasDom,{zIndex:this.isLegend?2:1,position:"absolute",top:0,left:0,"letter-spacing":0,"-webkit-font-smoothing":"antialiased"});this._pixelRatio=window.testDevicePixelRatio||window.devicePixelRatio||1;return this.ctx=new Iu(this.canvasDom.getContext("2d"),{camera:{viewport:null},imageLoaderDelegate:this.imageLoaderDelegate})};M.prototype.removeDOM=function(){this.firstTime||ek.destroy(this.outerDom);this.outerDom.removeChild(this.innerDom);
this.container.removeChild(this.outerDom);this.container.removeChild(this.canvasDom);this.el.removeChild(this.container);this.elCreated&&null!=this.el.parentElement&&this.el.parentElement.removeChild(this.el);return this.canvasDom=this.innerDom=this.outerDom=this.container=null};M.prototype.removeCustomDOM=function(a){this.container.removeChild(a)};M.prototype.createCustomDOM=function(){var a=document.createElement("div");a.classList.add("ng-custom");return this.container.appendChild(a)};M.prototype.getPatcher=
function(){var a=this;return{update:function(b,c){b.props=r.extend({},c.props);return a.tweener.addTweenProperties(b,b.tweens)},remove:function(a){return a.removeFromParent()},insert:function(a,c){return a.appendTo(c)},order:function(a,c){return a._sortByKeys(c)}}};M.prototype.update=function(a,b){this.firstTime&&(ek.initialize(this.outerDom,{swipePropagation:this.swipePropagation,wheelPropagation:this.wheelPropagation,scrollYMarginOffset:1,scrollXMarginOffset:1}),this.firstTime=!1);this.updateScrollBar=
!1;var c=a.getEndValue("fullSize");r.isEqual(this.fullSize,c)||(this.fullSize=c,this.updateScrollBar=!0,va.setStyles(this.innerDom,{width:c[0]+"px",height:c[1]+"px"}));c=a.getEndValue("size");r.isEqual(this.size,c)||(this.size=c,this.updateScrollBar=!0,va.setStyles(this.outerDom,{width:c[0]+"px",height:c[1]+"px"}),va.setStyles(this.canvasDom,{width:c[0]+"px",height:c[1]+"px"}),this.canvasDom.width=this._pixelRatio*c[0],this.canvasDom.height=this._pixelRatio*c[1],1!==this._pixelRatio&&this.ctx.getGraphicsContext().scale(this._pixelRatio,
this._pixelRatio));c=a.getEndValue("position");r.isEqual(this.position,c)||(this.position=c,va.setStyles(this.outerDom,{left:c[0]+"px",top:c[1]+"px"}),va.setStyles(this.canvasDom,{left:c[0]+"px",top:c[1]+"px"}));this.scrollOffset=a.getEndValue("scrollOffset");this.baseScrollOffset=a.getEndValue("baseScrollOffset");c=[this.baseScrollOffset[0]+this.scrollOffset[0],this.baseScrollOffset[1]+this.scrollOffset[1]];r.isEqual(c,[this.outerDom.scrollLeft,this.outerDom.scrollTop])||(this.updateScrollBar=!0,
this.outerDom.removeEventListener("scroll",this.onScroll),this.outerDom.scrollLeft=c[0],this.outerDom.scrollTop=c[1],this.outerDom.addEventListener("scroll",this.onScroll));this.updateScrollBar&&(null!=b&&b.byInteraction&&this.quietMode(p.CANVAS.NO_EVENT_DURATION),ek.update(this.outerDom));return this.ctx.getGraphicsContext().font=va.getFont(xo.SIZE)};M.prototype.remove=function(){this.detachEvents();return this.removeDOM()};M.prototype.hide=function(){this.el.style.display="none";return this};M.prototype.show=
function(){this.el.style.display="";return this};M.prototype.showTruncationTooltip=function(a,b,c,f){var e=this.chartOffsetXY(),g=e[0],e=e[1],k=f[0];f=f[1];var m=this.tooltipCSSClass+" truncation";return this.getTooltipInstance().show(g+k,e+f,c,b,m,{fullText:a})};M.prototype.showTooltip=function(a,b,c,f,e,g){return this.getTooltipInstance().show(0,0,"auto",0,this.tooltipCSSClass,{lines:a,shape:b,tooltipRenderer:f,canRemoveTooltip:e,removeTooltip:g},c)};M.prototype.moveTooltip=function(a){return this.getTooltipInstance().move(a)};
M.prototype.showTooltipAtWithKey=function(a,b,c){var f=this.chartOffsetXY(),e=f[0],f=f[1];this.getTooltipInstance().moveTo(e+a,f+b);a=this.processor.getTooltipWithPath(c);return this.showTooltip(a.lines,a.info)};M.prototype.hideTooltip=function(){return this.getTooltipInstance().hide()};M.prototype.screenshot=function(){return this.canvasDom.toDataURL()};M.prototype.setCursorType=function(a){if(a!==this.cursorType){this.cursorType=a;var b=this.el.className.split(" ");return this.el.className=b.filter(function(a){return!a.match(/^ng-cursor/)}).concat("ng-cursor-"+
a).join(" ")}};M.prototype.chartOffsetXY=function(){var a=this.outerDom.getBoundingClientRect(),b=va.pageScrollOffset();return[a.left+b.left,a.top+b.top]};M.prototype.stopMouseInteraction=function(){this.detachEvents()};M.prototype.startMouseInteraction=function(){this.attachEvents()};M.prototype.scrollTo=function(a,b){if(!this.isAnimating())return this.model&&(this.model.props.scrollOffset=[a,b]),this.scrollOffset=[a,b]};M.prototype.isInViewport=function(a){return va.isElementInViewport(this.el,
a)};M.prototype.onScroll=function(a){if(!this.isAnimating()){var b=this.baseScrollOffset,b=[a.target.scrollLeft-b[0],a.target.scrollTop-b[1]];this.processor.onScroll(b[0],b[1],a)}};M.prototype.onTouchMove=function(a){if(a=a.changedTouches[0])this.onMouseMove(a)};M.prototype.onTouchStart=function(a){if(a=a.changedTouches[0])this.onMouseDown(a)};M.prototype.onTouchEnd=function(a){};M.prototype.onMouseMove=function(a){var b=this.page2ChartXY(a.pageX,a.pageY);this.processor.onMouseMove(b[0],b[1],a)};
M.prototype.onMouseDown=function(a){var b=this.page2ChartXY(a.pageX,a.pageY);this.processor.onMouseDown(b[0],b[1],a)};M.prototype.onMouseUp=function(a){var b=this.page2ChartXY(a.pageX,a.pageY);this.processor.onMouseUp(b[0],b[1],a)};M.prototype.onMouseLeave=function(a){var b=this.page2ChartXY(a.pageX,a.pageY);this.processor.onMouseLeave(b[0],b[1],a)};M.prototype.onKeyDown=function(a){this.processor.onKeyDown(a.key,a)};M.prototype.onKeyUp=function(a){this.processor.onKeyUp(a.key,a)};M.prototype.page2ChartXY=
function(a,b){var c=this.chartOffsetXY();return[a-c[0],b-c[1]]};M.prototype.setDebugInfo=function(a){return this.ctx.setDebugInfo(a)};M.initClass();var Ju=function(a,b){a.forEach(function(a){return r.extend(b.prototype,a)});return b}([{enableAccessibility:function(){if(!this._accessibilityEnabled){this._removeAccessibilityTimer=null;this._accessibilityEnabled=!0;var a=this.container,b=this.createAccessibilityButton();b.addEventListener("click",this.onBtnClick.bind(this));b.addEventListener("touchstart",
this.onBtnClick.bind(this));b.addEventListener("focus",this.onButtonFocus.bind(this));b.addEventListener("blur",this.onButtonBlur.bind(this));a.appendChild(b)}},createAccessibilityButton:function(){var a=document.createElement("button");a.innerHTML=qa(W.getLabel("@salesforce/charts","enableTabNavigation"));a.setAttribute("aria-live","polite");a.className=this.tooltipCSSClass+" ng-button ng-assistiveText";a.appendChild(this.createAccessibilityTableSpan());return a},createAccessibilityTableSpan:function(){var a=
document.createElement("span");a.innerHTML=qa(W.getLabel("@salesforce/charts","enableDataTable"));a.className="ng-assistiveText";return a},disableAccessibility:function(){if(this._accessibilityEnabled){this._accessibilityEnabled=!1;var a=this._getAccessibilityButton();a&&this.container.removeChild(a)}},supportAccessibility:function(){return!0},onButtonFocus:function(){this.setButtonVisibility(!0)},onButtonBlur:function(){var a=this._getAccessibilityButton();(!a||!a.getAttribute("aria-disabled"))&&
this.setButtonVisibility(!1)},onBtnClick:function(){var a=this._getAccessibilityButton();a&&(a.innerHTML=qa(W.getLabel("@salesforce/charts","tabNavigationEnabled")),a.className=this.tooltipCSSClass+" ng-button ng-enabled",a.setAttribute("aria-disabled",!0));this.processor.onShowTable();this.processor.onShowAccessibilityTabbableItems()},setButtonVisibility:function(a){var b=this._getAccessibilityButton();if(b){var c="";a||(b.innerHTML=qa(W.getLabel("@salesforce/charts","enableTabNavigation")),this._getDataTableText()||
b.appendChild(this.createAccessibilityTableSpan()),c="ng-assistiveText");b.className=this.tooltipCSSClass+" ng-button "+c}},_getAccessibilityButton:function(){return this.container?Q.first(this.container.getElementsByTagName("button")):null},_getDataTableText:function(){var a=this._getAccessibilityButton();if(a)return Q.first(a.getElementsByTagName("span"))},updateAccessibilityTable:function(a){var b=this.container,c=this.getTableEl();c&&b.removeChild(c);b.appendChild(this.createTable(a))},removeAccessibilityTable:function(){var a=
this.container,b=this.getTableEl();b&&a.removeChild(b)},getTableEl:function(){return this.container?Q.first(this.container.getElementsByTagName("table")):null},createTable:function(a){var b=document.createElement("table");b.innerHTML=a;b.className=this.tooltipCSSClass+" ng-assistiveText";return b},_resetAccessibilityIn:function(a){this._keepAccessibility();this._removeAccessibilityTimer=setTimeout(this.resetAccessibility.bind(this),a)},_keepAccessibility:function(){this._removeAccessibilityTimer&&
(clearTimeout(this._removeAccessibilityTimer),this._removeAccessibilityTimer=null)},resetAccessibility:function(){this._buttonFocusTimer&&(clearTimeout(this._buttonFocusTimer),this._buttonFocusTimer=null);var a=this._getAccessibilityButton();a&&a.removeAttribute("aria-disabled");this.setButtonVisibility(!1);this.removeTabbableItems();this.removeAccessibilityTable();this.getTooltipInstance().isVisible()&&this.getTooltipInstance().hide()},setTabbableItems:function(a,b){var c=this.container,f=this.getContainerEl(a);
f&&c.removeChild(f);c.appendChild(this.createContainerEl(a,this._renderTabbableItems(b)))},removeTabbableItems:function(){var a=this,b=this.container;[Rd.TYPE.AXIS,Rd.TYPE.DATA].forEach(function(c){(c=a.getContainerEl(c))&&b.removeChild(c)})},getContainerEl:function(a){return this.container?Q.first(this.container.getElementsByClassName(a)):null},createContainerEl:function(a,b){var c=document.createElement("ol");c.innerHTML=b;c.className=this.tooltipCSSClass+" ng-assistiveText "+a;c.addEventListener("focus",
this.onTabbableItemFocus.bind(this),!0);c.addEventListener("keypress",this.onTabbableItemSpace.bind(this),!0);c.addEventListener("blur",this.onTabbableItemBlur.bind(this),!0);return c},onTabbableItemFocus:function(a){this._keepAccessibility();if(a=(a=a.target)&&a.dataset&&a.dataset.id)a=a.split(Rd.ID_SEPARATOR),this.processor.onTabOnShape(a)},onTabbableItemSpace:function(a){this._keepAccessibility();var b=a.target;if((b=b&&b.dataset&&b.dataset.id)&&a.keyCode===Du.SPACE)b=b.split(Rd.ID_SEPARATOR),
this.processor.onSpaceKeyDownOnShape(b),a.stopPropagation(),a.preventDefault()},onTabbableItemBlur:function(a){this._resetAccessibilityIn(Rd.INACTIVE_WAIT);if(a=(a=a.target)&&a.dataset&&a.dataset.id)a=a.split(Rd.ID_SEPARATOR),this.processor.onTabOffShape(a)},_renderTabbableItems:function(a){var b=this,c=a.length,f=this.name+"_lastTabbableItem";return a.map(function(a,g){var k=b.processor.getTooltipWithPath(a.keyPath),m=k.text,k=Q.sortBy(k.lines,"type").map(b._formatAccessibleContent),k=m?k.concat(qa("i.e., "+
m,!0)).join(",\x26nbsp;"):k.join(",\x26nbsp;");return'\x3cli tabIndex\x3d"0" data-id\x3d"'+a.keyPath.map(function(a){return qa(a)}).join(Rd.ID_SEPARATOR)+'" id\x3d"'+(g===c-1?f:"")+'"\x3e'+k+"\x3c/li\x3e"}).join("")},_formatAccessibleContent:function(a){var b="";if(a){var b=a.value,c=a.label;a=(a=a.percentData)?", "+W.getLabel("@salesforce/charts",a.group?"percentTooltipWithGroup":"percentTooltip",[a.percent,a.total,a.group]):"";b=""+c+(b?" "+b:"")+a}return qa(b,!0)}}],M),U=va.setStyles,Sb={visibility:"hidden",
display:"none"},Je={visibility:"visible",display:"block"},Ku=0,aa=function(a){this._id=Ku++;this._chartEl=a;this._annotationsContainerEl=this._chartEl.getElementsByClassName("ng-annotations-container")[0];this._style=document.createElement("style");document.head.appendChild(this._style);this.create();this._backgroundColor=new E("#193F61");this._borderColor=new E("#193F61");this._isBlinking=!1};aa.prototype.setPadding=function(a){this._padding=a;return this};aa.prototype.getInstanceClassName=function(){return"annotation-"+
this._id};aa.prototype.setPositions=function(a){this._positions=a;return this};aa.prototype.setShapeBox=function(a){this._shapeBox=a;return this};aa.prototype.setDefaultVisibility=function(a){void 0===a&&(a=!0);if(a===this._defaultShow)return this;this._previousState=null;this._defaultShow=a;return this};aa.prototype.getDefaultVisibility=function(){return this._defaultShow};aa.prototype.setData=function(a){if(null==a)return this;this._data=a;return this};aa.prototype.getData=function(){return this._data};
aa.prototype.setBorderColor=function(a){if(null==a)return this;this._borderColor=new E(a);return this};aa.prototype.setBackgroundColor=function(a){if(null==a)return this;this._borderColor=this._backgroundColor=new E(a);return this};aa.prototype.setContent=function(a,b,c,f){void 0===a&&(a=[]);void 0===b&&(b={});var e=this._columns,g=this._text;this._columns=a.filter(function(a){return null!=a});this._text=b;var k=this._backgroundColor,m=this._borderColor;c=k.toHighContrast(c.getTextColorOnLight(),
c.getTextColorOnDark());if(this._defaultShow&&(!r.isEqual(e,this._columns)||!r.isEqual(g,this._text)))this._previousState={circleEl:Sb,annotationEl:Je};!a.length&&!b.template&&(U(this._circleEl,Je),U(this._annotationEl,Sb),this._previousState={circleEl:Je,annotationEl:Sb});this._formatColumns(f);U(this._annotationEl,{backgroundColor:k.toRGBAString(),color:c.toRGBAString(),borderColor:m.toRGBAString()});U(this._annotationEl.getElementsByClassName("cross")[0],{backgroundColor:this._backgroundColor});
U(this._circleEl,{backgroundColor:k.toRGBAString(),borderColor:m.toRGBAString()});return this};aa.prototype.setIsBlinking=function(a){void 0===a&&(a=!1);this._isBlinking=a;this._circleEl.className=a?"ng-annotate circle blink":"ng-annotate circle";return this};aa.prototype.setShouldUpdate=function(a){this._shouldUpdate=a;return this};aa.prototype.shouldUpdate=function(){return this._shouldUpdate};aa.prototype.getColumns=function(){return this._columns};aa.prototype.getInfo=function(){return{row:this._data.row,
measure:this._data.measure,properties:{column:this._columns.map(function(a){return a.getName()}),borderColor:this._borderColor.toHex(),backgroundColor:this._backgroundColor.toHex(),defaultShow:this._defaultShow,text:this._text,isBlinking:this._isBlinking}}};aa.prototype.hasSetPosition=function(){return!!this._coordinates};aa.prototype.create=function(){var a=this,b=this._annotationEl,c=this._circleEl,f=this._previousState;c?f&&U(c,f.circleEl):(c=document.createElement("div"),c.className="ng-annotate circle",
this._annotationsContainerEl.appendChild(c),this._circleEl=c,c.addEventListener("click",this._onClick.bind(this)));b?f&&U(b,f.annotationEl):(b=document.createElement("div"),b.className="ng-annotate",this._annotationsContainerEl.appendChild(b),this._annotationEl=b,f=document.createElement("div"),f.className="content",b.appendChild(f),this._contentEl=f,f=document.createElement("div"),f.className="cross",f.innerHTML="X",b.appendChild(f),b.addEventListener("click",this._onClick.bind(this)),b.addEventListener("mouseenter",
function(c){U(a._annotationEl,{"z-index":"9999","box-shadow":"0 2px 3px 0 rgba(0, 0, 0, 0.16)"});U(a._annotationEl.getElementsByClassName("cross")[0],{visibility:"visible"})}),b.addEventListener("mouseleave",function(c){U(a._annotationEl,{"z-index":"3","box-shadow":""});U(a._annotationEl.getElementsByClassName("cross")[0],{visibility:"hidden"})}));return this};aa.prototype.positionAndShow=function(){var a=this._annotationEl,b=this._circleEl,c=this._defaultShow,f=this._previousState,e=this._positions,
g=this._contentEl;this._coordinates=null;if(this._isInViewPort(this._shapeBox)){var k=a.style.display;U(a,{display:"block"});U(g,{"max-width":"","white-space":"nowrap",width:""});var m=g.getBoundingClientRect().width+"px";U(g,{"max-width":3*this._annotationsContainerEl.clientWidth/4-8+"px","max-height":3*this._annotationsContainerEl.clientHeight/4-8+"px","white-space":"normal",width:m});for(var n,q,s,g=0;g<e.length;g++){for(var u=e[g],m=u.x,p=u.y,u=u.orientations,m=m-this._padding.left,p=p-this._padding.top,
t=0;t<u.length;t++){switch(u[t]){case "left":n=this._getHorizontalPosition({x:m,y:p},"borderLeftColor","right");break;case "right":n=this._getHorizontalPosition({x:m,y:p},"borderRightColor","left");break;case "top":n=this._getVerticalPosition({x:m,y:p},"borderTopColor","down");break;case "bottom":n=this._getVerticalPosition({x:m,y:p},"borderBottomColor","up")}if(n){q=m-7.5;s=p-7.5;break}}if(n)break}U(a,{display:k});n&&(e=n.x,n=n.y,this._coordinates={annotation:{top:n,left:e},circle:{top:s,left:q}},
U(a,{top:n+"px",left:e+"px"}),U(b,{top:s+"px",left:q+"px"}),f||(f={circleEl:c?Sb:Je,annotationEl:c?Je:Sb}),this._previousState=f,U(a,f.annotationEl),U(b,f.circleEl))}this._coordinates||(U(b,Sb),U(a,Sb))};aa.prototype.onScroll=function(a){if(!this._isInViewPort(a)||!this._coordinates)return U(this._annotationEl,Sb),U(this._circleEl,Sb),this;var b=this._shapeBox,c=a.y-b.y;a=a.x-b.x;var f=this._coordinates,b=f.annotation,f=f.circle;U(this._annotationEl,{top:b.top+c+"px",left:b.left+a+"px"});U(this._circleEl,
{top:f.top+c+"px",left:f.left+a+"px"});this._isInViewPort({x:f.left+a+7.5+this._padding.left,y:f.top+c+7.5+this._padding.top,w:0,h:0})?(U(this._annotationEl,this._previousState.annotationEl),U(this._circleEl,this._previousState.circleEl)):(U(this._annotationEl,Sb),U(this._circleEl,Sb));return this};aa.prototype.remove=function(){this._annotationsContainerEl.removeChild(this._annotationEl);this._annotationsContainerEl.removeChild(this._circleEl)};aa.prototype.setViewPort=function(a){this._viewPort=
a;return this};aa.prototype._onClick=function(a){if(this._columns.length||this._text.template)this._toggleVisibility(this._circleEl),this._toggleVisibility(this._annotationEl),this._previousState={circleEl:{visibility:this._circleEl.style.visibility,display:this._circleEl.style.display},annotationEl:{visibility:this._annotationEl.style.visibility,display:this._annotationEl.style.display}}};aa.prototype._isInViewPort=function(a){var b=a.x,c=a.y,f=a.w;a=a.h;var e=this._viewPort;return!(Math.floor(b)>
e.x+e.w||Math.floor(c)>e.y+e.h||Math.ceil(b+f)<e.x||Math.ceil(c+a)<e.y)};aa.prototype._formatColumns=function(a){var b=this,c="";a.formatAnnotation(this._data.row,this._columns,this._text).forEach(function(a){switch(a.type){case "text":c+="\x3cdiv style\x3d'color:"+b._text.color+";white-space:pre-line;'\x3e"+qa(a.label)+"\x3c/div\x3e";break;default:var e="";a.label&&(e+=qa(a.label));a.value&&(e+=": "+qa(a.value));c+="\x3cdiv\x3e"+e+"\x3c/div\x3e"}});this._contentEl.innerHTML=c};aa.prototype._getChartBB=
function(){var a=this._annotationsContainerEl;return{left:0,right:a.clientWidth,top:0,bottom:a.clientHeight}};aa.prototype._toggleVisibility=function(a){U(a,"hidden"===a.style.visibility?Je:Sb)};aa.prototype._getHorizontalPosition=function(a,b,c){this._annotationEl.className=["ng-annotate",this.getInstanceClassName(),c].join(" ");b=a.x;var f=a.y,e=this._getChartBB(),g=e.top,k=e.left,m=e.right,e=e.bottom,n=this._annotationEl.getBoundingClientRect().width;n>=m-k&&U(this._annotationEl,{"max-width":Math.max(("left"===
c?m-b:b-k)-8,(m-k)/2)-16+"px"});var n=this._annotationEl.getBoundingClientRect(),q=n.width,s=n.height,q=q+8;"right"===c&&(b-=q);"left"===c&&(b+=8);var f=f-s/2,n=(s-8+5)/2,u=!1;Math.ceil(b)>=k&&(Math.floor(b+q)<=m&&s<=e)&&(Math.ceil(f)>=g&&Math.floor(f+s)<=e?u=!0:(k=Math.max(f+s-e,0),m=Math.min(f-g,0),k+=m,m=f-k,Math.ceil(m)>=g&&(Math.floor(m+s)<=e&&Math.floor(m)<=a.y-8&&Math.ceil(m+s)>=a.y+8)&&(u=!0,f=m,n+=k)));if(u)return this._resetStyleSheet(),a="."+c,g="left"===c?"right":"left",this._style.sheet.insertRule("."+
this.getInstanceClassName()+a+":before { border-"+g+"-color: "+this._borderColor.toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":before { border-color: "+this._backgroundColor.adjustOpacity(0).toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":after { border-"+g+"-color: "+this._backgroundColor.toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":after { border-color: "+this._borderColor.adjustOpacity(0).toRGBAString()+
" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":after { top: "+n+"px } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":before { top: "+n+"px } ",0),c="left"===c?{top:"0px",right:"0px"}:{top:"0px",left:"0px"},U(this._annotationEl.getElementsByClassName("cross")[0],c),{x:b,y:f};U(this._contentEl,{"max-width":3*this._annotationsContainerEl.clientWidth/4-8+"px"});return null};aa.prototype._getVerticalPosition=function(a,b,c){this._annotationEl.className=
["ng-annotate",this.getInstanceClassName(),c].join(" ");b=a.x;var f=a.y,e=this._getChartBB(),g=e.top,k=e.left,m=e.right,n=e.bottom,q=("up"===c?n-f:f-g)-16,s=this._annotationEl.getBoundingClientRect(),e=s.width,u=s.height;u>=n-g&&U(this._annotationEl,{"max-height":Math.max(q,(n-g)/2)+"px"});u+=8;"down"===c&&(f-=u);"up"===c&&(f+=8);q=(e-8+5)/2;b-=e/2;s=!1;Math.ceil(f+4)>=g&&(Math.floor(f+u)<=n&&e<=m)&&(Math.ceil(b)>=k&&Math.floor(b+e)<=m?s=!0:(g=Math.min(b-k,0),g=Math.max(b+e-m,0)+g,n=b-g,Math.ceil(n)>=
k&&(Math.floor(n+e)<=m&&Math.floor(n)<=a.x-8&&Math.ceil(n+e)>=a.x+8)&&(s=!0,b=n,q+=g)));if(s)return this._resetStyleSheet(),a="."+c,k="up"===c?"bottom":"top",this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":before { border-"+k+"-color: "+this._borderColor.toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":before { border-color: "+this._backgroundColor.adjustOpacity(0).toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+
a+":after { border-"+k+"-color: "+this._backgroundColor.toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":after { border-color: "+this._borderColor.adjustOpacity(0).toRGBAString()+" } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":after { left: "+q+"px } ",0),this._style.sheet.insertRule("."+this.getInstanceClassName()+a+":before { left: "+q+"px } ",0),c="up"===c?{bottom:"0px"}:{top:"0px"},r.extend(c,Db.isRTL?{left:"0px"}:{right:"0px"}),
U(this._annotationEl.getElementsByClassName("cross")[0],c),{x:b,y:f};U(this._contentEl,{"max-height":3*this._annotationsContainerEl.clientHeight/4-8+"px"});return null};aa.prototype._resetStyleSheet=function(){for(;this._style.sheet.cssRules.length;)this._style.sheet.deleteRule(0)};var X=function(a){this._isRemoved=!1;this._renderer=uo.getInstance();this._imageLoaderDelegate=new bg(this);this._canvas=new Ju(r.extend({},a,{imageLoaderDelegate:this._imageLoaderDelegate}))};X.prototype.createCustomDOM=
function(){return this._canvas.createCustomDOM()};X.prototype.removeCustomDOM=function(a){return this._canvas.removeCustomDOM(a)};X.prototype.toggleAccessibility=function(a){this._canvas.toggleAccessibility(a)};X.prototype.update=function(a,b,c){this._canvas.update(a,b);this._renderer.render(this._canvas,a,b).then(c)};X.prototype.redraw=function(){return this._renderer.render(this._canvas,this._canvas.getModel(),{duration:0,triggerEvent:!1})};X.prototype.isAnimating=function(){return this._canvas.getTweener().isAnimating};
X.prototype.isRemoved=function(){return this._isRemoved};X.prototype.reset=function(){this._canvas.getTweener().reset();return this};X.prototype.remove=function(){this._isRemoved=!0;this._canvas.remove();return this};X.prototype.scrollTo=function(a,b,c){this._canvas.scrollTo(a,b);return this.redraw().then(c)};X.prototype.show=function(){this._canvas.show();return this};X.prototype.hide=function(){this._canvas.hide();return this};X.prototype.chartOffsetXY=function(){return this._canvas.chartOffsetXY()||
[0,0]};X.prototype.getScrollOffset=function(){return this._canvas.getScrollOffset()};X.prototype.isInViewport=function(a){return this._canvas.isInViewport(a)};X.prototype.getElement=function(){return this._canvas.getElement()};X.prototype.getAnnotation=function(){return new aa(this.getElement())};X.prototype.getEventListeningElement=function(){return this._canvas.getEventListeningElement()};X.prototype.getElementOffset=function(){return this._canvas.getElementOffset()};X.prototype.startMouseInteraction=
function(){this._canvas.startMouseInteraction();return this};X.prototype.stopMouseInteraction=function(){this._canvas.stopMouseInteraction();return this};X.prototype.screenshot=function(){return this._canvas.screenshot()};X.prototype.hasTooltip=function(){return!0};X.prototype.showTooltip=function(a,b,c,f,e,g){this._canvas.showTooltip(a,b,c,f,e,g);return this};X.prototype.showTruncationTooltip=function(a,b,c,f){this._canvas.showTruncationTooltip(a,b,c,f);return this};X.prototype.hideTooltip=function(){this._canvas.hideTooltip();
return this};X.prototype.moveTooltip=function(a){this._canvas.moveTooltip(a);return this};X.prototype.supportAccessibility=function(){return!0};X.prototype.resetAccessibility=function(){this._canvas.resetAccessibility();return this};X.prototype.renderAccessibilityTable=function(a){this._renderer.renderAccessibilityTable(this._canvas,a);return this};X.prototype.renderAccessibilityTabbableItems=function(){this._renderer.renderAccessibilityTabbableItems(this._canvas);return this};X.prototype.updateAccessibilityDataItems=
function(){this._renderer.updateAccessibilityDataItems(this._canvas);return this};X.prototype.setCursorType=function(a){this._canvas.setCursorType(a);return this};X.prototype.setDebugInfo=function(a){this._canvas.setDebugInfo(a);return this};X.prototype.requestSerializedModels=function(){return!1};var id,Lu=new (function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.ready=function(){return Jm(hs,{timeout:Ra.DOCUMENT_READY_MAX_DELAY,
errorMessage:"Timeout for document.readyState \x3d\x3d 'complete'"}).then(function(){return Jm(is,{failOnTimeout:!1,timeout:Ra.FONT.LOADING_TEST.MAX_DELAY})})};b.prototype.getRenderer=function(a){return new X({processor:a.processor,config:a.config,isLegend:a.isLegend,getTooltipInstance:a.getTooltipInstance})};b.prototype.require=function(a){return jo.request({url:a,isSync:!1})};b.prototype.getTextWidth=function(a,b){null==b&&(b=Ra.FONT.SIZE);return b/Ra.FONT.SIZE*wc.getInstance().getTextWidth(a)};
b.prototype.getTruncatedText=function(a,b,e){null==e&&(e=Ra.FONT.SIZE);e/=Ra.FONT.SIZE;return wc.getInstance().getTruncatedText(a,b/e)};b.prototype.getRealFontSize=function(a){return a};b.prototype.isPointInStroke=function(a,b,e,g,k){a(id);return id.isPointInStroke(g,k)};b.prototype.fontInfo=function(){return{SIZE_ASCENDER:0.25,SIZE_DESCENDER:0.2}};return b}(Tc)),uk=function(){};uk.prototype.setDelegate=function(a){this._delegate=a};uk.prototype.getDelegate=function(){return this._delegate||Lu};var mb=
oa(uk).getInstance(),zb=function(a){function b(c,b){c||(c={layer:void 0,shapeGroup:void 0});a.call(this,c,b);var e=c.layer,g=c.shapeGroup;e&&e.append(this);g&&g.append(this)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.key="shapeGroup";c.canSelect=!0;c.canHover=!0;c.data=void 0;c.annotateChildKeys=void 0};return b}(He);zb.type="ShapeGroup";var Mu=Object.getPrototypeOf(zb.prototype);
zb.prototype._select=p.SELECT_STATE.NONE;r.extend(zb.prototype,{hover:function(){this.getChildren().forEach(function(a){a.get("canHover")&&a.hover()});return this},unhover:function(){this.getChildren().forEach(function(a){a.get("canHover")&&a.unhover()});return this},select:function(){this._select=p.SELECT_STATE.TRUE;this.getChildren().forEach(function(a){a.get("canSelect")&&a.select()});var a=this.getParent();a&&a.select();return this},unselect:function(){this._select=p.SELECT_STATE.FALSE;this.getChildren().forEach(function(a){a.get("canSelect")&&
a.unselect()});var a=this.getParent();a&&a.unselect();return this},resetSelect:function(){this._select=p.SELECT_STATE.NONE;this.getChildren().forEach(function(a){a.get("canSelect")&&a.resetSelect()});var a=this.getParent();a&&a.resetSelect();return this},isSelected:function(){return this._select===p.SELECT_STATE.TRUE},tabOn:function(){this.getChildren().filter(function(a){return a.get("canHover")}).map(function(a){return a.tabOn()});return this},tabOff:function(){this.getChildren().filter(function(a){return a.get("canHover")}).map(function(a){return a.tabOff()});
return this},getInteractionEntity:function(){return this},toModel:function(){var a=this;return r.flatten(this.getChildren().map(function(a){return a.toModel()})).map(function(b){b.groupKey=a.getKey();return b})}});zb.fromJson=function(a,b){void 0===b&&(b=!0);return Mu.constructor.fromJson.call(this,a,b)};var yo=r.flatten,Km=r.isArray,Ud={_getFlattenChildren:function(a){a=a&&a.getChildren();return!a?[]:yo(a.map(function(a){return"ShapeGroup"===a.getType()?a.getChildren():a}))},update:function(a,b,
c,f,e){var g=this;if(!a&&!b||a&&a.props.isAccessible&&!b)return[];var k=0,m=0;if(b&&b.isGroup()){var n;n=b.totalTranslation(!0,!0);k=n[0];m=n[1]}else k=c.offsetX,m=c.offsetY;var q=this._getFlattenChildren(b);n=A.differenceWithKey(a&&a.getChildren()||[],q);q=q.map(function(n){var q=a&&a.getChildByKey(n.key);c.oldParent=a;c.newParent=b;c.offsetX=k;c.offsetY=m;return g.update(q,n,c,f,e)}).filter(function(a){return a});n=n.map(function(n){c.oldParent=a;c.newParent=b;c.offsetX=k;c.offsetY=m;return g.update(n,
null,c,f,e)}).filter(function(a){return a});n=yo(n.concat(q));var q=0<n.length,s=b&&b.isGroup()?!0:this._isNodeVisible(b,e,k,m)||b&&b.get("isAccessible"),q=s&&!a?Aj(b.toModel(null,!1,!q),function(a){return f.insert(a,c)}):!s&&a?f.remove(a,c):!s&&!a?null:b.getUpdateState()===p.UPDATE_STATE.MODIFIED?Aj(b.toModel(null,!1,!q),function(c){return f.update(a,c)}):a;Aj(b,function(a){return a.setUpdateState(p.UPDATE_STATE.UPDATED)});return Km(q)?q:q?q._setChildren(n):null},_isNodeVisible:function(a,b,c,f){if(a&&
a.isVisible())if(b){if(a=a.boundingBox())return b.intersect(a.x+c,a.y+f,a.w,a.h)}else return!0;return!1},getModelNode:function(a,b,c){if(a){var f=a;b.forEach(function(a){if(f){var g=f.getChildByKey(a);g?f=g:(c?f.getChildren().some(function(c){return c instanceof zb?(f=c.getChildByKey(a),!0):!1}):f=g,f||(console.debug("utils:getModelNode: can't find child with key",a,"fullkey",b),f=null))}});return f}return a}},Vd=function(a){function b(c,b){a.call(this,c.key);this.props=c;this.tweens=b}a&&(b.__proto__=
a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.getPatcher=function(){return this._patcher};b.update=function(a,b,e,g){g=(g||{}).disableMorphing;void 0===g&&(g=!1);a=Ud.update(a,b,{disableMorphing:g,oldParent:null,newParent:null,offsetX:0,offsetY:0},this.getPatcher(),e);return Array.isArray(a)?a[0]:a};b.prototype.hasAnimatePathInfo=function(){return null!=(this.props.animate_points_x&&this.props.animate_points_y)};b.prototype.getProps=function(){return this.props};b.prototype.getStartValue=
function(a){return this._getValue(a,!0)};b.prototype.getEndValue=function(a){return this._getValue(a,!1)};b.prototype._getValue=function(a,b){void 0===b&&(b=!0);var e=this.props[a],g=this.tweens&&this.tweens[a];return g?b?g[0]:g[1]:e};b.prototype.tween=function(a,b){return this};b.prototype.tweenInsert=function(a){return this};b.prototype.tweenRemove=function(a){return this};b.prototype.tweenUpdate=function(a){return this};b.prototype.clone=function(){return this.constructor.fromJson(this.toJson(),
!1)};b.prototype.toJson=function(){return{key:this.key,props:this.props}};b.fromJson=function(a,b){void 0===b&&(b=!0);b&&(a=A.deepCopy(a));return new this(a.props)};return b}(sa);Vd._patcher={remove:function(a,b){return a.tweenRemove(b)},insert:function(a,b){return a.tweenInsert(b)},update:function(a,b,c){return a.tweenUpdate(b)}};var Nu="x y w h dx dy r rotation textRotation opacity fill stroke textColor textX textY r1 r2 textR angle startAngle lineWidth points_x points_y animate_points_x animate_points_y bg cornerRadius fontSize number dashed texture baseX baseY".split(" "),
Wc=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.tweenRemove=function(a){return this.fadeOut(this.getEndModelRemove(a))};b.prototype.tweenInsert=function(a){return this.fadeIn(this.getStartModelInsert(a))};b.prototype.tweenUpdate=function(a){this.props.bb0=this.props.bb;this.props.type===a.props.type&&this.tween(null,a.props);return this};b.prototype.tween=function(a,b,e){var g=this;void 0===e&&(e=
!1);var k,m,n={};if(a)e=e?A.uniq(r.keys(a).concat(r.keys(this.props))):r.keys(a),k=a,m=this.props;else if(b)e=e?A.uniq(r.keys(this.props).concat(r.keys(b))):r.keys(b),k=this.props,m=b;else return this;e.forEach(function(e){var s=k[e],u=m[e];if(s!==u)if(-1!==r.indexOf(Nu,e))if("fontSize"===e)null!=a&&a.isTruncated||null!=b&&b.isTruncated?g.props[e]=u:n[e]||(n[e]=[s,u]);else if("texture"===e)(null!=s?s.shade:void 0)===(null!=u?u.shade:void 0)?g.props[e]=u:n[e]||(n[e]=[s,u]);else if(null!=(null!=s?s.isEqual:
void 0)&&!s.isEqual(u))n[e]=[s,u];else{if(!r.isObject(u)&&!r.isObject(s)||!r.isEqual(s,u))n[e]||(n[e]=[s,u])}else g.props[e]=u});r.isEmpty(n)||(this.tweens=n);return this};b.prototype.fadeIn=function(a){null==a&&(a={});a.opacity=0;this.tween(a,null);return this};b.prototype.fadeOut=function(a){null==a&&(a={});a.opacity=0;this.tween(null,a);return this};b.prototype.getEndModelRemove=function(a){var b=a.oldParent;a=a.newParent;b=b&&b.props.scales;a=null!=a?a.get("scales"):void 0;return!a||!b?null:this._getTweensByScale(b,
a)};b.prototype.getStartModelInsert=function(a){var b=a.oldParent;a=a.newParent;b=b&&b.props.scales;a=null!=a?a.get("scales"):void 0;return!a||!b?null:this._getTweensByScale(a,b)};b.prototype._getTweensByScale=function(a,b){var e=this,g={},k;for(k in e.props.propertiesByScale)if(e.props.propertiesByScale[k]){var m=e.props.propertiesByScale[k],n=b[k],q=a[k];q&&n&&m.forEach(function(a){if(null!=e.props[a]){var c=e.props[a];g[a]=r.isArray(c)?c.map(function(a){return $.transpose(a,n,q)}):$.transpose(c,
n,q)}})}this._handleRotation(g,a,b);return g};b.prototype._handleRotation=function(a,b,e){if(this.props.rotation){var g=b.x&&e.x,k=b.y&&e.y;if(g||k)if(a.rotation||(a.rotation=r.clone(this.props.rotation)),g&&(a.rotation.x=$.transpose(a.rotation.x,e.x,b.x)),k)return a.rotation.y=$.transpose(a.rotation.y,e.y,b.y)}};return b}(Vd),zo=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(Wc),Lm=r.extend,Ou=jd(zo),
Pu=Od.getInstance().getColor("#000"),Qu={x:["x"],y:["y"]},Ao=Object.getPrototypeOf(ya.prototype);r.extend(ya.prototype,{truncationTooltipPositions:function(){var a=this.getTextXY(),b=a[0],c=a[1],b=b-6,f=Db.isRTL()?this.getTextW():0,c=c-(this.getTextH()+1),e=this.getTextH()+6,g=Uc.rotate([b-f,c+e],this.getRotation()),a=g[0],g=g[1],b=Uc.rotate([b-f,c-e],this.getRotation());return[[null,a,g],[null,b[0],b[1]]]},getModelProps:function(){var a=this.applyShapeEffects(),b=a.bgColor,a=a.stroke||Pu,c=mb.getDelegate().getRealFontSize(this._props.size),
f=this.getRotation(),e=this.getTextXY(),g=e[0],e=e[1],b=b?{color:b,box:this.trueBoundingBox().toArray()}:null,k=this._hasFixedWidth()||this.isTruncated()?this._maxTextWidth:void 0;return r.extend(this.getCommonModelProps(),{x:g,y:e,propertiesByScale:Qu,text:this._props.text,fontSize:c,fill:a,rotation:f,bg:b,maxWidth:k,halign:this._props.halign})},toModel:function(){return Ao.toModel.call(this,Ou)}});ya.fromJson=function(a,b){null==b&&(b=!0);var c=Ao.constructor.fromJson.call(this,a,b);a&&a.props&&
(c._props.padding=fb.fromJson(a.props.padding,b));return c};var Rh=Od.getInstance(),Ru={color:Rh.getColor(p.HOTSPOT.COLOR),bgColor:Rh.getColor(p.HOTSPOT.BG_COLOR),hoverColor:Rh.getColor(p.HOTSPOT.HOVER_COLOR),hoverBgColor:Rh.getColor(p.HOTSPOT.HOVER_BG_COLOR)},Wd=function(a){var b=a.icon,c=a.box,f=a.name,e=a.colors,g=a.manager;this.key=a.key;this.box=c;this.name=f;this.manager=g;this.icon=null!=b?b[0]:void 0;this.colors=e||{};r.defaults(this.colors,Ru);this._reRenderOnHover=!(this.colors.color.isEqual(this.colors.hoverColor)&&
this.colors.bgColor.isEqual(this.colors.hoverBgColor))};Wd.prototype.getShape=function(){null==this._shape&&(this._shape=this._computeShape());return this._shape};Wd.prototype.getInfo=function(){return this.manager.getHotSpotInfo(this)};Wd.prototype._computeShape=function(){var a=this.box.getCenter(),b=a[0],a=a[1],c=this.box.toJson(),f=c.w,b=new ya({key:this.key+"_"+this.name+"_hotSpot",text:this.icon,x:b,y:a,maxWidth:f,bgColor:this.colors.bgColor,size:Math.min(c.h,f)-4,padding:{top:1,bottom:2},valign:"middle",
halign:"center",stroke:this.colors.color,canHover:!1,canSelect:!1,skipInFind:!0});this.box.hasRotation()&&(a=this.box.rotation,b.set({pivot:[a.x,a.y],angle:a.angle}));return b};Wd.prototype.isUnderCursor=function(a,b){return this.box.contains(a,b)};Wd.prototype.hover=function(){return this._reRenderOnHover?(this.getShape().set({stroke:this.colors.hoverColor,bgColor:this.colors.hoverBgColor}),!0):!1};Wd.prototype.unhover=function(){return this._reRenderOnHover?(this.getShape().set({stroke:this.colors.color,
bgColor:this.colors.bgColor}),!0):!1};var Ke=function(a){var b=this,c=a.hotSpots;this.host=a.host;this.hotSpots={};this._hotSpotShapes=null;this._hostParent=this.host.getLayer();var f=this.host.trueBoundingBox();c.forEach(function(a){var c=a.name,k=a.position,m=a.icon,n=a.size;a=a.colors;null==n&&(n=10);b.hotSpots[c]=new Wd({key:b.host.key,box:f.getRelativeBox(k,n),icon:m,name:c,colors:a,manager:b})})};Ke.prototype.getHotSpotUnderCursor=function(a,b){for(var c in this.hotSpots)if(this.hotSpots[c]){var f=
this.hotSpots[c];if(f.isUnderCursor(a,b))return f}return null};Ke.prototype.getHotSpotInfo=function(a){var b=(c=a.box.clone()).offset.apply(c,this.host.totalTranslation(!0,!0)||[]);(c=this._hostParent.getScene())&&b.offset.apply(b,c.get("position")||[]);return{name:a.name,box:b};var c};Ke.prototype._getHotSpotShapes=function(){null==this._hotSpotShapes&&(this._hotSpotShapes=r.values(this.hotSpots).map(function(a){return a.getShape()}));return this._hotSpotShapes};Ke.prototype.hover=function(){var a=
this;this._getHotSpotShapes().forEach(function(b){a._hostParent.append(b)})};Ke.prototype.unhover=function(){this._getHotSpotShapes().forEach(function(a){a.removeFromParent()})};var vk=Object.getPrototypeOf(Ka.prototype);r.extend(Ka.prototype,{isBrushLayer:function(){return!1},findShapeUnderPos:function(a,b){var c=this._props;if(c.viewport){var f=c.viewport;if(!(new D({x:f[0]-c.x,y:f[1]-c.y,w:f[2],h:f[3]})).contains(a,b))return null}return vk.findShapeUnderPos.call(this,a,b)},toScenePosition:function(a,
b){var c=this.getParent(),f=this.translation(),e=f[0],f=f[1];return!c?[a+e,b+f]:c.toScenePosition(a+e,b+f)},toLocalPosition:function(a,b){var c=this.getParent(),f=this.translation(),e=f[0],f=f[1];return!c?[a-e,b-f]:c.toLocalPosition(a-e,b-f)},select:function(){this._props.interactive&&(this._originalZIndex=this._props.zIndex,this.set({zIndex:ab.INTERACTION_ZINDEX++}));return this},unselect:function(){this._props.interactive&&null!=this._originalZIndex&&(this.set({zIndex:this._originalZIndex}),this._originalZIndex=
void 0);return this},resetSelect:function(){this._props.interactive&&null!=this._originalZIndex&&(this.set({zIndex:this._originalZIndex}),this._originalZIndex=void 0);return this},_sortChildren:function(){this._props.interactive&&(this._children=r.sortBy(this._children,function(a){return a.get("zIndex")}));vk._sortChildren.call(this);return this},getModelProps:function(){return{type:this.getType(),key:this._props.key,zIndex:this._props.zIndex,tx:this._props.x,ty:this._props.y,staggerAnim:this._props.staggerAnim,
scales:this._props.scales,viewport:this._props.viewport,accessibility:this._props.accessibility,canScroll:this._props.canScroll}}});Ka.fromJson=function(a,b){void 0===b&&(b=!0);var c=vk.constructor.fromJson.call(this,a,b,Ka),f=a.props&&a.props.scales;if(f){var e={};b||(f=A.deepCopy(f));for(var g in f)f[g]&&(e[g]=$.fromJson(f[g]));c._props.scales=e}return c};Ka._roundProps=new $a(["x","y"]);var Su=jd(Wc),Sh=function(a){function b(c){a.call(this);this._effects=c}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.applyEffect=function(a,b){var e=this._effects.map(function(a){return function(c){return a.applyEffect(c,b)}});return A.flow(e)(a,b)};return b}(Sa);Sh.getDescriptor=function(a){return Sa.getDescriptorForType("CompositeShapeEffect",a)};var Tu=0.4,Uu=10,Th=function(a){function b(c){void 0===c&&(c={});var b=c.haloOpacity;void 0===b&&(b=Tu);c=c.haloWidth;void 0===c&&(c=Uu);a.call(this);this._haloOpacity=b;this._haloWidth=c}a&&(b.__proto__=a);b.prototype=
Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.applyEffect=function(a,b){var e=b.selectState,g=a.stroke,k=a.lineWidth,m=a.fill;null!=e&&e===p.SELECT_STATE.TRUE&&(g=m.adjustOpacity(this._haloOpacity),k=this._haloWidth);return r.extend(a,{stroke:g,lineWidth:k})};return b}(Sa);Th.getDescriptor=function(a){return Sa.getDescriptorForType("HaloSelectionShapeEffect",a)};var Bo=0.9,Vu=p.SELECT_STATE.FALSE,Wu=["r","r1","r2","textR"],Uh=function(a){function b(c){void 0===c&&(c={});var b=
c.radiusScalingFactor;void 0===b&&(b=Bo);c=c.applyToState;void 0===c&&(c=Vu);a.call(this);this._radiusScalingFactor=b;this._applyToState=c}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.applyEffect=function(a,b){var e=b.selectState;null!=e&&e===this._applyToState&&Wu.forEach(function(b){var f=a[b];null!=f&&(a[b]=f*Bo)});return a};return b}(Sa);Uh.getDescriptor=function(a){return Sa.getDescriptorForType("RadiusScalingSelectionShapeEffect",a)};var Xu=
[Sa,Mh,Sh,Lh,Th,Uh,Nh],wk=null,Mm={},dg=function(){};dg.getInstance=function(){wk||(wk=new dg,Xu.forEach(function(a){return Mm[a.getDescriptor().type]=a}));return wk};dg.prototype.getShapeEffect=function(a){var b=this;return Array.isArray(a)?new Sh(a.map(function(a){return b.getShapeEffect(a)})):js(a)};var Yu=dg.getInstance(),Zu="key opacity type zIndex bgColor accessibility".split(" "),$u=Qh.getInstance(),Co=Object.getPrototypeOf(ab.prototype),Do;ab.prototype._select=p.SELECT_STATE.NONE;ab.prototype._isOnhover=
!1;ab.INTERACTION_ZINDEX=1E9;r.extend(ab.prototype,{_trueBoundingBox:void 0,_select:void 0,_isOnhover:void 0,_hotSpotMgr:void 0,getInteractionEntity:function(){for(var a=this;;){var b=a.getParent();if(!b||b instanceof Ka)break;a=b}return a},hasHotSpots:function(){return null!=this._props.hotSpots},getHotSpotManager:function(){null==this._hotSpotMgr&&(this._hotSpotMgr=new Do({host:this,hotSpots:this._props.hotSpots}));return this._hotSpotMgr},findHotSpotUnderPos:function(a,b){if(!this.hasHotSpots())return null;
var c=this.totalTranslation(!0,!0),f=c[1];a-=c[0];return this.getHotSpotManager().getHotSpotUnderCursor(a,b-f)},isUnderCursor:function(a,b){return this.trueBoundingBox().contains(a,b)},isInArea:function(a,b,c,f){return this.trueBoundingBox().intersect(a,b,c,f)},isUnderLine:function(a,b,c,f){return!1},findShapeUnderPos:function(){return this},findShapesInArea:function(a,b,c,f){return[this]},findShapeUnderLine:function(a,b,c,f){return this},cross:function(){this._isCrossed=!0;return this},uncross:function(){this._isCrossed=
!1;return this},hover:function(){this._isOnhover=!0;this.markAsModified();this._props.interactive&&(this._originalZIndex=this._props.zIndex,this.set({zIndex:ab.INTERACTION_ZINDEX++}));this.hasHotSpots()&&this.getHotSpotManager().hover();return this},unhover:function(){this._isOnhover=!1;this.markAsModified();this.hasHotSpots()&&this.getHotSpotManager().unhover();this._props.interactive&&null!=this._originalZIndex&&(this.set({zIndex:this._originalZIndex}),this._originalZIndex=void 0);return this},
extendHoverArea:function(){this._isHoverAreaExtended=!0;return this},restoreHoverArea:function(){this._isHoverAreaExtended=!1;return this},tabOn:function(){this._isOnhover=!0;this.set("accessibility",r.extend({},this.get("accessibility"),{showTooltip:!0}));return this},tabOff:function(){this._isOnhover=!1;this.set("accessibility",r.extend({},this.get("accessibility"),{showTooltip:!1}));return this},getSelectedState:function(){return this._select},isSelected:function(){return this._select===p.SELECT_STATE.TRUE},
select:function(){this._select=p.SELECT_STATE.TRUE;this.markAsModified();return this},unselect:function(){this._select=p.SELECT_STATE.FALSE;this.markAsModified();return this},resetSelect:function(){this._select=p.SELECT_STATE.NONE;this.markAsModified();return this},applyShapeEffects:function(){var a=r.pick(this._props,this.constructor.shapeEffectsProps);null!=a.texture&&(a.texture=this._getTexture());return Yu.getShapeEffect([this._props.selectionShapeEffect,this._props.hoverShapeEffect]).applyEffect(a,
{hoverState:this._isOnhover?p.HOVER_STATE.TRUE:p.HOVER_STATE.FALSE,selectState:this._select})},toModel:function(a){return Co.toModel.call(this,a||Su)},_getTexture:function(){var a=this._props.texture;if(a&&a.url){var b=$u.validateUrl(a.url);if(b)return{shade:0,fit:a.fit||p.TEXTURE.FIT.COVER,url:b};ta.images&&console.log("Image:: rejected url",a.url)}},getTranslatedBox:function(){var a=(b=this.trueBoundingBox().clone()).offset.apply(b,this.totalTranslation(!0,!0));if(b=this.getLayer())(b=b.getScene())&&
a.offset.apply(a,b.get("position"));return a;var b},getInfo:function(){var a=this._props.data;return{data:a?{column:a.column,row:Da.getRowWithoutInternalValue(a.row)}:a,key:this.key,box:this.getTranslatedBox()}},getAnnotationInfo:function(){return{positions:[],shouldUpdate:!1}},getCommonModelProps:function(){var a=this,b={};Zu.forEach(function(c){null!=a._props[c]&&(b[c]=a._props[c])});b.bb=(this._props.bb||this.boundingBox()).toArray();b.type=this.getType();b.opacity=this._props.opacity;this._props.zIndex&&
(b.zIndex=this._props.zIndex);this._props.accessibility&&(b.accessibility=this._props.accessibility);return b}});ab.fromJson=function(a,b){void 0===b&&(b=!0);return Co.constructor.fromJson.call(this,a,b)};ab.setHotSpotManagerImpl=function(a){Do=a};var xk,av="tx ty viewport position background scrollOffset viewport".split(" "),bv=["scales"],eg=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.setNodeModelFactoryImpl=
function(a){xk=a};b.prototype.tweenUpdate=function(a){return this.tween(null,a.getProps())};b.prototype.tween=function(a,b){b||(b={});var e={},g;for(g in this.props){var k=this.props[g];if(0>bv.indexOf(g)){var m=b[g];r.isEqual(k,m)||(-1<av.indexOf(g)?k!==m&&(e[g]=[k,m]):this.props[g]=m)}}r.isEmpty(e)||(this.tweens=e);return this};b.prototype.clone=function(a){void 0===a&&(a=!0);return xk.fromJson(this.toJson(a),!1)};b.prototype.toJson=function(c){void 0===c&&(c=!0);var b=a.prototype.toJson.call(this);
c&&(b.children=this.getChildren().map(function(a){return a.toJson(!0)}));if(b.props.scales||b.props.scrollOffset)b.props=r.clone(b.props);if(b.props&&b.props.scales){c=b.props.scales;b.props.scales={};for(var e in c)b.props&&(b.props.scales[e]=c[e].toJson())}return b};b.fromJson=function(c,b){void 0===b&&(b=!0);b&&(c=A.deepCopy(c));var e=a.fromJson.call(this,c,!1);c.children&&c.children.forEach(function(a){e.append(xk.fromJson(a,!1))});var g=c.props.scales;if(g){var k={};b||(g=A.deepCopy(g));for(var m in g)g[m]&&
(k[m]=$.fromJson(g[m]));e.props.scales=k}return e};return b}(Vd),Eo=null,Fo=Object.getPrototypeOf(od.prototype);r.extend(od.prototype,{isUnderCursor:function(a,b){return!0},isInArea:function(a,b,c,f){return!0},isUnderLine:function(a,b,c,f){return!0},findShapeUnderPos:function(a,b){for(var c=this.getChildren(),c=r.sortBy(c,function(a){return a.get("zIndex")||0}),f=[],e=c.length-1;0<=e;e--){var g=c[e];if(!g.get("skipInFind")){var k=g.translation(),m=k[0],k=k[1];g.isUnderCursor(a-m,b-k)&&(g=g.findShapeUnderPos(a-
m,b-k))&&f.push(g)}}return 1>f.length?null:r.reduce(f,function(c,f){return f.closerThan(c,a,b)?f:c},f[0])},findShapesInArea:function(a,b,c,f){for(var e=this.getChildren(),g=[],k=e.length-1;0<=k;k--){var m=e[k];if(!m.get("skipInFind")){var n=m.translation(),q=n[0],n=n[1];m.isInArea(a-q,b-n,c,f)&&(g=g.concat(m.findShapesInArea(a-q,b-n,c,f)))}}return g},findShapeUnderLine:function(a,b,c,f){for(var e=this.getChildren(),g=[],k=e.length-1;0<=k;k--){var m=e[k];if(!m.get("skipInFind")){var n=m.translation(),
q=n[0],n=n[1];m.isUnderLine(a-q,b-n,c-q,f-n)&&(g=g.concat(m.findShapeUnderLine(a-q,b-n,c-q,f-n)))}}return g},rotate:function(){if(this.get("skipTransforms"))return this;this.getChildren().forEach(function(a){return a.rotate()});return this},flipY:function(){if(this.get("skipTransforms"))return this;this.getChildren().forEach(function(a){return a.flipY()});return this},flipX:function(){if(this.get("skipTransforms"))return this;this.getChildren().forEach(function(a){return a.flipX()});return this},
offsetX:function(a){this.getChildren().forEach(function(b){return b.offsetX(a)});return this},offsetY:function(a){this.getChildren().forEach(function(b){return b.offsetY(a)});return this},center:function(a,b){if(this.get("skipTransforms"))return this;this.getChildren().forEach(function(c){c.get("skipTransforms")||(a&&c.offsetX(a),b&&c.offsetY(b))});return this},offsetAngle:function(a){this.getChildren().forEach(function(b){return b.offsetAngle(a)});return this},applyTransforms:function(a){a&&(a.rotate&&
this.rotate(),a.flipX&&this.flipX(),a.flipY&&this.flipY(),a.center&&this.center&&this.center());return this},postProcess:function(){this.applyTransforms(this._props.transforms);return this},toModel:function(a,b,c){void 0===b&&(b=!1);void 0===c&&(c=!0);if(c&&!this.getChildren().length)return null;var f=Fo.toModel.call(this,a||eg);b&&this.getChildren().forEach(function(a){a=a.toModel();Array.isArray(a)?f.appendAll(a):f.append(a)});return f}});od.fromJson=function(a,b){void 0===b&&(b=!0);b&&(a=A.deepCopy(a));
var c=Fo.constructor.fromJson.call(this,a,!1);a.children&&a.children.forEach(function(a){c.append(Eo.fromJson(a,!1))});return c};od.setNodeFactoryImpl=function(a){Eo=a};var Tb=p.TRANSFORM,Le=function(a){function b(c,b){a.call(this,c,b);this._transforms=[]}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.rotate=function(){this._transforms.push(Tb.ROTATE);return a.prototype.rotate.call(this)};b.prototype.flipX=function(){this._transforms.push(Tb.FLIP_X);
return a.prototype.flipX.call(this)};b.prototype.flipY=function(){this._transforms.push(Tb.FLIP_Y);return a.prototype.flipY.call(this)};b.prototype.isUnderCursor=function(a,b){var e=this.toNormalizedPosition(a,b),g=e[0],e=e[1],k=this._props,m=k.w,k=k.h;return(0<=m?0<=g&&g<m:0>=g&&g>m)&&(0<=k?0<=e&&e<k:0>=e&&e>k)};b.prototype.toNormalizedPosition=function(a,b){return this._toNormalizedPosition(a,b,this._transforms)};b.prototype.toTransformedPosition=function(a,b){return this._toTransformedPosition(a,
b,this._transforms)};b.prototype.notifyShapeChanged=function(){this._transformShapes()};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.w=0;c.h=0;c.staggerAnim=!1;c.decorationType="";c.refContainerKeys=[]};b.prototype._transformShapes=function(){for(var a=this.getChildren(),b=this._transforms,e=0;e<b.length;++e)switch(b[e]){case Tb.ROTATE:a.forEach(function(a){return a.rotate()});this._brushArea&&this._brushArea.rotateTextDirection();break;case Tb.FLIP_X:a.forEach(function(a){return a.flipX()});
break;case Tb.FLIP_Y:a.forEach(function(a){return a.flipY()})}return a};b.prototype._toNormalizedPosition=function(a,b,e){for(var g=e.length-1;0<=g;--g)switch(e[g]){case Tb.FLIP_X:a=-a;break;case Tb.FLIP_Y:b=-b;break;case Tb.ROTATE:var k=a;a=-b;b=k}return[a,b]};b.prototype._toTransformedPosition=function(a,b,e){for(var g=0;g<e.length;++g)switch(e[g]){case Tb.FLIP_X:a=-a;break;case Tb.FLIP_Y:b=-b;break;case Tb.ROTATE:var k=a;a=b;b=-k}return[a,b]};return b}(Ka);Le.type="Layer";Le._roundProps=new $a(["x",
"y"]);Le._sensitiveProps=new $a(["scales"]);var Go=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._getTweensByScale=function(a,b){var e,g,k;e=this.props;var m=e.x,n=e.y;k=e.stretchX;var q=e.stretchY,s=e.rotation,u={};if((e=a.x)&&(g=b.x))u.x=$.transpose(m,g,e),k&&(k=null!=s?"h":"w",u[k]=$.transpose(m+this.props[k],g,e)-u.x,k=null!=s?"textY":"textX",u[k]=$.transpose(m+this.props[k],g,e)-u.x);if((e=a.y)&&
(g=b.y))u.y=$.transpose(n,g,e),q&&(k=null!=s?"w":"h",u[k]=$.transpose(n+this.props[k],g,e)-u.y,k=null!=s?"textX":"textY",u[k]=$.transpose(n+this.props[k],g,e)-u.y);this._handleRotation(u,a,b);return u};b.prototype.getStartModelInsert=function(c){return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({x:this.props.x+this.props.w/2,y:this.props.y+this.props.h/2,w:0,h:0},a.prototype.getStartModelInsert.call(this,c))};b.prototype.getEndModelRemove=function(c){return c.disableMorphing?
a.prototype.getStartModelInsert.call(this,c):r.extend({x:this.props.x,y:this.props.y,w:1.5*this.props.w,h:1.5*this.props.h},a.prototype.getEndModelRemove.call(this,c))};return b}(Wc),cv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getPathProps=function(a,b){var e=b.w,g=b.h;if(null!=e&&null!=g){var k=Math.floor(a/4),m=this._sampleLine(0,0,e,0,k+(0<a%4?1:0)),n=m[0],m=m[1],q=this._sampleLine(e,0,e,
g,k+(1<a%4?1:0)),s=q[0],q=q[1],u=this._sampleLine(e,g,0,g,k+(2<a%4?1:0)),e=u[0],u=u[1],k=this._sampleLine(0,g,0,0,k),g=k[0],k=k[1];return{animate_points_x:n.concat(s).concat(e).concat(g),animate_points_y:m.concat(q).concat(u).concat(k)}}return null};b.prototype.getNumVertices=function(){return 4};return b}(jd(Go)),jc=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="Rect";this.shapeEffectsProps=
["fill","stroke","texture"]};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.vertical=!1;c.textInside=!1;c.textCenter=!0;c.textRotate=!1;c.cornerRadius=0;c.x=0;c.y=0;c.w=0;c.h=0;c.stroke=void 0;c.fill=void 0;c.text=void 0;c.textColorLight=void 0;c.textColorDark=void 0;c.stretchX=!0;c.stretchY=!1;c.lineWidth=1;c.dashed=0;c.hoverPadding={};return c.texture=void 0};b.prototype.set=function(c,b,e){this._forceRecomputeBoundingBox();return a.prototype.set.call(this,
c,b,e)};b.prototype.getRotation=function(){return this._props.vertical?{x:this._props.stroke?Math.round(this._props.x):this._props.x,y:this._props.stroke?Math.round(this._props.y):this._props.y,angle:-Math.PI/2}:null};b.prototype.applyScales=function(a){null==a&&(a={});var b=this._props,e=b.x,g=b.y,k=b.w,m=b.h,n=b.stretchX,b=b.stretchY,q=a.x;a=a.y;var s={};null!=q&&(s.x=q.scale(e),n&&(s.w=q.scale(e+k)-s.x));null!=a&&(s.y=a.scale(g),b&&(s.h=a.scale(g+m)-s.y));this.set(s);return this};b.prototype._computeTrueBoundingBox=
function(){return(new D({x:this._props.x,y:this._props.y,w:this._props.w,h:this._props.h})).padAll(this._props.stroke?this._props.lineWidth/2:0)};b.prototype.domainBox=function(){return new D({x:this._props.x,y:this._props.y,w:this._props.stretchX?this._props.w:0,h:this._props.stretchY?this._props.h:0})};b.prototype.offsetY=function(c){a.prototype.offsetY.call(this,c);this._props.y+=c;return this};b.prototype.offsetX=function(c){a.prototype.offsetX.call(this,c);this._props.x+=c;return this};b.prototype.rotate=
function(){a.prototype.rotate.call(this);this._props.vertical=!this._props.vertical;var c;c=[this._props.y,-this._props.x,this._props.h,-this._props.w,this._props.stretchY,this._props.stretchX];this._props.x=c[0];this._props.y=c[1];this._props.w=c[2];this._props.h=c[3];this._props.stretchX=c[4];this._props.stretchY=c[5];return this};b.prototype.getPropertiesByScale=function(){return{x:["x","w"],y:["y","h"]}};return b}(ab);jc.initClass();var fg=Object.getPrototypeOf(jc.prototype);r.extend(jc.prototype,
{_computeTrueBoundingBox:function(){var a=(new D({x:this._props.x,y:this._props.y,w:this._props.w,h:this._props.h})).padAll(this._props.stroke?this._props.lineWidth/2:0);this._hoverBB=a.clone().padBy(this._props.hoverPadding);return a},domainBox:function(){return new D({x:this._props.x,y:this._props.y,w:this._props.stretchX?this._props.w:0,h:this._props.stretchY?this._props.h:0})},isUnderCursor:function(a,b){this._hoverBB||this.trueBoundingBox();return this._hoverBB.contains(a,b)},getAnnotationInfo:function(){var a=
this.getTranslatedBox(),b=a.x,c=a.y,f=a.w,a=a.h,e;this._props.textCenter?(b+=f/2,c+=a/4,e=["right","top","bottom","left"]):this._props.vertical?(b+=f/2,e=["top","left","right","bottom"],0<=this._props.h&&(c+=a,e=["bottom","left","right","top"])):(c+=a/2,e=["left","top","bottom","right"],0<=this._props.w&&(b+=f,e=["right","top","bottom","left"]));return{positions:[{x:b,y:c,orientations:e}],shouldUpdate:!1}},offsetY:function(a){fg.offsetY.call(this,a);this._props.y+=a;return this},offsetX:function(a){fg.offsetX.call(this,
a);this._props.x+=a;return this},rotate:function(){fg.rotate.call(this);this._props.vertical=!this._props.vertical;var a;a=[this._props.y,-this._props.x,this._props.h,-this._props.w,this._props.stretchY,this._props.stretchX];this._props.x=a[0];this._props.y=a[1];this._props.w=a[2];this._props.h=a[3];this._props.stretchX=a[4];this._props.stretchY=a[5];return this},toModel:function(){return fg.toModel.call(this,cv)},getModelProps:function(){var a=this,b,c,f,e,g,k=this.applyShapeEffects(),m=k.fill,n=
k.stroke,q=this._props,s=q.vertical,u=q.x,p=q.y,t=q.w,v=q.h,z=q.textCenter,w=q.textRotate,q=w?Math.PI/2:0;s&&(v=[-v,t],t=v[0],v=v[1]);if(void 0!==this._props.text){s&&(c=[-p,u],u=c[0],p=c[1]);c=null!=this._props.text?this._props.text:"";e=[mb.getDelegate().getTextWidth(c),8];var y=e[0],H=e[1];q&&(e=[H,-y],y=e[0],H=e[1]);e=0;g=(v+H)/2;f=!0;b=null;var I=function(){var c=void 0;a.getLayer()&&a.getLayer().get("scales")&&(c=a.getLayer().get("scales"),c=s?c.y?c.y.flip().range().slice():void 0:c.x?c.x.range().slice():
void 0);null==c&&(c=[u,u+t]);c=c.sort(function(a,c){return a-c});return[c[0]-1E-5,c[1]+1E-5]}();0<=t?y+10<t&&u+t-y-5>=I[0]&&u+t<=I[1]?e=z?(t-y)/2:t-y-5:this._props.textInside?c="":u+t+y+5<I[1]&&u+t>=I[0]?(e=t+5,f=!1,b=s?{top:y+5}:{right:y+5}):u-y-5>I[0]&&u<=I[1]?(e=-y-5,f=!1,b=s?{bottom:y+5}:{left:y+5}):c="":y+10<-t&&u+t>=I[0]&&u+t+y+5<=I[1]?e=z?(t-y)/2:t+5:this._props.textInside?c="":u+t-y-5>I[0]&&u+t<=I[1]?(e=t-y-5,f=!1,b=s?{bottom:y+5}:{left:y+5}):u+y+5<I[1]&&u>=I[0]?(e=5,f=!1,b=s?{top:y+5}:{right:y+
5}):c="";f=c?(f&&m?m:this.getParentBackgroundColor()).toHighContrast(this._props.textColorLight,this._props.textColorDark):this._props.textColorLight;Db.isRTL()&&(w?g-=H:e+=y);e=Math.round(e);g=Math.round(g);s&&(p=[p,-u],u=p[0],p=p[1])}n&&(u=Math.round(u),p=Math.round(p),t=Math.round(t),v=Math.round(v));n=this.boundingBox();n=(b?(new D(n.toJson())).padBy(b):n).toArray();m=this.getRotation();z=this._props.cornerRadius?0>this._props.cornerRadius?0:Math.min(this._props.cornerRadius,Math.abs(t/2),Math.abs(v/
2)):0;return r.extend(this.getCommonModelProps(),k,{bb:n,x:u,y:p,w:t,h:v,lineWidth:this._props.lineWidth,text:c,textX:e,textY:g,textColor:f,textRotation:q,rotation:m,cornerRadius:z,stretchX:this._props.stretchX,stretchY:this._props.stretchY,dashed:this._props.dashed})},centerDistSqrd:function(a,b){return this.boundingBox().contains(a,b)?0:fg.centerDistSqrd.call(this,a,b)}});jc._roundProps=new $a("x0 y0 x1 y1 baseXValue baseYValue".split(" "));var Me=p.BRUSH,yk=p.CURSOR_TYPE,lc=function(a,b,c){this._layer=
a;this._fillColor=b&&b.fillColor||new E("rgb(255, 255, 255)");this._strokeColor=b&&b.strokeColor||new E("rgb(0, 0, 0)");this._textColor=b&&b.textColor||new E("rgb(0, 0, 0)");this._hasControlPoints=!!c;this._controlPoints=[]};lc.prototype.getArea=function(){return this._area};lc.prototype.getShapes=function(){var a=[];this._shapeArea&&a.push(this._shapeArea);this._controlPoints&&this._controlPoints.length&&this._controlPoints.forEach(function(b){return a.push(b)});this._captionText&&a.push(this._captionText);
return a};lc.prototype.setText=function(a){this._captionText&&(this._captionText.set({text:a,opacity:1}),this._layout())};lc.prototype.hideText=function(){this._captionText&&this._captionText.set({opacity:1E-6})};lc.prototype.removeBrush=function(){return this.getShapes().forEach(function(a){a.removeFromParent()})};lc.prototype.select=function(a,b,c,f){var e=a,g=b,k=c,m=f;0>k&&(e=a+c+1,k=-c);0>m&&(g=b+f+1,m=-f);return this._area?(this._area.x0=e,this._area.y0=g,this._area.x1=e+k-1,this._area.y1=g+
m-1,this._layout(),this.getShapes()):this._initArea(e,g,k,m)};lc.prototype.rotateTextDirection=function(){this._captionText&&this._captionText.rotateTextDirection()};lc.prototype._initArea=function(a,b,c,f){this._area={x0:a,y0:b,x1:a+c-1,y1:b+f-1};this._createShapes();this._layout();return this.getShapes()};lc.prototype._createShapes=function(){this._shapeArea=new jc({key:"brushSelect",layer:this._layer,stroke:this._strokeColor,fill:this._fillColor,cursorType:yk.MOVE,skipInFind:!0});this._captionText=
new ya({text:"",key:"brushCaptionText",layer:this._layer,stroke:this._textColor,skipInFind:!0});this._hasControlPoints&&(this._controlPoints[0]=new jc({key:"brushControlPoint0",layer:this._layer,stroke:this._strokeColor,fill:new E("rgb(255, 255, 255)"),w:Me.CONTROL_POINT_SIZE,h:Me.CONTROL_POINT_SIZE,cursorType:yk.EW_RESIZE}),this._controlPoints[1]=new jc({key:"brushControlPoint1",layer:this._layer,stroke:this._strokeColor,fill:new E("rgb(255, 255, 255)"),w:Me.CONTROL_POINT_SIZE,h:Me.CONTROL_POINT_SIZE,
cursorType:yk.EW_RESIZE}))};lc.prototype._layout=function(){var a=this._area,b=this._shapeArea,c=this._captionText;if(a&&b){var f=a.x0,e=a.y0,g=a.y1,a=a.x1-f+1,k=g-e+1,m=1<=a&&1<=k;b.set({x:f,y:e,w:m?a:0,h:m?k:0,vertical:!0});this._hasControlPoints&&(b=Me.CONTROL_POINT_SIZE/2,k=m?Me.CONTROL_POINT_SIZE:0,this._controlPoints[0].set({x:f+a/2-b,y:e-2*b,w:k,h:k,vertical:!0}),this._controlPoints[1].set({x:f+a/2-b,y:g,w:k,h:k,vertical:!0}));c&&c.set({x:f+a-1-20,y:e+20,vertical:!1,valign:"center",halign:"right",
text:m?c.get("text"):""})}};var gg=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.isBrushLayer=function(){return!0};b.prototype.getBrushStepByPosition=function(a){return{position:-1}};b.prototype.getBrushStepByIndex=function(a){return{position:-1}};b.prototype.getBrushStepBySelectionValue=function(a){return{position:-1}};b.prototype.getBrushArea=function(){return this._brushArea&&this._brushArea.getArea()};
b.prototype.getControl=function(a,b){var e=this._brushArea;if(e)for(var e=e.getShapes(),g=this.toTransformedPosition(a,b),k=g[0],g=g[1],m=e.length-1;0<=m;--m)if(e[m].isUnderCursor(k,g))return m;return-1};b.prototype.setShapeContainerKeys=function(a){this._props.shapeContainerKeys=a};b.prototype.getShapeContainerKeys=function(){return this._props.shapeContainerKeys};b.prototype.setBrushCaptionText=function(a){this._brushArea&&this._brushArea.setText(a)};b.prototype.hideBrushCaptionText=function(){this._brushArea&&
this._brushArea.hideText()};b.prototype.removeBrush=function(){this._brushArea&&(this._brushArea.removeBrush(),this._brushArea=null)};b.prototype.brushSelect=function(a,b,e,g){this._brushArea||(this._brushArea=new lc(this,{fillColor:this.get("brushFillColor"),strokeColor:this.get("brushStrokeColor"),textColor:this.get("brushTextColor")},this.get("hasControlPoints")));var k=this._brushArea;if(k){var m=a,n=b,q=e,s=g;0>q&&(m=a+e+1,q=-e);0>s&&(n=b+g+1,s=-g);e=this.get("w")||0;b=this.get("h")||0;a=this._boundInLayer(m,
e);m=this._boundInLayer(m+q-1,e);q=this._boundInLayer(n,b);n=this._boundInLayer(n+s-1,b);k.select(a,q,m-a+1,n-q+1);return this._transformShapes()}return[]};b.prototype.snapToSteps=function(){var a=this._getRangeSteps(),b=a[0],a=a[1];return b&&a?(this.brushSelect(0,b.position,this.get("w"),a.position-b.position+1),[b,a]):[]};b.prototype.getRangeLabels=function(){return this._getRangeSteps().map(function(a){return a.label})};b.prototype._getRangeSteps=function(){var a=this._brushArea,b=a&&a.getArea();
return a&&b?(a=b.y1,[this.getBrushStepByPosition(b.y0),this.getBrushStepByPosition(a)]):[]};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.shapeContainerKeys=[];c.hasControlPoints=!1;c.brushFillColor=new E("rgba(100, 100, 100, 0.5)");c.brushStrokeColor=new E("rgb(0, 0, 0)");c.brushTextColor=new E("rgb(0, 0, 0)")};b.prototype._boundInLayer=function(a,b){var e=0<=b?b:0,g=0<=b?0:b;return a<g?g:a>e?e:a};return b}(Le);gg.type="Layer";gg._roundProps=
new $a(["x","y"]);gg._sensitiveProps=new $a(["scales"]);var dv=p.TIME_GRANULARITY,Vh=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getBrushStepByPosition=function(a){var b=this._props,e=b.customDomain,g=b.dataGranularity,k=b.domain,m=b.format,n=b.firstDayOfWeek,q=b.fiscalGranularity,b=b.scale;if(g&&b){var s=ka.isFiscalTimeFormat(m),k=s?e||k:b.domain(),e=k[0],k=k[1];a=b.invert(a);m=this._closestStep(s?
a:G.DateTime.fromMillis(a),g,n,e,k,m,q);q=s?m:G.DateTime.fromMillis(m);s=s?e:this._getFirstStep();return{label:this._format(m),selectionValue:m,position:b.scale(q),index:Math.floor(ka.diff(s,q,g,n))}}return{position:-1,index:-1}};b.prototype.getBrushStepByIndex=function(a){var b=this._props,e=b.customDomain,g=b.dataGranularity,k=b.domain,m=b.format,n=b.firstDayOfWeek,q=b.fiscalGranularity,b=b.scale;if(g&&b){var s=ka.isFiscalTimeFormat(m),m=ka.isDiscreteTimeFormat(m),e=s?(e||k)[0]:this._getFirstStep(),
g=ka.offset(e,a,g,n,m,g,q);return{label:this._format(g.valueOf()),selectionValue:g.valueOf(),position:b.scale(g),index:a}}return{position:-1,index:-1}};b.prototype.getBrushStepBySelectionValue=function(a){var b=this._props.scale;return b?this.getBrushStepByPosition(b.scale(a)):{position:-1,index:-1}};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.dataGranularity="";c.firstDayOfWeek=null;c.format=null;c.scale=null;c.customDomain=null;c.domain=null;
c.dataSeparator=null;c.fiscalGranularity=null};b.prototype._getFirstStep=function(){var a=this._props,b=a.dataGranularity,e=a.scale,a=a.firstDayOfWeek;if(b&&e){var e=e.domain()[0],g=G.DateTime.fromMillis(e);g.hasSame(ka.startOf(e,b,a),dv.MILLISECOND)||(g=ka.startOf(ka.offset(e,1,b,a),b));return g}};b.prototype._closestStep=function(a,b,e,g,k,m,n){a="number"===typeof a?G.DateTime.fromMillis(a):a;var q=ka.isDiscreteTimeFormat(m);m=ka.startOf(a,b,e,q,b,n).valueOf();b=ka.offset(m,1,b,e,q,b,n).valueOf();
return Math.abs(a.valueOf()-m)<Math.abs(a.valueOf()-b)?this._ensureWithinDomain(a.valueOf(),m,g,k):this._ensureWithinDomain(a.valueOf(),b,g,k)};b.prototype._ensureWithinDomain=function(a,b,e,g){return a<e?e:a>g?g:b};b.prototype._onChange=function(c){a.prototype._onChange.call(this,c);var b=this._props;if(c.format||c.firstDayOfWeek)this._formatter=ka.getFormatter(c.format?c.format[0]:b.format,c.firstDayOfWeek?c.firstDayOfWeek[0]:b.firstDayOfWeek,b.dataSeparator,b.dataGranularity,b.fiscalGranularity)};
b.prototype._format=function(a){return this._formatter?this._formatter(a):a};return b}(gg);Vh.type="Layer";Vh._roundProps=new $a(["x","y"]);Vh._sensitiveProps=new $a(["scales","format","firstDayOfWeek"]);var ev=p.BRUSH,fv={make:function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];switch(a){case ev.LAYER_TYPE.TIME:return new (Function.prototype.bind.apply(Vh,[null].concat(b)));default:return new (Function.prototype.bind.apply(gg,[null].concat(b)))}}},sd=function(a){function b(c,
b){c||(c={key:void 0,zIndex:0,column:0,row:0,scene:void 0});null==c.key&&(c.key="CellKey"+c.column+"||"+c.row);a.call(this,c,b);var e=c.scene;e&&e.append(this)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.x=0;c.y=0;c.w=0;c.h=0;c.scrollX=!1;c.scrollY=!1;c.clip=void 0;c.column=0;c.row=0};b.prototype._childSorter=function(a){return a.get("zIndex")};b.prototype.getScene=
function(){return this.getParent()};b.prototype.getLayers=function(){return this.getChildren()};b.prototype.layerByKey=function(a){return this.getChildByKey(a)};b.prototype.rotate=function(){var c=this._props,b=c.scrollX;this._props.scrollX=c.scrollY;this._props.scrollY=b;a.prototype.rotate.call(this);return this};b.prototype.offsetX=function(a){this._props.x+=a;return this};b.prototype.offsetY=function(a){this._props.y+=a;return this};b.prototype.adjustWidth=function(a){var b=this.getScene();b&&
b.adjustColumnSize(this._props.column,a);return this};b.prototype.adjustHeight=function(a){var b=this.getScene();b&&b.adjustRowSize(this._props.row,a);return this};b.prototype.adjustRowToFit=function(){var a=this.getScene();a&&a.adjustRowToFit(this._props.row);return this};b.prototype.adjustColumnToFit=function(){var a=this.getScene();a&&a.adjustColumnToFit(this._props.column);return this};b.prototype.translation=function(){var a=this.getScene(),b=this._props.x,e=this._props.y;return a?(a=a.get("padding"),
[b+a.left,e+a.top]):[b,e]};b.prototype.totalTranslation=function(a,b){void 0===a&&(a=!1);void 0===b&&(b=!1);var e=this._props.x,g=this._props.y,k=this.getParent(),m=this._props,n=m.scrollX;void 0===n&&(n=!0);m=m.scrollY;void 0===m&&(m=!0);k=k&&k.totalTranslation(a&&n,b&&m)||[0,0];return[k[0]+e,k[1]+g]};return b}(od);sd.type="Cell";var gv=Object.getPrototypeOf(sd.prototype);r.extend(sd.prototype,{toScenePosition:function(a,b){var c=this.translation();return[a+c[0],b+c[1]]},toLocalPosition:function(a,
b){var c=this.translation();return[a-c[0],b-c[1]]},isUnderCursor:function(a,b){var c=this._props,f=c.clip,e=c.w,g=c.h,g=c.scrollY||f?0<=b&&b<=g:!0;return(c.scrollX||f?0<=a&&a<=e:!0)&&g},isInArea:function(a,b,c,f){var e=this._props,g=e.clip,k=e.w,m=e.h;b=e.scrollY||g?!(m<b||0>b+f-1):!0;return(e.scrollX||g?!(k<a||0>a+c-1):!0)&&b},getModelProps:function(){var a=this.getScene(),b=this.translation(),c=b[0],b=b[1],f=this._props,e=f.w,g=f.h,k=f.scrollX,m=f.scrollY,f=f.clip,n;a&&(n=a.get("size"),a=n[0],n=
n[1],n=k||f?m||f?[c,b,e,g]:[c,0,e,n]:m?[0,b,a,g]:null);return{type:this.getType(),key:this._props.key,zIndex:this._props.zIndex,scrollX:this._props.scrollX,scrollY:this._props.scrollY,tx:c,ty:b,w:e,h:g,viewport:n,accessibility:this._props.accessibility}}});sd.fromJson=function(a,b){void 0===b&&(b=!0);return gv.constructor.fromJson.call(this,a,b)};sd._roundProps=new $a(["x","y","w","h"]);var ia=function(a){void 0===a&&(a={});this.columns=[];this.rows=[];this._columns=[];this._rows=[];this._cellByIndex=
{};r.extend(this,a)};ia.initClass=function(){this.prototype.scene=null};ia.prototype.attachScene=function(a){this.scene=a;return!this.scene?this:this._updateIndex()};ia.prototype.buildCells=function(a){return this.updateCellLayout(a)};ia.prototype.size=function(){var a=r.last(this._columns),b=r.last(this._rows);return[a?a.pos+a.size:0,b?b.pos+b.size:0]};ia.prototype.updateCellLayout=function(a){var b=this;void 0===a&&(a={});if(!this.scene)return this;var c=this.rows.length,f=this.columns.length;this.scene.getChildren().slice().forEach(function(a){a.removeFromParent()});
var e=a.rows;a=a.columns;e&&(this.rows=e);a&&(this.columns=a);this._traverseGrid(function(a,e,m){return e<f&&m<c?a.appendTo(b.scene):new sd({scene:b.scene,column:e,row:m})});return this._refreshLayout()};ia.prototype.rotate=function(){var a=this;if(!this.scene)return this;var b=this._getAvailableSize()[1];this._traverseGrid(function(c){return c.set({x:c.get("y"),y:b-c.get("x")-c.get("w"),w:c.get("h"),h:c.get("w"),column:c.get("row"),row:a.columns.length-c.get("column")-1})});var c;c=[this.columns.slice().reverse(),
this.rows.slice()];this.rows=c[0];this.columns=c[1];c=[this._columns.slice().reverse(),this._rows.slice()];this._rows=c[0];this._columns=c[1];return this._updateIndex()};ia.prototype.flipX=function(){var a=this;if(!this.scene)return this;var b=this._getAvailableSize()[0];this._traverseGrid(function(c){return c.set({x:b-(c.get("x")+c.get("w")),column:a.columns.length-c.get("column")-1})});return this._updateIndex()};ia.prototype.flipY=function(){var a=this;if(!this.scene)return this;var b=this._getAvailableSize()[1];
this._traverseGrid(function(c){return c.set({y:b-(c.get("y")+c.get("h")),row:a.rows.length-c.get("row")-1})});return this._updateIndex()};ia.prototype.adjustColumnToFit=function(a){if(!(a>this.columns.length-1)){for(var b=[],c=0;c<this.rows.length;c++){var f=this.getCell(a,c).boundingBox();f?b.push(f.x+f.w):b.push(0)}b=r.max(b);if(wa.round2d(b)<=wa.round2d(this._columns[a].size))return this.columns[a]=b,this.updateCellLayout({columns:this.columns})}};ia.prototype.adjustRowToFit=function(a){if(!(a>
this.rows.length-1)){for(var b=[],c=0;c<this.columns.length;c++){var f=this.getCell(c,a).boundingBox();f?b.push(f.y+f.h):b.push(0)}b=r.max(b);if(wa.round2d(b)<=wa.round2d(this._rows[a].size))return this.rows[a]=b,this.updateCellLayout({rows:this.rows})}};ia.prototype.adjustRowSize=function(a,b){this.rows[a]=b;return this.updateCellLayout({rows:this.rows})};ia.prototype.adjustColumnSize=function(a,b){this.columns[a]=b;return this.updateCellLayout({columns:this.columns})};ia.prototype.getCell=function(a,
b){return this._cellByIndex[this._getCellIndex(a,b)]};ia.prototype.getBaseScrollOffset=function(){var a=0,b=0,c=this.scene.getScrollOffset(),f=c[0],e=c[1];this._traverseGrid(function(c){var k=c.get("w"),m=c.get("h"),n=c.get("scrollX"),q=c.get("scrollY");if((c=c.boundingBox())&&(n||q))if(c.x+=f,c.y+=e,k=D.boundingBox([c,{x:0,y:0,w:k,h:m}]),n&&(a=Math.min(k.x,a)),q)return b=Math.min(k.y,b)});return[-a,-b]};ia.prototype.getFullSize=function(){if(!this.scene)return null;var a=this.rows.map(function(){return 0}),
b=this.columns.map(function(){return 0}),c=this.scene.getScrollOffset(),f=c[0],e=c[1];this._traverseGrid(function(c,k,m){var n=c.get("w"),q=c.get("h"),s=c.get("scrollX"),u=c.get("scrollY");if((c=c.boundingBox())&&(s||u))c.x+=f,c.y+=e,c=D.boundingBox([c,{x:0,y:0,w:n,h:q}]),s&&(n=c.w),u&&(q=c.h);a[m]+=n;return b[k]+=q});return[r.max(a),r.max(b)]};ia.prototype._refreshLayout=function(){this._updateIndex();this._refreshColumns();this._refreshRows();this._refreshCells();return this};ia.prototype._traverseGrid=
function(a){for(var b=[],c=0,f=this.columns.length,e=0<=f;e?c<f:c>f;e?c++:c--)for(var g=0,k=this.rows.length,m=0<=k;m?g<k:g>k;m?g++:g--)b.push(a(this.getCell(c,g),c,g));return b};ia.prototype._getCellIndex=function(a,b){return a+"/"+b};ia.prototype._getAvailableSize=function(){return this.scene.getAvailableSize()};ia.prototype._updateIndex=function(){var a=this;this._cellByIndex={};this.scene.getChildren().forEach(function(b){a._cellByIndex[a._getCellIndex(b.get("column"),b.get("row"))]=b});return this};
ia.prototype._refreshColumns=function(){return this._columns=this._assignLayout(this._getAvailableSize()[0],this.columns)};ia.prototype._refreshRows=function(){return this._rows=this._assignLayout(this._getAvailableSize()[1],this.rows)};ia.prototype._refreshCells=function(){var a=this;this._columns&&this._rows&&this._traverseGrid(function(b,c,f){return b.set({x:a._columns[c].pos,y:a._rows[f].pos,w:a._columns[c].size,h:a._rows[f].size})});return this};ia._normalizeRule=function(a){if(r.isNumber(a))return["px",
0<a?a:0];if(r.isString(a)&&"%"===r.last(a))return["%",parseInt(a,10)];throw Error("invalid rule "+JSON.stringify(a));};ia.prototype._assignLayout=function(a,b){null==a&&(a=0);null==b&&(b=[]);var c=0,f=b.map(ia._normalizeRule),e=a;f.forEach(function(a){var b=a[1];"%"===a[0]?c+=b:e-=b});var g=0<c&&0<e?e/c:0,k=0,m=[];f.forEach(function(a){var c=a[1];a="%"===a[0]?g*c:c;m.push({size:a,pos:k});k+=a});return m};ia.prototype.toJson=function(){return{columns:this.columns,rows:this.rows,_columns:this._columns,
_rows:this._rows}};ia.fromJson=function(a,b){null==b&&(b=!0);b&&(a=A.deepCopy(a));return new ia(a)};ia.initClass();var Ho,Sc=Ho={uniqueColumns:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];var a=r.flatten(a),c=[],f=[];a.forEach(function(a){if(a){var b=a.getName();A.includes(c,b)||(c.push(b),f.push(a))}});return f},withoutColumns:function(a,b){if(!b)return a;b=A.ensureArray(b);a=A.ensureArray(a);return a.filter(function(a){return!A.includes(r.map(b,function(a){return a.getName()}),
a.getName())})},joinColumns:function(a){return r.map(a,function(a){return a.getName()}).join("-")},measuresDefaultTitle:function(a){return a.map(function(a){return Ho.defaultText(a.getLabel(),a.getName())}).filter(function(a){return a}).join(", ")},defaultText:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return r.find(a)},sortColumns:function(a){return r.sortBy(a,function(a){return a.getName()})}},Bb={mergeDomains:function(a){var b=Infinity,c=-Infinity;a.forEach(function(a){if(a){var e=
a[0];a=a[1];e<b&&(b=e);a>c&&(c=a)}});return Infinity===b&&-Infinity===c?null:[b,c]},adjustDomain:function(a,b){var c=a[0],f=a[1];c===f&&(0===c?(f=[0,100],c=f[0],f=f[1]):0<c?(c*=0.8,f*=1.2):(c*=1.2,f*=0.8));return[c,f]},adjustMargin:function(a,b,c){var f=c.domain(),e=c.range();c=$.linear().domain(a).range([b[0],e[1]-b[1]]).adjustRange([0,e[1]]);return[Math.max(c.scale(f[0]),0),Math.max(e[1]-c.scale(f[1]),0)]},alignTicks:function(a,b){for(var c=0,f=0,e=[],g,k,m=!1,n=0,q=[],s=[],u=0;u<a.length;u++){g=
a[u];var p=g[0];k=g[1];g=b[u];p=Math.ceil(p/g)*g;k=Math.floor(k/g)*g;0>=p&&0<=k&&(m=!0);q.push([p,k])}for(u=0;u<q.length;u++){g=q[u];var p=g[0],t=g[1];g=b[u];k=[-p/g,t/g];m?0<p?k=[0,t/g]:0>t&&(k=[-p/g,0]):0<p?k=[0,(t-p)/g]:0>t&&(k=[(t-p)/g,0]);f=Math.max(k[0],f);c=Math.max(k[1],c);n=Math.max(n,k[0]+k[1])}u=1;m||(f=c=Math.max(f,c));if(2<(m?f+c:f)-n)f=(f+f%2)/2,c=(c+c%2)/2,u=2;for(n=0;n<q.length;n++)g=q[n],p=g[0],k=g[1],g=b[n]*u,m?(p=-g*f,k=g*c):0<p?k=p+g*c:0>k&&(p=k-g*f),s.push([p,k]),e.push(g);return{aligned:!0,
domains:s,steps:e}},alignZerosForDomain:function(a,b,c){var f,e,g={aligned:!1,domains:a};if(2>a.length)return g;var k=[];if(b)return this.alignTicks(a,b);if(null!=c){e=c[0];c=c[1];if(!(0>e&&0<c))return g;e=c/(c-e);if(1<=e||0===e)return g}else{var m=Infinity,n=-Infinity,q=!1;for(c=0;c<a.length;c++){f=a[c];b=f[0];f=f[1];b<m&&(m=b);f>n&&(n=f);if(0===b||0===f)q=!0;if(0>b&&0<f){e=f/(f-b);break}}if(null==e){if(0>n||0<m)return g;0===m&&(e=1);0===n&&(e=0);if(null==e){if(!q)return g;e=0.5}}}for(c=0;c<a.length;c++)g=
a[c],b=g[0],f=g[1],g=f/(f-b),g>e&&(b=f*(1-1/e)),g<e&&(f=b*e/(e-1)),k.push([b,f]);return{aligned:!0,domains:k}},toAbsoluteDomain:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];b=a[0];a=b[0];b=b[1];0>a&&(b=Math.max(Math.abs(a),Math.abs(b)),a=0);return[a,b]},getNumericDomain:function(a,b,c){var f=la.getValueFctFromSingleField(b,c);return wa.getMinMax(a.map(function(a){return f(a)}))},getOrdinalDomain:function(a,b){var c=Da.rows2cols(a);b.isInternalOnly()&&(c=Da.rows2cols(c[p.ROW_INTERNAL_KEY]));
(c=c[b.getName()])||(c=[void 0]);return A.uniq(c)}},zk,Ak=zk={convertConfigColors:function(a){var b=this;"dimension color x y plots plots.*".split(" ").forEach(function(c){b._convertDimConfig(a,c)});["measureAxis1","measureAxis2","x","y","measure"].forEach(function(c){b._convertMeasureAxisConfig(a,c)});["color"].forEach(function(c){b._convertColorConfig(a,c)});["plots.*.color"].forEach(function(c){b._convertDimConfig(a,c);b._convertColorConfig(a,c)});["plots"].forEach(function(c){b._convertPlotConfig(a,
c)});return zk._convertConfigColors(a,"positiveColor negativeColor totalColor startColor ranges.bands.* ranges.bands.*.color gradient.range".split(" "))},_convertDimConfig:function(a,b){return this._convertConfigColors(a,[b+".column.*._hotSpots.*.colors.*",b+".column.*._valueColors.*"])},_convertPlotConfig:function(a,b){return this._convertConfigColors(a,[b+".*.color",b+".*.referenceLines.*.color"])},_convertColorConfig:function(a,b){return this._convertConfigColors(a,[b+".range",b+".bands.*.color",
b+".colors.*"])},_convertMeasureAxisConfig:function(a,b){return this._convertConfigColors(a,[b+".referenceLines.*.color"])},_convertConfigColors:function(a,b){var c=function(a,c){return a=zk.scatter(a,c,function(a){return a&&("string"===typeof a||Array.isArray(a))?Od.getInstance().getColor(a):a})};return b.forEach(function(b){return c(a,b)})},scatter:function(a,b,c){b=b.split(".");var f=function(a,b){if(a){if(b.length){var k=b[0];if("object"===typeof a){if(Array.isArray(a))return"*"===k?a=a.map(function(a){return f(a,
b.slice(1))}):a;("*"===k?r.keys(a):[k]).forEach(function(c){var k=f(a[c],b.slice(1));if(null!=k)return a[c]=k})}return a}return c(a)}return a};return f(a,b)},measures2Axes:function(a,b,c){if(!a.length)return{};for(var f=function(){if(b)switch(b){case p.AXIS_MODE.SYNC:return[a];case p.AXIS_MODE.DUAL:return[[a[0]],a.slice(1)];case p.AXIS_MODE.MULTI:return a.map(function(a){return[a]})}else{var c=r.filter(a,{axis:"axis2"});return c.length?[r.filter(a,function(a){return"axis2"!==a.axis}),c]:[a]}}(),e=
{},g=0;g<f.length;g++){var k="measureAxis"+(g+1);e[k]=this.measures2Axis(f[g],c?c[g]:void 0,k)}return e},measures2Axis:function(a,b,c){if(!(0>=(!a||a.length))){a.forEach(function(a){c&&(a.axis=c)});var f=Bb.mergeDomains(r.map(a,"domain"));null===f&&(f=void 0);var e=r.flatten(r.map(a,"referenceLines")).filter(function(a){return a});0===e.length&&(e=void 0);return{title:b,titleMaxLines:a[0].titleMaxLines||1,format:a[0].format,domain:f,referenceLines:e,scale:a[0].scale}}},measure2Axis:function(a,b){return!a?
void 0:this.measures2Axis([a],b)}},eb=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="Line";this.shapeEffectsProps=["fill","stroke"]};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.x0=0;c.x1=0;c.y0=0;c.y1=0;c.stroke=void 0;c.fill=void 0;c.vertical=!1;c.baseYValue=0;c.baseXValue=0;c.dashed=0;c.lineWidth=1;c.curveFunction=void 0};
b.prototype.set=function(c,b,e){this._forceRecomputeBoundingBox();return a.prototype.set.call(this,c,b,e)};b.prototype.getPropertiesByScale=function(){return{x:["x0","x1","baseXValue"],y:["y0","y1","baseYValue"]}};b.prototype.rotate=function(){a.prototype.rotate.call(this);this._props.vertical=!this._props.vertical;var c;c=[this._props.y0,this._props.y1,-this._props.x0,-this._props.x1];this._props.x0=c[0];this._props.x1=c[1];this._props.y0=c[2];this._props.y1=c[3];c=[this._props.baseYValue,-this._props.baseXValue];
this._props.baseXValue=c[0];this._props.baseYValue=c[1];return this};b.prototype.offsetX=function(a){this._forceRecomputeBoundingBox();this._props.x0+=a;this._props.x1+=a;return this};b.prototype.offsetY=function(a){this._forceRecomputeBoundingBox();this._props.y0+=a;this._props.y1+=a;return this};b.prototype._computeTrueBoundingBox=function(){var a=this._props.x0,b=this._props.y0;this._props.fill&&(this._props.vertical?b=this._props.baseYValue:a=this._props.baseXValue);var e=Math.min(this._props.x0,
this._props.x1,a),a=Math.max(this._props.x0,this._props.x1,a),g=Math.min(this._props.y0,this._props.y1,b),b=Math.max(this._props.y0,this._props.y1,b);return new D({x:e,y:g,w:a-e,h:b-g})};return b}(ab);eb.initClass();var ye=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="Polygon";this.shapeEffectsProps=["fill","stroke"];this._sensitiveProps=new $a(["points","angle","points_x","points_y"])};
b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.key="Polygon";c.closePath=!0;c.vertical=!1;c.angle=0;c.x=0;c.y=0;c.stroke=void 0;c.fill=void 0;c.points=[];c.points_x=[];c.points_y=[];c.lineWidth=1;c.lineJoin="miter"};b.prototype._onChange=function(c){var b;a.prototype._onChange.call(this,c);if(b=c.points)b=b[0],this._forceRecomputeBoundingBox(),this._props.points_x=b.map(function(a){return a[0]}),this._props.points_y=b.map(function(a){return a[1]});
(c.points_x||c.points_y)&&this._forceRecomputeBoundingBox();c.angle&&null!=this._trueBoundingBox&&(this._trueBoundingBox.rotation=this.getRotation())};b.prototype._mapValue=function(c,b){b=a.prototype._mapValue.call(this,c,b);return"angle"===c?r.isNumber(b)?b:0:b};b.prototype.getRotation=function(){return this._props.angle?{x:this._props.x,y:this._props.y,angle:this._props.angle}:null};b.prototype.getPropertiesByScale=function(){return{x:["x","points_x"],y:["y","points_y"]}};b.prototype._computeTrueBoundingBox=
function(){if(this._props.points_x){var a=[r.min(this._props.points_x),r.max(this._props.points_x)],b=a[0],a=a[1],e=[r.min(this._props.points_y),r.max(this._props.points_y)],g=e[0];return new D({x:this._props.x+b,y:this._props.y+g,w:a-b,h:e[1]-g,rotation:this.getRotation()})}return null};b.prototype.area=function(a){a=A.zip(this._props.points_x,this._props.points_y);return Uc.area(a)};b.prototype.centroid=function(){var a=A.zip(this._props.points_x,this._props.points_y);return Uc.centroid(a)};b.prototype.offsetY=
function(c){a.prototype.offsetY.call(this,c);this._props.y+=c;return this};b.prototype.offsetX=function(c){a.prototype.offsetX.call(this,c);this._props.x+=c;return this};b.prototype.rotate=function(){this._props.vertical=!this._props.vertical;var c;c=[this._props.points_y,this._props.points_x];this._props.points_x=c[0];this._props.points_y=c[1];this._props.points_y=this._props.points_y.map(function(a){return-a});return a.prototype.rotate.call(this)};return b}(ab);ye.initClass();var Xd=function(a){function b(c,
b){a.call(this,c,b)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="Path";this.shapeEffectsProps=["fill","stroke"]};b.prototype.getPropertiesByScale=function(){return{x:["x","points_x","baseX"],y:["y","points_y","baseY"]}};b.prototype.get=function(c){return"points"===c?A.zip(this._props.points_x,this._props.points_y):a.prototype.get.call(this,c)};b.prototype.set=function(c,b,e){this._forceRecomputeBoundingBox();if("string"===
typeof c)if("points"===c)this._setPositions(b);else return a.prototype.set.apply(this,arguments);else return this._setPositions(c.points),delete c.points,a.prototype.set.apply(this,arguments);return this};b.prototype.rotate=function(){var c=this._props,b=c.x,e=c.y,g=c.points_x,k=c.points_y,m=c.baseX,c=c.baseY;g&&k&&(this._props.points_x=k,this._props.points_y=g.map(function(a){return-a}));if(null!=m||null!=c)this._props.baseX=c,this._props.baseY=-(null!=m?m:0);if(0!==b||0!==e)this._props.x=e,this._props.y=
-b;return a.prototype.rotate.call(this)};b.prototype.offsetX=function(a){this._props.x+=a;this._trueBoundingBox&&this._trueBoundingBox.offset(a,0);return this};b.prototype.offsetY=function(a){this._props.y+=a;this._trueBoundingBox&&this._trueBoundingBox.offset(0,a);return this};b.prototype.applyScales=function(c){c.x&&this._offsetPoints("x",!0);c.y&&this._offsetPoints("y",!0);a.prototype.applyScales.call(this,c);c.x&&this._offsetPoints("x",!1);c.y&&this._offsetPoints("y",!1);return this};b.prototype._offsetPoints=
function(a,b){for(var e=b?this._props[a]:-this._props[a],g="x"===a?this._props.points_x:this._props.points_y,k=0;k<g.length;++k)g[k]+=e};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.x=0;c.y=0;c.points=[];c.points_x=[];c.points_y=[];c.stroke=void 0;c.fill=void 0;c.dashed=0;c.lineWidth=1;c.closePath=!1;c.baseX=void 0;c.baseY=void 0;c.lineJoin="round"};b.prototype._setPositions=function(a){if(a&&a.length){this._props.points_x=[];this._props.points_y=
[];for(var b=this._props,e=b.points_x,b=b.points_y,g=0;g<a.length;++g){var k=a[g];e[g]=k[0];b[g]=k[1]}}};b.prototype._computeTrueBoundingBox=function(){var a=this._props,b=a.x,e=a.y,g=a.points_x,a=a.points_y;if(g.length&&a.length){var k=wa.getMinMax(g),g=k[0],k=k[1],a=wa.getMinMax(a),m=a[0];return new D({x:b+g,y:e+m,w:k-g,h:a[1]-m})}return new D({x:0,y:0,w:0,h:0})};return b}(ab);Xd.initClass();var Ne=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="NumberText";this.shapeEffectsProps=["stroke","bgColor"];this._sensitiveProps=new $a(["number","format","compact","size","pivot"])};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.format=void 0;c.compact=!0;c.number=void 0;return c.includeDescender=!1};b.prototype._onChange=function(c){a.prototype._onChange.call(this,c);if(c.number||c.format||c.compact){var b=null!=(null!=c.number?
c.number[0]:void 0)?null!=c.number?c.number[0]:void 0:this._props.number;c=Ya(null!=(null!=c.format?c.format[0]:void 0)?null!=c.format?c.format[0]:void 0:this._props.format,null!=(null!=c.compact?c.compact[0]:void 0)?null!=c.compact?c.compact[0]:void 0:this._props.compact);this._props.text=c(b)}};return b}(ya);Ne.initClass();var Pb=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type=
"Point";this.shapeEffectsProps="fill stroke lineWidth r hidden texture".split(" ");this._sensitiveProps=new $a(["size","pivot"])};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.key="Point";c.x=0;c.y=0;c.r=0;c.stroke=void 0;c.fill=void 0;c.lineWidth=1;c.texture=void 0;c.hidden=!1;c.showWhenCrossed=!1;c.isAccessible=!1};b.prototype.set=function(c,b,e){this._forceRecomputeBoundingBox();return a.prototype.set.call(this,c,b,e)};b.prototype.domainBox=
function(){return new D({x:this._props.x,y:this._props.y,w:0,h:0})};b.prototype.offsetY=function(c){a.prototype.offsetY.call(this,c);this._props.y+=c;return this};b.prototype.offsetX=function(c){a.prototype.offsetX.call(this,c);this._props.x+=c;return this};b.prototype.rotate=function(){a.prototype.rotate.call(this);var c;c=[this._props.y,-this._props.x];this._props.x=c[0];this._props.y=c[1];return this};b.prototype.getPropertiesByScale=function(){return{x:["x"],y:["y"],r:["r"]}};b.prototype.isVisible=
function(){return a.prototype.isVisible.call(this)&&!(!this._select&&this._props.hidden)};b.prototype._computeTrueBoundingBox=function(){return(new D({x:this._props.x-this._props.r,y:this._props.y-this._props.r,w:2*this._props.r,h:2*this._props.r})).padAll(this._props.stroke?this._props.lineWidth/2:0)};return b}(ab);Pb.initClass();var Oa=function(a,b){this._name=a;this._label=b;this._internalOnly=!1};Oa.prototype.getName=function(){return this._name};Oa.prototype.setType=function(a){this._type=a;
return this};Oa.prototype.getType=function(){return this._type};Oa.prototype.setLabel=function(a){this._label=a;return this};Oa.prototype.getLabel=function(){return this._label};Oa.prototype.setValueLabels=function(a){this._valueLabels=a;return this};Oa.prototype.getValueLabels=function(){return this._valueLabels};Oa.prototype.setValueColors=function(a){this._valueColors=a;return this};Oa.prototype.getValueColors=function(){return this._valueColors};Oa.prototype.setIsAllNull=function(a){this._isAllNull=
a;return this};Oa.prototype.isAllNull=function(){return this._isAllNull};Oa.prototype.setInternalOnly=function(a){this._internalOnly=a;return this};Oa.prototype.isInternalOnly=function(){return this._internalOnly};Oa.prototype.setInternalColumnName=function(a){this._internalColumnName=a;return this};Oa.prototype.getInternalColumnName=function(){return this.isInternalOnly()?this._name:this._internalColumnName};Oa.prototype.toJson=function(){var a={};a.name=this._name;a.type=this._type;a.internalOnly=
this._internalOnly;this._label&&(a.label=this._label);this._isAllNull&&(a.isAllNull=this._isAllNull);this._valueLabels&&(a.valueLabels=this._valueLabels);this._valueColors&&(a.valueColors=this._valueColors);this._internalColumnName&&(a.internalColumnName=this._internalColumnName);return a};var hv=p.COLUMN_TYPE,hg=function(a){function b(c,b){a.call(this,c,b);this.setType(hv.DIMENSION)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setCardinality=
function(a){this._cardinality=a;return this};b.prototype.getCardinality=function(){return this._cardinality};b.prototype.setHotSpots=function(a){this._hotSpots=a;return this};b.prototype.getHotSpots=function(){return this._hotSpots};b.prototype.setGeoKey=function(a){this._geoKey=a;return this};b.prototype.getGeoKey=function(){return this._geoKey};b.prototype.toJson=function(){var c=this._cardinality,b=this._hotSpots,e=this._geoKey,g=a.prototype.toJson.call(this);c&&(g.cardinality=c);b&&(g.hotSpots=
b);e&&(g.geoKey=e);return g};return b}(Oa),iv=p.COLUMN_TYPE,Wh=function(a){function b(c,b){a.call(this,c,b);this.setType(iv.MEASURE)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setFormat=function(a){this._format=a;return this};b.prototype.getFormat=function(){return this._format};b.prototype.setPercentFormat=function(a){this._percentFormat=a;return this};b.prototype.getPercentFormat=function(){return this._percentFormat};b.prototype.setDomain=
function(a){this._domain=a;return this};b.prototype.getDomain=function(){return this._domain};b.prototype.toJson=function(){var c=this._format,b=this._percentFormat,e=this._domain,g=a.prototype.toJson.call(this);c&&(g.format=c);b&&(g.percentFormat=b);e&&(g.domain=e);return g};return b}(Oa),jv=p.COLUMN_TYPE,Io=function(a){function b(c,b){a.call(this,c,b);this.setType(jv.TIME);this.setGranularity(p.TIME_GRANULARITY.MILLISECOND);this.setFirstDayOfWeek(-1)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.setFormat=function(a){this._format=a;return this};b.prototype.getFormat=function(){return this._format};b.prototype.setDataFormat=function(a){this._dataFormat=a;return this};b.prototype.getDataFormat=function(){return this._dataFormat};b.prototype.setGranularity=function(a){a&&(this._dataGranularity=a);return this};b.prototype.getGranularity=function(){return this._dataGranularity};b.prototype.setFiscalGranularity=function(a){this._fiscalGranularity=
a;return this};b.prototype.getFiscalGranularity=function(){return this._fiscalGranularity};b.prototype.setIsFiscalTime=function(a){this._isFiscalTime=a;return this};b.prototype.isFiscalTime=function(){return this._isFiscalTime};b.prototype.setFirstDayOfWeek=function(a){this._firstDayOfWeek=a;return this};b.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek};b.prototype.setDataSeparator=function(a){this._dataSeparator=a;return this};b.prototype.getDataSeparator=function(){return this._dataSeparator};
b.prototype.setParser=function(a){this._parser=a;return this};b.prototype.getParser=function(){return this._parser};b.prototype.setFormatter=function(a){this._formatter=a;return this};b.prototype.getFormatter=function(){return this._formatter};b.prototype.setIsDiscrete=function(a){this._isDiscrete=a;return this};b.prototype.isDiscrete=function(){return this._isDiscrete};b.prototype.toJson=function(){var c=this._format,b=this._dataSeparator,e=this._dataFormat,g=this._dataGranularity,k=this._firstDayOfWeek,
m=a.prototype.toJson.call(this);c&&(m.format=c);b&&(m.dataSeparator=b);e&&(m.dataFormat=e);g&&(m.dataGranularity=g);k&&(m.firstDay=k);return m};return b}(hg),kv=p.COLUMN_TYPE,Zm=function(a){function b(c,b){a.call(this,c,b);this.setType(kv.GEO)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setGeoMap=function(a){this._geoMap=a;return this};b.prototype.getGeoMap=function(){return this._geoMap};b.prototype.toJson=function(){var c=this._geoMap,b=a.prototype.toJson.call(this);
c&&(b.geoMap=c);return b};return b}(hg),Bk=p.COLUMN_TYPE,Ck=null,Oe=function(){};Oe.prototype.buildColumn=function(a){switch(a.type){case Bk.TIME:return this._buildTimeColumn(a);case Bk.MEASURE:return this._buildMeasureColumn(a);case Bk.GEO:return this._buildGeoColumn(a);default:return this._buildDimensionColumn(a)}};Oe.prototype._buildGeoColumn=function(a){return(new Zm(a.column,a.label)).setHotSpots(a.hotSpots).setValueColors(a.valueColors).setGeoKey(a.geoKey).setValueLabels(a.valueLabels).setGeoMap(a.geoMap).setCardinality(a.cardinality)};
Oe.prototype._buildDimensionColumn=function(a){return(new hg(a.column,a.label)).setHotSpots(a.hotSpots).setValueColors(a.valueColors).setGeoKey(a.geoKey).setValueLabels(a.valueLabels).setCardinality(a.cardinality)};Oe.prototype._buildMeasureColumn=function(a){return(new Wh(a.column,a.label)).setFormat(a.format).setPercentFormat(a.percentFormat).setDomain(a.domain)};Oe.prototype._buildTimeColumn=function(a){var b=a.dataFormat,c=a.format,f=a.firstDayOfWeek,e=a.dataSeparator,g=a.dataGranularity,k=a.fiscalGranularity;
return(new Io(a.column,a.label)).setFormat(c).setDataFormat(b).setGranularity(g).setFiscalGranularity(k).setFirstDayOfWeek(f).setDataSeparator(e).setHotSpots(a.hotSpots).setValueColors(a.valueColors).setValueLabels(a.valueLabels).setCardinality(a.cardinality).setParser(ka.getParser(b,f,e,g,k)).setFormatter(ka.getFormatter(c||b,f,e,g,k)).setIsDiscrete(ka.isDiscreteTimeFormat(b)).setIsFiscalTime(ka.isFiscalTimeFormat(b))};var Dk={getInstance:function(){null==Ck&&(Ck=new Oe);return Ck}},Ub=function(a){this._columns=
a.map(function(a){return Dk.getInstance().buildColumn(a)});this._columnMap=this._buildColumnMap(this._columns)};Ub.prototype.setColumns=function(a){this._columns=a;this._columnMap=this._buildColumnMap(this._columns);return this};Ub.prototype._buildColumnMap=function(a){var b={};a.forEach(function(a){return b[a.getName()]=a});return b};Ub.prototype.getColumns=function(a){var b=this;return!a?this._columns:a.map(function(a){return b.getColumn(a)}).filter(function(a){return a})};Ub.prototype.getColumn=
function(a){return this._columnMap[a]};Ub.prototype.getColumnsByType=function(a){return this._columns.filter(function(b){return b.getType()===a})};Ub.prototype.toJson=function(){return{columns:this._columns.map(function(a){return a.toJson()})}};Ub.fromJson=function(a){var b=new Ub([]);a.columns&&(a=a.columns.map(function(a){return Dk.getInstance().buildColumn(a)}),b.setColumns(a));return b};var Xh=p.COLUMN_TYPE,Gb=function(){};Gb.prototype.formatRow=function(a,b){a=Da.getRowWithoutInternalValue(a);
var c=[],f;for(f in a)if(a[f]){var e=this.formatColumn(f,a[f],b);e&&c.push(e)}return c};Gb.prototype.formatPercentData=function(a,b){var c=this,f=Da.getRowInternalField(a,p.PERCENTAGE_INFO_KEY);if(!f)return null;var e=f.groups,f=f.measures,g=[];e&&(g=e.map(function(f){return c.formatColumnValue(a[f],b&&b.getColumn(f))}));return{measures:f,group:g.join(" - ")}};Gb.prototype.isPercentFormat=function(a){null==a&&(a=["",1]);return-1!==(a[0]||"").indexOf("%")};Gb.prototype.formatPercentValue=function(a,
b){var c=b&&b.getPercentFormat()||p.FORMAT.PERCENT.MEASURE;return Ya(c)(a)};Gb.prototype.formatText=function(a,b,c){b=b.replace("\\[","\x26#91;").replace("\\]","\x26#93;");for(var f;f=/\[([^[\]]*)\]/.exec(b);){var e=f[1],e=this.formatColumn(e,a[e],c);b=b.replace(f[0],e.value)}return b=b.replace("\x26#91;","[").replace("\x26#93;","]")};Gb.prototype.formatColumn=function(a,b,c,f){var e=(c=c&&c.getColumn(a))&&c.getType();b=null==b?W.getLabel("@salesforce/charts","nullLabel"):this.formatColumnValue(b,
c);b={label:this.formatColumnName(c),value:b,type:e};e===Xh.MEASURE&&(e=c&&c.getFormat(),f&&(f.measures&&f.measures[a]&&!this.isPercentFormat(e))&&(a=f.measures[a],e=a.total,b.percentData={group:f.group,percent:this.formatPercentValue(a.percent,c),total:this.formatMeasureValue(e,c,!0)}));return b};Gb.prototype.formatColumnName=function(a){if(a){var b=a.getName();a=a.getLabel();return void 0!==a?a:b}};Gb.prototype.formatColumnValue=function(a,b,c){switch(b&&b.getType()){case Xh.DIMENSION:return this.formatDimensionValue(a,
b);case Xh.MEASURE:return this.formatMeasureValue(a,b);case Xh.TIME:return this.formatTimeValue(a,b);default:return this._fallbackFormatValue(a,b,c)}};Gb.prototype._fallbackFormatValue=function(a,b,c){return r.isNumber(a)?this.formatMeasureValue(a,b,c):this.formatDimensionValue(a,b)};Gb.prototype.formatDimensionValue=function(a,b){if(!b)return a;var c=b.getValueLabels(),f=null==a?W.getLabel("@salesforce/charts","nullLabel"):a;return c?(c=c[a],void 0!==c?c:f):f};Gb.prototype.formatMeasureValue=function(a,
b,c){b=b&&b.getFormat();return Ya(b,c)(a)};Gb.prototype.formatTimeValue=function(a,b){var c=b.getDataFormat(),f=b.getFormat(),e=b.getValueLabels(),g=b.getFirstDayOfWeek(),k=b.getDataSeparator(),m=b.getGranularity(),n=b.getFiscalGranularity();if(e&&e[a])return e[a];if(!f)return a;f=b.getFormatter()||ka.getFormatter(f||c,g,k,m,n);if(r.isNumber(a))return f(a);if(null==a)return"";c=(b.parser||ka.getParser(c,g,k,m,n))(a);return null==c||isNaN(c.valueOf())?a:f(c)};var td=oa(Gb),lv=function(a,b){this.interval=
a;this.value=b;this.n=1;this.max=a.max},Wa=function(){};Wa.prototype.get=function(a){return this._get(this.root,a)};Wa.prototype.put=function(a,b){this.root=this._insert(this.root,a,b)};Wa.prototype.remove=function(a){var b=this.get(a);this.root=this._remove(this.root,a);return b};Wa.prototype.search=function(a){return this._search(this.root,a)};Wa.prototype.size=function(){return this._size(this.root)};Wa.prototype._get=function(a,b){if(!a)return null;var c=this._compareTo(b,a.interval);return 0>
c?this._get(a.left,b):0<c?this._get(a.right,b):a.value};Wa.prototype._insert=function(a,b,c){if(!a)return new lv(b,c);0>this._compareTo(b,a.interval)?a.left=this._insert(a.left,b,c):a.right=this._insert(a.right,b,c);this._updateCountAndMax(a);return a};Wa.prototype._remove=function(a,b){if(!a)return null;var c=this._compareTo(b,a.interval);0>c?a.left=this._remove(a.left,b):0<c?a.right=this._remove(a.right,b):a=this._joinLR(a.left,a.right);this._updateCountAndMax(a);return a};Wa.prototype._search=
function(a,b){for(;a;){if(this._intersects(b,a.interval))return a.interval;a=a.left?a.left.max<b.min?a.right:a.left:a.right}return null};Wa.prototype._size=function(a){return a?a.n:0};Wa.prototype._intersects=function(a,b){return b.max<a.min||a.max<b.min?!1:!0};Wa.prototype._compareTo=function(a,b){return a.min<b.min?-1:a.min>b.min?1:a.max<b.max?-1:a.max>b.max?1:0};Wa.prototype._joinLR=function(a,b){if(!a)return b;if(!b)return a;if(Math.random()*(this._size(a)+this._size(b))<this._size(a))return a.right=
this._joinLR(a.right,b),this._updateCountAndMax(a),a;b.left=this._joinLR(a,b.left);this._updateCountAndMax(b);return b};Wa.prototype._updateCountAndMax=function(a){a&&(a.n=1+this._size(a.left)+this._size(a.right),a.max=this._max3(a.interval.max,this._max(a.left),this._max(a.right)))};Wa.prototype._max=function(a){return!a?Number.MIN_SAFE_INTEGER:a.max};Wa.prototype._max3=function(a,b,c){return Math.max(a,Math.max(b,c))};var Jo=td.getInstance(),Ko=function(a,b,c,f,e){var g=f-2*e;a=c?r.every(a,function(a){return Qa.getDelegate().getTextWidth(a.get("text"))<=
g}):!1;return{displayText:a?!0:b<=g+0.1,textRotate:a}},tb={adjustLineFill:function(a,b,c,f,e){var g;a=A.ensureArray(a);var k=!f?(g=e.domain(),0<g[0]?g[0]:0>g[1]?g[1]:0):0,k=e.scale(k);a.forEach(function(a){a.find({type:"Path"}).forEach(function(a){a.set({fill:a.get("fill")||a.get("stroke").adjustOpacity(c)});return a.set(b?{baseY:k}:{baseX:k})})})},adjustBarText:function(a,b,c,f,e){a=A.ensureArray(a);a=r.flatten(a.map(function(a){return a.find({type:"Rect"})}));b=Ko(a,e,b,c,f);c=b.textRotate;var g=
b.displayText?{textRotate:c}:{text:null};a.forEach(function(a){return a.set(g)})},adjustStackTotalText:function(a,b,c,f,e){a=a.find({type:"Text"});c=Ko(a,e,b,c,f);b=c.textRotate;var g;c.displayText?b&&(c=p.STACKBAR_TOTAL.PADDING,g={vertical:b,valign:"top",halign:"center",padding:{top:c,bottom:c}}):g={text:""};a.forEach(function(a){return a.set(g)})},adjustLineLabels:function(a){if(!(2>a.length)){for(var b=[],c=0;c<a.length;c++){var f=a[c],e=f.text,g=e.get("x"),k=e.get("y"),m=e.get("vertical"),n=m?
e.getTextW():e.getTextH(),m=m?e.getTextH():e.getTextW(),e=g-m/2,g=g+m/2,m=k+n/2,q=f.point.key;b.push({y:k-n/2,yMax:m,xMin:e,xMax:g,key:q,labelInfo:f});b.push({y:m,yMax:m,xMin:e,xMax:g,key:q})}b.sort(function(a,c){return a.y-c.y});a=new Wa;for(c=0;c<b.length;c++)f=b[c],k=f.key,n=f.labelInfo,e={min:f.xMin,max:f.xMax},f.y===f.yMax?a.get(e)===k&&a.remove(e):a.search(e)?n.text.set({opacity:0}):a.put(e,k)}},adjustPointFill:function(a,b,c,f){if(void 0!==c)if(b&&!b.isConstant()){var e=b.getField();a.forEach(function(a){var b=
0>a.get("data").row[e.getName()]?f:c;a.set({fill:a.get("fill").adjustOpacity(b)})})}else a.forEach(function(a){a.set({fill:a.get("fill").adjustOpacity(c)})})},truncateColumns:function(a,b){var c=wa.sum(a)-b;if(0>=c)return null;1<a.length&&(c+=1);for(var f=a.map(function(a,c){return{index:c,size:a}}).sort(function(a,c){return c.size-a.size}),e=r.map(f,"size"),g=0;g<f.length;g++){var k=(wa.sum(e.slice(0,g+1||void 0))-c)/(g+1);if(k>=(g===f.length-1?0:f[g+1].size)){for(var c={},e=0,m=0<=g;m?e<=g:e>=g;m?
e++:e--)c[f[e].index]=k;return c}}return null},getFormatInfo:function(a,b){var c=p.VALUETYPE,f=c.COMPACT_NUMBER,e=c.PERCENT,g=c.NUMBER,c=c.NONE,k=b.getFormat(),m=k&&k[2]&&k[2].compactDecimalDigits,n=Jo.isPercentFormat(k),m=a===f&&(!n||0<=m);a=Jo.isPercentFormat(k)&&a!==c||a===g?f:a;var f=a===e?b.getPercentFormat()||p.FORMAT.PERCENT.MEASURE:b.getFormat()||[null,1],q=Ya(f,m);return{keySuffix:(f[0]||"")+f[1]+m,format:f,valueType:a,compact:m,formatter:q,textFct:function(c){switch(a){case p.VALUETYPE.NONE:return"";
case p.VALUETYPE.PERCENT:return q(Jh.getDataInfoForMeasure(c,b.getName()).percent);default:return q(c[b.getName()])}}}},getTextWidth:function(a,b){return Qa.getDelegate().getTextWidth(a,b)},getTextHeight:function(a){return Qa.getDelegate().getRealFontSize(a)},rotateBuilderFct:function(a){return function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];var c=b[0].cell,f=c.getScene();c.set({w:c.get("h"),h:c.get("w")});f.get("transforms").rotate=!f.get("transforms").rotate;b=a.apply(void 0,b);
c.set({w:c.get("h"),h:c.get("w")});f.get("transforms").rotate=!f.get("transforms").rotate;if(b)return b.rotate()}},getMeasureAxisCellHeight:function(a,b){var c=ck.getFormatParts(444.4,a&&a[0]),f=c.prefix,c=c.suffix,e=Ya(void 0,!0,!0)(444.4);return Qa.getDelegate().getTextWidth(f+e+"M"+c)}},Ek,Fk=p.TEXT_SIZE,Lo=p.TOTAL_SUM_MODE,Mo=p.STACKBAR_TOTAL,mv=function(a){if(a.data)return a;a.data={value:function(a){return{row:a}}};return a},Gk=function(a,b,c,f){f||(f=new Ka({canSelect:!0,canHover:!0,key:"plot"}));
var e=la.getValueMapFct(mv(b));c.forEach(function(c){(new a(e(c))).appendTo(f)});return f},ub=function(a,b,c){var f=r.pick(a,"key x y r fill stroke lineWidth accessibility data selectionShapeEffect".split(" "));b=Gk(Pb,f,b,c);c||(b.set({zIndex:0,axisOptions:a.axisOptions}),c=b);return c},Ro=function(a,b,c,f,e,g,k){var m;if(!(4<++k))return b===Vb.topRight&&(0<=Math.ceil(a.get("y")+c.y-g.sizeY/2-2)||(No(c,g),0<=Math.ceil(a.get("y")+c.y-g.sizeY/2-2)||(c.y=2+g.sizeY/2-a.get("y"))),m=Vb.left),b===Vb.left&&
(0<=Math.ceil(a.get("x")+c.x-g.sizeX/2-2)||(Oo(c,g),0<=Math.ceil(a.get("x")+c.x-g.sizeX/2-2)||(c.x=2+g.sizeX/2-a.get("x"))),m=Vb.bottomRight),b===Vb.bottomRight&&(f.h>=Math.ceil(a.get("y")+c.y+g.sizeY/2+2)||(Po(c,g),f.h>=Math.ceil(a.get("y")+c.y+g.sizeY/2+2)||(c.y=f.h-2-g.sizeY/2-a.get("y"))),m=Vb.right),b===Vb.right&&(f.w>=Math.ceil(a.get("x")+c.x+g.sizeX/2+2)||(Qo(c,g),f.w>=Math.ceil(a.get("x")+c.x+g.sizeX/2+2)||(c.x=f.w-2-g.sizeX/2-a.get("x"))),m=Vb.topRight),Ro(a,m,c,f,e,g,k)},No=function(a){a.x=
-a.xd;a.y=0;return Vb.left},Po=function(a){a.x=a.xd;a.y=0;return Vb.right},Oo=function(a){a.x=a.xr;a.y=a.yr;return Vb.bottomRight},Qo=function(a){a.x=a.xr;a.y=-a.yr;return Vb.topRight},Vb={left:0,right:1,bottomRight:2,topRight:3},xc={line:function(a,b){var c=r.pick(a,["key","x","y","stroke","data"]),f=a.accessibility,e=a.categories,g=a.missingValue,k=a.pointRadius,m=a.showPoints,n=g===p.MISSING_VALUE.CONNECT,q=g===p.MISSING_VALUE.DISCONNECT,s=g===p.MISSING_VALUE.CUMULATIVE,u=s||g===p.MISSING_VALUE.CUMULATIVE_UNTIL_LAST_DATA,
g=[(new Pb).get("selectionShapeEffect"),Th.getDescriptor()];c.r={value:k};c.fill=c.stroke;c.selectionShapeEffect={value:g};f&&(c.accessibility=f);delete c.stroke;var x,t=[];if(!n&&e&&(x=la.getValueFct({field:a.y.field},a.y.useParsedData),u)){f=Object.keys(e);k=0;for(g=f.length;k<g;k++){var v=f[k];t[e[v]]=v}}c=Gk(Pb,c,b).set({zIndex:1,staggerAnim:!1,axisOptions:a.axisOptions});c.groupByField(a.lines?a.lines.field:null).forEach(function(c,b){var f=c.sortBy(function(a){return a.get("y")}).getChildren().map(function(a){return a.set({hidden:!m,
showWhenCrossed:!m,isAccessible:!0,opacity:m?1:0})}),g=[f];if(1<f.length||f.length&&u){if(!n&&e){for(var g=[[f[0]]],k,p,r,v=a.y.scale,A=1;A<f.length;++A){r=g[g.length-1];var B=f[A],Za=f[A-1];p=k||e[x(Za.get("data").row)];k=e[x(B.get("data").row)];1===k-p?r.push(B):q?g.push([B]):u&&(r.push(new Pb({key:"cumulative"+A,x:Za.get("x"),y:v.scale(t[k-1])})),r.push(B))}s&&(f=f[f.length-1],e[x(f.get("data").row)]<t.length-1&&g[0].push(new Pb({key:"cumulative-end",x:f.get("x"),y:v.scale(t[t.length-1])})))}g.forEach(function(b,
f){var e={points:b.map(function(a){return[a.get("x"),a.get("y")]}),stroke:b[0].get("fill"),lineWidth:a.lineWidth,dashed:a.dashed,canSelect:!1,key:"measure-path-"+b[0].get("key")+"-"+b[b.length-1].get("key")+"-"+f,canHover:!1};(new Xd(e)).prependTo(c)})}g.filter(function(a){return 1===a.length}).forEach(function(a){return a[0].set({hidden:!1,showWhenCrossed:!1,isAccessible:!0,opacity:1})})}).flatten();return c},point:ub,rect:function(a,b){var c=r.pick(a,"key x y w h text fill textInside stretchX stretchY textCenter textColorLight textColorDark accessibility data hoverPadding stroke lineWidth vertical textRotate".split(" ")),
f=Gk(jc,c,b).set({zIndex:0,axisOptions:a.axisOptions}),e=c.text;e&&f.getChildren().forEach(function(a){return a.set({text:e(a.get("data").row)})});var g=a.stackTotal,k=a.textColorDark,m=a.textColorLight;g&&g.totalSumMode!==Lo.NONE&&(f.groupByField(g.field).forEach(function(a){var c=a.getChildren(),b=c.map(function(a){return a.get("x")+a.get("w")}),b=Math.max.apply(Math,b),e=c[0],p=e.get("y")+e.get("h")/2,e=e.get("data"),t=e.column,e=e.row,c=g.totalSumMode===Lo.NET?c.reduce(function(a,c){return a+
c.get("data").row[t]},0):Jh.getDataInfoForMeasure(e,t).total;new ya({key:a.key+"-StackTotal",layer:f,text:g.formatter(c),x:Math.max(0,b),y:p,stroke:g.backgroundColor.toHighContrast(m.value,k.value),valign:"middle",halign:"left",padding:{left:Mo.PADDING,right:Mo.PADDING},size:Fk,includeDescender:!1,skipInFind:!0})}),f.flatten());return f},area:function(a,b,c,f){var e={},g=b.groups?la.getValueFct(b.groups):function(a){return"default"};delete b.groups;b.high={field:a[0]};b.low={field:a[1]};var k=la.getValueMapFct(b);
c.forEach(function(a){var c=k(a),b=c.high,f=c.low,p=c.y,c=c.stroke;a=g(a);a=e[a]=e[a]||{high:[],low:[]};void 0!==p&&(void 0!==b&&a.high.push([b,p]),void 0!==f&&a.low.push([f,p]));a.fill=c});r.values(e).forEach(function(a,c){var b=a.high,e=a.low,g=r.sortBy(b,function(a){return a[1]}).concat(r.sortBy(e,function(a){return-a[1]}));0<b.length&&(0<e.length&&2<b.length+e.length)&&(new Xd({key:"area-"+c,lineWidth:0,fill:a.fill.adjustOpacity(0.4),stroke:a.fill,points:g,canHover:!1,closePath:!0})).prependTo(f)})},
addInnerText:function(a){var b=a.centerText,c=a.theme,f=a.innerRadius,e=a.format,g=a.number,k=a.centerValueType===p.CENTER_VALUE_TYPE.TEXT,m=null==a.compact?!0:a.compact,n=new Ka({key:"plot"});n.set({x:a.x,y:a.y,accessibility:{type:p.ACCESSIBILITY.TYPE.CAPTION,key:p.ACCESSIBILITY.CAPTION_KEY.TOTAL,value:k?b:Ya(e,!0)(g)}});c={stroke:c.getBackgroundColor().toHighContrast(c.getTextColorOnLight(),c.getTextColorOnDark()),halign:"center",valign:"middle",size:Math.round(f/3)};a=!1;k?(r.extend(c,{key:"centerText",
text:void 0!==b?b:""}),a=!0,b=new ya(c)):(r.extend(c,{key:"total",skipInFind:!0,format:e,number:g,compact:m}),a=!m,b=new Ne(c));a&&b.fitToSize(2*f-12,f/2,12,f/3).set({maxWidth:2*f-10});b.appendTo(n);return n},addValueText:function(a,b,c){if(b){var f=c.theme,e=c.transforms,g=[];a.getChildren().forEach(function(a){g.push(a);var c=a.get("r"),c=Math.round(c/2);if(10<c){var n=a.get("data").row[b.getName()];a=new Ne({key:a.key+"_text",number:n,format:b.getFormat(),compact:!0,x:a.get("x"),y:a.get("y"),stroke:0<=
n?a.get("stroke").toHighContrast(f.getTextColorOnLight(),f.getTextColorOnDark()):a.get("stroke"),size:c,valign:"middle",halign:"center",skipInFind:!0,vertical:e.rotate});g.push(a)}});a.removeAll();a.appendAll(g)}},addPointValueLabel:function(a,b,c,f,e,g){var k=a.find({type:"Point"});f=tb.getFormatInfo(f,e).textFct;b=b.getBackgroundColor().toHighContrast(b.getTextColorOnLight(),b.getTextColorOnDark());e=[];for(var m=0;m<k.length;m++){ub=k[m];var n=new ya({key:ub.key+"-pvalue",layer:a,text:f(k[m].get("data").row),
stroke:b,valign:"middle",halign:"center",size:Fk,includeDescender:!1,skipInFind:!0,vertical:c}),q,s=m,p=k,r=n;q=g;var t=c;ub=p[s];var v=p[s-1],s=p[s+1],r={sizeX:t?r.getTextH():r.getTextW(),sizeY:t?r.getTextW():r.getTextH(),padding:!ub.get("hidden")?ub.get("r")+2:3},p={x:null,y:null,xd:r.sizeX/2+r.padding,yd:r.sizeY/2+r.padding,xr:r.sizeX/2+r.padding/Math.sqrt(2),yr:r.sizeY/2+r.padding/Math.sqrt(2)},z=void 0,w=void 0;if(v){var y=ub.get("x")-v.get("x");y&&(z=(ub.get("y")-v.get("y"))/y)}s&&(v=ub.get("x")-
s.get("x"))&&(w=(ub.get("y")-s.get("y"))/v);v=void 0;v=0<z?0<w?Qo(p):Po(p):0<w?No(p):Oo(p);Ro(ub,v,p,q,t,r,0);q=p;n.set({x:ub.get("x")+q.x,y:ub.get("y")+q.y});e.push({text:n,point:ub})}return e},adjustLineFill:tb.adjustLineFill,adjustPointFill:tb.adjustPointFill,adjustBarText:tb.adjustBarText,adjustStackTotalText:tb.adjustStackTotalText,adjustLineLabels:tb.adjustLineLabels,truncateColumns:tb.truncateColumns,getFormatInfo:tb.getFormatInfo,getTextWidth:tb.getTextWidth,getTextHeight:tb.getTextHeight,
getDefaultFontSize:function(){return tb.getTextHeight(Fk)},getMinFontSize:function(){return tb.getTextHeight(p.MIN_FONT_SIZE)},rotateBuilderFct:tb.rotateBuilderFct,getMeasureAxisCellHeight:tb.getMeasureAxisCellHeight,applyHoverPadding:function(a,b,c){void 0===c&&(c=!0);a.getChildren().forEach(function(a){a=a._props;var e=b.hoverPadding-a.w,g=b.transforms.rotate;0<e&&(g=g?c?"top":"bottom":c?"right":"left",a.hoverPadding=(Ek={},Ek[g]=e,Ek))})},reorderPlots:function(a){return r.sortBy(a,function(a){return a.mark})}},
So=p.COLOR_TYPE,bh={getColor:function(a){return a.getType&&(a.getType()===So.SIMPLE_COLOR||a.getType()===So.LINEAR_GRADIENT)?a:Od.getInstance().getColor(a)},isColor:function(a){return a instanceof C||a instanceof E},isValidColorConfig:function(a){return null!=a&&(this.isColor(a)||a.column&&0<a.column.length)}},ks=nd.getInstance().getDefaultTheme(),ls=100,ms=2,To={xRefLines:Nm,yRefLines:xc.rotateBuilderFct(Nm),getValidReferenceLines:function(a){return a.map(function(a){a.value&&r.isString(a.value)&&
(console.warn('EclairNG: Got string for referenceLine "value": '+a.value+'. "value" should be a number.'),a.value=parseFloat(a.value));return a}).filter(function(a){return r.isFinite(a.value)})}},ig=p.CHART_LAYOUT.COLOR_TYPE,Yh=p.COLUMN_TYPE,Yd=p.VALUETYPE,Wb={traverseConfigSections:function(a,b,c){ch(a,b,c)},getColumns:function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return dh(a,b)},getDimensionColumns:function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+
1];return dh(a,b,Yh.DIMENSION)},getMeasureColumns:function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return dh(a,b,Yh.MEASURE)},getTimeColumns:function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return dh(a,b,Yh.TIME)},createInternalKeyColumn:function(){return this.createInternalColumn("$$KEY")},createInternalColumn:function(a){return(new hg(a)).setInternalOnly(!0)},sanitizeAxis:function(a,b,c){b.length?(a.title=c?Sc.defaultText(a.title,Sc.measuresDefaultTitle(b)):
a.title||b.map(function(a){return Sc.defaultText(a.getLabel(),a.getName())}),c&&(a.format=a.format||b[0].getFormat())):(a.showAxis=!1,a.showTitle=!1);if(!r.isNumber(a.labelsDepth)||1>a.labelsDepth)a.labelsDepth=b.length;if(b&&b.length){var f=b[0];a.predictiveLine&&(void 0===a.predictiveLine.lineStyleAfter&&(a.predictiveLine.lineStyleAfter="dashed"),!a.predictiveLine.time&&!f.isFiscalTime()&&(a.predictiveLine.time=Date.now(),f.getDataFormat()&&(a.predictiveLine.time=ka.getFormatter(f.getDataFormat(),
f.getFirstDayOfWeek(),f.getDataSeparator())(a.predictiveLine.time))),Om([a.predictiveLine],f.getParser()));if(a.domain&&f.getType()===p.COLUMN_TYPE.TIME){var e=f.getParser();a.domain=a.domain.map(function(a){return e(a)})}a.referenceLines&&(c&&(a.referenceLines=To.getValidReferenceLines(a.referenceLines)),b[0].getType()===Yh.TIME&&Om(a.referenceLines,b[0].getParser()));a.domain&&(c=a.domain,b=c[0],c=c[1],null!=b&&(null!=c&&b>=c)&&(a.domain=null))}},addLegacyLayout:function(a,b,c,f){void 0===a&&(a=
{});void 0===b&&(b={});void 0===c&&(c={});void 0===f&&(f={});return{showMeasure1:kd(a.showAxis),showMeasure2:kd(b.showAxis),showMeasureTitle1:kd(a.showTitle),showMeasureTitle2:kd(b.showTitle),showDimension:kd(c.showAxis),showDimensionTitle:kd(c.showTitle),showTime:kd(f.showTime),showTimeTitle:kd(f.showTitle)}},convertAxisMode:function(a,b){void 0===a&&(a=p.AXIS_MODE.DUAL);var c=b.plots;a===p.AXIS_MODE.SYNC?c.map(function(a){return a.axis="measureAxis1"}):a===p.AXIS_MODE.DUAL?c.forEach(function(a,
c){a.axis||(a.axis=0===c?"measureAxis1":"measureAxis2")}):c.forEach(function(a,c){a.axis||(a.axis="measureAxis"+(c+1))})},moveReferenceLines:function(a){var b=a.measureAxis1,c=a.measureAxis2;a.axisMode===p.AXIS_MODE.SYNC&&(null!=c&&null!=c.referenceLines&&null!=b)&&(null!=b.referenceLines?Array.prototype.push.apply(b.referenceLines,c.referenceLines):b.referenceLines=c.referenceLines)},hydrateConfigSection:function(a,b){if(a){var c=a.column;a.color&&this.hydrateConfigSection(a.color,b);c&&(a.column=
c.map(function(a){return b.getColumn(a)}));if(c=a.icon&&a.icon.column)a.icon.column=b.getColumn(c);if(c=a.area)a.area=c.map(function(a){return b.getColumn(a)})}},addSortingInfoToAxis:function(a,b,c){if(a.column&&0!==a.column.length){var f=Aa.NONE.value;b.column&&a.column[0].getName()===b.column[0].getName()&&(f=b.order);b=!b.enabled||1<a.column.length||a.column[0].getType()===p.COLUMN_TYPE.TIME||0===this.getDimensionColumns(c).length+this.getTimeColumns(c).length||null!=b.columnTypes&&!r.find(b.columnTypes,
function(c){return a.column[0].getType()===c});a.sorting={enabled:!b,order:f}}},enrichAxis:function(a){var b=this,c=a.x,f=a.y,e=a.dimensionAxis,g=a.timeAxis,k=a.sorting,m=["measureAxis1","measureAxis2"];a.plots&&a.plots.forEach(function(c){var b=c.axis;b&&(m.push(b),b=a[b],b.column=A.uniq((b.column||[]).concat(c.column),function(a){return a.getName()}))});r.filter(A.uniq(m).map(function(c){return a[c]})).forEach(function(c){b.addSortingInfoToAxis(c,k,a)});e&&(g&&0<g.column.length)&&(e.column=g.column);
r.filter([g,e,c,f]).forEach(function(c){b.addSortingInfoToAxis(c,k,a)})},hydrateRowsMetadata:function(a,b){b.forEach(function(c){var b,e;r.isString(c.valueColors)&&(b=c.valueColors,c.valueColors={});r.isString(c.valueLabels)&&(e=c.valueLabels,c.valueLabels={});if(e||b){var g=function(a,c,b,f){c=a[c];a=a[b];null!=c&&(null!=a&&null==f[a])&&(f[c]=a)};a.forEach(function(a){b&&g(a,c.column,b,c.valueColors);e&&g(a,c.column,e,c.valueLabels)})}});return b},hydrateConfig:function(a,b){var c=this;ch(a,void 0,
function(a){return c.hydrateConfigSection(a,b)})},getCustomCellSize:function(a){return a&&a.size&&0<a.size&&100>a.size?a.size:void 0},getXAxisDefinition:function(a){return this.getAxisDefinition(a.x)},getYAxisDefinition:function(a){return this.getAxisDefinition(a.y)},getAxisDefinition:function(a){if(!a)return null;var b={showZero:a.showZero,showAxis:a.showAxis,showTitle:a.showTitle,scale:a.scale};if(!a.fields||0===a.fields.length)return b;var c=a.fields[0];a=a.title?a.title:a.fields.map(function(a){return Sc.defaultText(a.getLabel(),
a.getName())});return r.extend(b,{label:a,format:c.getFormat(),domain:c.domain,referenceLines:c.referenceLines})},setMarkType:function(a,b){a.plots.forEach(function(a){a.mark=a.mark||b})},isStack:function(a){var b=a.stack,c=a.plots;if(this.getColumns(a,"split")[0])return!0;if(!b)return!1;for(b=a=0;b<c.length;b++)c[b].mark===p.MARK_TYPE.BAR&&a++;return 1<a},isBinned:function(a){return(a=a.color)&&a.type===ig.BINS},isTrellis:function(a){void 0===a&&(a={});a=a.trellis;return!(!a||!a.column||!a.column.length)},
hasSeries:function(a){return void 0!==r.find(a,function(a){return void 0!==a.series})},hasIcon:function(a){return a&&!!a.icon},getPlotsDefaults:function(a,b){var c=this;b=b||(1===a.plots.length?ig.CATEGORICAL:ig.CONSTANT);var f=a.plots;return f.map(function(e,g){return b===ig.CATEGORICAL?{column:[],color:{type:ig.CATEGORICAL}}:{color:c.getPaletteColor(a.theme,g,f.length)}})},getPlotColorColumn:function(a,b){void 0===b&&(b=0);return this.getColumns(a.plots[b],"color")[0]},getTooltipColumns:function(a){for(var b=
this,c=[],f=arguments.length-1;0<f--;)c[f]=arguments[f+1];var e=(g=this).getColumns.apply(g,[a].concat(c));a.plots.forEach(function(a){e=e.concat(b.getColumns(a,"color"))});return Sc.uniqueColumns(e);var g},denormalizeConfig:function(a){null!=a.color&&a.plots.forEach(function(b){null==b.color&&(b.color=a.color)})},getPaletteColor:function(a,b,c,f,e){void 0===b&&(b=0);f=f||a.getPaletteColors();return f[b%f.length]},fixConfig:function(a,b){this.denormalizeConfig(a);A.defaultsDeep(a,b);Ak.convertConfigColors(a);
ch(a,void 0,function(a){var b=a&&a.column;b&&1<b.length&&(a.column=Sc.uniqueColumns(b))});this.getColumns(a,"dimension").forEach(function(c){var b=c.getHotSpots();b&&(c._hotSpots=b.map(function(c){return r.defaults(c,{position:"right",icon:"\u2335",colors:a.theme.getHotspotColors()})}))})},sanitizeChartTitleConfig:function(a){a&&(r.defaults(a,{fontSize:p.TITLE.DEFAULT_FONT_SIZE,subtitleFontSize:p.TITLE.DEFAULT_SUBTITLE_FONT_SIZE,align:p.TITLE.DEFAULT_ALIGN}),a.fontSize=Math.max(0,a.fontSize),a.subtitleFontSize=
Math.max(0,a.subtitleFontSize))},sanitizeValueTypeConfig:function(a,b){void 0===b&&(b=[Yd.COMPACT_NUMBER,Yd.NUMBER,Yd.PERCENT,Yd.NONE]);return 0<=b.indexOf(a)?a:Yd.COMPACT_NUMBER},defaultShowValues:function(a){null==a.showValues&&(a.showValues=!0);null==a.valueType&&(a.valueType=a.showPercentage||a.showValues&&a.normalize?p.VALUETYPE.PERCENT:a.showValues?p.VALUETYPE.COMPACT_NUMBER:p.VALUETYPE.NONE);delete a.showValues;null==a.valueTypeOnLine&&(a.valueTypeOnLine=a.showValuesOnLine?Yd.COMPACT_NUMBER:
Yd.NONE);return a},createDefaultSplitConfig:function(a,b){void 0===b&&(b="column");var c={};c[b]=A.extendDeep([],a[b]);c.sorting={type:!1===a.sortColor?p.SORT.TYPE.ROWS:p.SORT.TYPE.VALUES,order:p.SORT.ORDER.ASC};c.totalSumMode=p.TOTAL_SUM_MODE.NONE;return c},getFormatMultiplier:function(a){return(a=a.format)&&Math.abs(a[1])||1},convertConfigColors:function(a){return Ak.convertConfigColors(a)},isSortingSupported:function(a){return a.sorting.enabled&&!this.isTrellis(a)},isIdenticalColor:function(a){var b=
a.plots;if(null==b||2>b.length)return!0;for(var c=!0,f=0;f<b.length;f++)if(null!=b[f].color){c=!1;break}if(c)return null!=a.color&&a.color.column&&0<a.color.column.length;a=b[0].color;for(c=1;c<b.length;c++)if(f=b[c],JSON.stringify(a)!==JSON.stringify(f.color))return!1;return!0},removeColumnlessSections:function(a,b){b.forEach(function(c){a[c]&&(a[c].column&&0===a[c].column.length)&&delete a[c]})}},nv=Fe.init("scene::export"),Bc=function(a){function b(c,b){c?null==c.key&&(c.key="scene"):c={key:"scene"};
a.call(this,c,b);this.grid=(new ia).attachScene(this)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.size=[0,0];c.position=[0,0];c.scrollOffset=[0,0];c.baseScrollOffset=[0,0];c.selectMode=p.SELECTMODE.NONE;c.background=void 0;c.config={};c.rowsMetadata=void 0;c.selectionKeyFct=void 0;c.keyTransform=void 0;c.padding=new fb({top:0,right:0,bottom:0,left:0});c.dataFormatter=
null};b.prototype._mapValue=function(a,b){return"padding"===a?new fb(b):b};b.prototype._onChange=function(c){a.prototype._onChange.call(this,c);c.padding&&this.grid&&this.grid.updateCellLayout();if((c=c.transforms)&&c[0])c=c[0],c.flipY&&this._props.padding.flipY(),c.flipX&&this._props.padding.flipX(),c.rotate&&(c=this._props.size,this._props.size=[c[1],c[0]],this._props.padding.rotate({isCW:!0}))};b.prototype._childSorter=function(a){return a.get("zIndex")};b.prototype.getParentBackgroundColor=function(){return this._props.background};
b.prototype.getCell=function(a,b){return this.grid.getCell(a,b)};b.prototype.getCells=function(){return this.getChildren()};b.prototype.cellByKey=function(a){return this.getChildByKey(a)};b.prototype.getFullSize=function(){var a=this.grid.getFullSize(),b=this._props.padding;return[a[0]+b.left+b.right,a[1]+b.top+b.bottom]};b.prototype.getBaseScrollOffset=function(){return this.grid.getBaseScrollOffset()};b.prototype.getScrollOffset=function(){return this._props.scrollOffset};b.prototype.buildCells=
function(a){this.grid.buildCells(a);return this};b.prototype.rotate=function(){var c=this._props.size;this.set({size:[c[1],c[0]]},!0);this._props.padding.rotate();this.grid.rotate();return a.prototype.rotate.apply(this,arguments)};b.prototype.flipX=function(){this.grid.flipX();this._props.padding.flipX();return a.prototype.flipX.apply(this,arguments)};b.prototype.flipY=function(){this.grid.flipY();this._props.padding.flipY();return a.prototype.flipY.apply(this,arguments)};b.prototype.postProcess=
function(){var c=Wb.isTrellis(this._props.config);c||this._addBrushLayers();a.prototype.postProcess.call(this);c||this._repositionCrosshair();this.set({baseScrollOffset:this.getBaseScrollOffset()});return this};b.prototype.getAvailableSize=function(){var a=this._props.size,b=this._props.padding,e=b.top,g=b.bottom,b=Math.max(a[0]-b.left-b.right,0),a=Math.max(a[1]-e-g,0);return[b,a]};b.prototype.center=function(){var c=this.getAvailableSize(),b=c[0],c=c[1],e=this._props.padding,g=e.top,e=e.left,k=this.boundingBox();
if(!k)return this;var m=k.x,n=k.y,q=k.w,k=k.h;a.prototype.center.call(this,q<b?(b-q)/2-(m-e):0,k<c?(c-k)/2-(n-g):0);return this};b.prototype.adjustRowToFit=function(a){this.grid.adjustRowToFit(a);return this};b.prototype.adjustColumnToFit=function(a){this.grid.adjustColumnToFit(a);return this};b.prototype.adjustRowSize=function(a,b){this.grid.adjustRowSize(a,b);return this};b.prototype.adjustColumnSize=function(a,b){this.grid.adjustColumnSize(a,b);return this};b.prototype._redataFct=function(a,b){return r.extend({},
b,a)};b.prototype.exportIntoCell=function(a,b){var e=this;void 0===b&&(b={});var g=b.tx;void 0===g&&(g=0);var k=b.ty;void 0===k&&(k=0);var m=b.keyPrefix,n=b.extraData;null==m&&(m=nv.next());r.sortBy(this.getCells(),function(a){return a.get("zIndex")}).forEach(function(b){var f=b.translation(),p=f[0],x=f[1],t=b.get("clip"),v=[0,0,0,0];t&&(v=b.getModelProps().viewport);r.sortBy(b.getLayers(),function(a){return a.get("zIndex")}).forEach(function(f){f.set({key:m+"/"+b.getKey()+"/"+f.getKey(),zIndex:0});
f.isBrushLayer()&&f.setShapeContainerKeys(f.getShapeContainerKeys().map(function(a){return m+"/"+b.getKey()+"/"+a}));f.get("decorationType")&&f.set("refContainerKeys",f.get("refContainerKeys").map(function(a){var c=a.split("\x26");a=c[0];c=c[1];return b.getKey()+"\x26"+m+"/"+a+"/"+c}));a.append(f);f.offsetX(p+g);f.offsetY(x+k);t&&f.set({viewport:[v[0]+p+g,v[1]+x+k,v[2],v[3]]});n&&(f.get("canSelect")||f.get("canHover"))&&f.updateChildren(function(a){var c=!(!1===a.get("canHover")&&!1===a.get("canSelect"));
if(a instanceof zb)a.getChildren().forEach(function(a){var b=a.get("data")||{};c&&a.set({data:{row:e._redataFct(b.row,n),column:b.column}})});else{var b=a.get("data")||{};c&&a.set({data:{row:e._redataFct(b.row,n),column:b.column}})}})})});return a};b.prototype.toJson=function(){var c=a.prototype.toJson.call(this);c.grid=this.grid.toJson();c.props.padding=c.props.padding.toJson();c.legend=this.legend&&this.legend.toJson();return c};b.prototype.totalTranslation=function(a,b){void 0===a&&(a=!1);void 0===
b&&(b=!1);var e=this.get("padding"),g=e.top,e=e.left,k=this.get("scrollOffset")||[0,0],m=k[0],k=k[1];return[(a?-m:0)+e,(b?-k:0)+g]};return b}(od);Bc.type="Scene";Bc._sensitiveProps=new $a(["padding","transforms"]);var ov=Object.getPrototypeOf(Bc.prototype);r.extend(Bc.prototype,{onScroll:function(a,b){this.set({scrollOffset:[a,b]});return this},prepareForInteraction:function(){this._sortChildren();return this},getModelProps:function(){return{key:this._props.key,type:this.getType(),fullSize:this.getFullSize(),
size:this._props.size,scrollOffset:this._props.scrollOffset,baseScrollOffset:this._props.baseScrollOffset,position:this._props.position,background:this._props.background,accessibility:this._props.accessibility}},_repositionCrosshair:function(){var a=this,b=this.find({type:"Layer",canSelect:!0}).map(function(a){var c=a.getParent();return c&&c.get("key")+"\x26"+a.get("key")}),c=this.find({decorationType:function(a){return a===p.DECORATION_LAYER_TYPE.TIME_CROSSHAIR||a===p.DECORATION_LAYER_TYPE.DISCRETE_CROSSHAIR}});
c.length&&c.forEach(function(c,e){var g=c&&c.getParent();c.set({refContainerKeys:b});g&&a.append(a._separateCrosshairLayer(g,c,e))})},_separateCrosshairLayer:function(a,b,c){var f=a.getChildren().filter(function(a){return a!==b});a.removeAll();var e=a.clone();a.appendAll(f);e.append(b);e.set("key","crosshair-cell-"+c);e.set("zIndex",10);return e},_addBrushLayers:function(){var a={};this.getChildren().forEach(function(b){b.getChildren().forEach(function(c){var b=c.get("brush");c.get("canSelect")&&
b&&(null==a[b.key]&&(a[b.key]=[]),(b=a[b.key])&&b.push(c))})});this._createBrushLayers(a)},_createBrushLayers:function(a){var b=this;r.keys(a).forEach(function(c){var f=a[c];if(f.length){var e=f[0],g=e.get("brush");if(g){var k=g.area,m=g.color,n=g.customDomain,q=g.domain,s=g.getBrushStep,u=g.dataGranularity,r=g.dataSeparator,t=g.firstDayOfWeek,v=g.fiscalGranularity,z=g.format,w=g.type,g=g.scale,y=e.getParent();fv.make(w,{key:c,cell:y,x:e.get("x"),y:e.get("y"),w:k.width,h:k.height,zIndex:100,brushStrokeColor:m.stroke,
brushFillColor:m.fill,brushTextColor:m.text,shapeContainerKeys:f.map(function(a){return a.get("key")}),hasControlPoints:b.get("selectMode")===p.SELECTMODE.RANGE,getBrushStep:s,customDomain:n,domain:q,dataGranularity:u,dataSeparator:r,firstDayOfWeek:t,fiscalGranularity:v,format:z,scale:g})}}})}});Bc.fromJson=function(a,b){void 0===b&&(b=!0);var c=ov.constructor.fromJson.call(this,a,b,Bc);c.grid=ia.fromJson(a.grid,b).attachScene(c);if(a.props){var f=a.props.padding;f&&(c._props.padding=fb.fromJson(f,
b));if(f=a.props.selectionColumns)c._props.selectionColumns=f.map(function(a){return Dk.getInstance().buildColumn(a)});if(f=a.props.rowsMetadata)c._props.rowsMetadata=Ub.fromJson(f);if(f=a.props.background)c._props.background=bh.getColor(f)}a.legend&&(c.legend=Bc.fromJson(a.legend));return c};var Uo=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._getTweensByScale=function(a,b){var e,g,k;e=this.props;
var m=e.x,n=e.y,q=e.h,s=e.vertical,p={};if((e=a.x)&&(g=b.x))p.x=$.transpose(m,g,e),k=s?"dy":"dx",s||(p.h=$.transpose(m+q,g,e)),p[k]=$.transpose(m+this.props[k],g,e)-p.x;if((e=a.y)&&(g=b.y))p.y=$.transpose(n,g,e),k=s?"dx":"dy",s&&(p.h=$.transpose(n+q,g,e)),p[k]=$.transpose(n+this.props[k],g,e)-p.y;this._handleRotation(p,a,b);return p};b.prototype.getStartModelInsert=function(c){return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({dx:0,dy:0,lineWidth:0},a.prototype.getStartModelInsert.call(this,
c))};b.prototype.getEndModelRemove=function(c){return c.disableMorphing?a.prototype.getEndModelRemove.call(this,c):r.extend({dx:1.5*this.props.dx,dy:1.5*this.props.dy},a.prototype.getEndModelRemove.call(this,c))};return b}(Wc),pv=jd(Uo),qv=Object.getPrototypeOf(eb.prototype);r.extend(eb.prototype,{isUnderCursor:function(a,b){var c=this._props,f=c.x0,e=c.y0,g=c.x1,k=c.y1,m=c.lineWidth,n;this._props.curveFunction&&(n=this._props.curveFunction([f,e],[g,k]));return n&&mb.getDelegate().isPointInStroke?
mb.getDelegate().isPointInStroke(function(a){so.drawCurve({ctx:a,lineWidth:m,curve:n})},m,n,a,b):!1},isInArea:function(a,b,c,f){return!1},toModel:function(){return qv.toModel.call(this,pv)},getModelProps:function(){var a=this._props.vertical?[this._props.x0,this._props.baseYValue,this._props.y0-this._props.y1,this._props.x1-this._props.x0,this._props.baseYValue-this._props.y0]:[this._props.baseXValue,this._props.y0,this._props.x1-this._props.x0,this._props.y1-this._props.y0,this._props.x0-this._props.baseXValue],
b=a[0],c=a[1],f=a[2],e=a[3],a=a[4],g=void 0;this._props.curveFunction&&(g=this._props.curveFunction([a,0],[f+a,e]));var k={x:b,y:c,angle:this._props.vertical?-Math.PI/2:0};return r.extend(this.getCommonModelProps(),this.applyShapeEffects(),{x:b,y:c,dx:f,dy:e,lineWidth:this._props.lineWidth,h:a,rotation:k,dashed:this._props.dashed,vertical:this._props.vertical,curve:g})}});eb._roundProps=new $a("x0 y0 x1 y1 baseXValue baseYValue".split(" "));var Vo=function(a){function b(){a.apply(this,arguments)}
a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getEndModelRemove=function(c){return c.disableMorphing?a.prototype.getEndModelRemove.call(this,c):r.extend({r:1.5*this.props.r},a.prototype.getEndModelRemove.call(this,c))};b.prototype.getStartModelInsert=function(c){return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({r:0},a.prototype.getStartModelInsert.call(this,c))};return b}(Wc),rv=function(a){function b(){a.apply(this,
arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getPathProps=function(a,b){var e=this._sampleCurve(Math.PI,2*Math.PI,b.r,!0,a);return{animate_points_x:e[0],animate_points_y:e[1]}};b.prototype.getNumVertices=function(){return 20};return b}(jd(Vo)),Cc={inBrowser:function(){return"undefined"===typeof MobileDelegate||null===MobileDelegate},isMobile:function(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(b)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a}},Zd=Object.getPrototypeOf(Pb.prototype),sv=!Cc.inBrowser()||Cc.isMobile();r.extend(Pb.prototype,{getAnnotationInfo:function(){var a=this.getTranslatedBox(),b=a.x,c=a.y,f=a.w,a=a.h,e=[{x:b+f/2,y:c+a/2,orientations:["right","top","left","bottom"]}];5<this._props.r&&(e=[{x:b+f,y:c+a/2,orientations:["right"]},{x:b+f/2,y:c,orientations:["top"]},{x:b,y:c+a/2,orientations:["left"]},{x:b+f/2,y:c+a,orientations:["bottom"]},{x:b+f,y:c+a/2,orientations:["top","bottom","left"]},{x:b+f/2,y:c,
orientations:["right","left","bottom"]},{x:b,y:c+a/2,orientations:["top","bottom","right"]},{x:b+f/2,y:c+a,orientations:["right","left","top"]}]);return{positions:e,shouldUpdate:!1}},isUnderCursor:function(a,b){var c=a-this._props.x,f=b-this._props.y,e=this._props.r+(this._props.stroke?this._props.lineWidth/2:0)+(this._isHoverAreaExtended?50:sv?10:0);return c*c+f*f<=e*e},isUnderLine:function(a,b,c,f){var e=this._props,g=e.x,e=e.y;return wa.isInRange(g,a,c,1)&&wa.isInRange(e,b,f,1)&&1E-5>Math.abs((f-
b)*g+(a-c)*e+(c*b-a*f))},cross:function(){this.get("data")&&this.get("showWhenCrossed")&&this._showPoints();Zd.cross();return this},uncross:function(){this.get("data")&&this.get("showWhenCrossed")&&this._hidePoints();Zd.uncross();return this},tabOn:function(){this.get("data")&&this.get("showWhenCrossed")&&this._showPoints();Zd.tabOn.call(this);return this},tabOff:function(){this.get("data")&&this.get("showWhenCrossed")&&this._hidePoints();Zd.tabOff.call(this);return this},hover:function(){this.get("data")&&
this.get("isAccessible")&&(this._showPoints(),this.get("showWhenCrossed")||this.set("r",this._props.r+2));Zd.hover.call(this);return this},unhover:function(){this.get("data")&&this.get("isAccessible")&&(this._hidePoints(),this.get("showWhenCrossed")||this.set("r",this._props.r-2));Zd.unhover.call(this);return this},toModel:function(){return Zd.toModel.call(this,rv)},getModelProps:function(){var a=this.applyShapeEffects();delete a.hidden;return r.extend(this.getCommonModelProps(),a,{x:this._props.x,
y:this._props.y,propertiesByScale:this.getPropertiesByScale(),isAccessible:this._props.isAccessible})},_showPoints:function(){this.set("hidden",!1);this.set("opacity",1)},_hidePoints:function(){this.set("hidden",this.get("showWhenCrossed"));this.set("opacity",this.get("showWhenCrossed")?0:1)}});var Wo=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getStartModelInsert=function(c){return c.disableMorphing?
a.prototype.getStartModelInsert.call(this,c):r.extend({points_x:this.props.points_x.map(function(a){return a}),points_y:this.props.points_y.map(function(a){return 0}),lineWidth:0},a.prototype.getStartModelInsert.call(this,c))};b.prototype.getEndModelRemove=function(c){return c.disableMorphing?a.prototype.getEndModelRemove.call(this,c):r.extend({points_x:this.props.points_x.map(function(a){return a}),points_y:this.props.points_y.map(function(a){return 1.5*a})},a.prototype.getEndModelRemove.call(this,
c))};return b}(Wc),tv=jd(Wo),uv=Object.getPrototypeOf(Xd.prototype);r.extend(Xd.prototype,{isUnderCursor:function(a,b){return!1},isInArea:function(a,b){return!1},isUnderLine:function(a,b,c,f){return!1},getModelProps:function(){var a=this._props,b=a.x,c=a.y,f=a.points_x,e=a.points_y,g=a.dashed,k=a.closePath,m=a.lineWidth,n=a.baseX,q=a.baseY,a=a.lineJoin;return r.extend(this.getCommonModelProps(),this.applyShapeEffects(),{x:b,y:c,points_x:f,points_y:e,dashed:g,closePath:k,lineWidth:m,lineJoin:a,baseX:null==
n||k?null:n-b,baseY:null==q||k?null:q-c})},toModel:function(){return uv.toModel.call(this,tv)}});r.extend(Ne.prototype,{getModelProps:function(){var a=this.applyShapeEffects(),b=a.bgColor,a=a.stroke,c=this._props.size,f=this.getRotation(),e=this.getTextXY(),g=e[0],e=e[1],b=b?{color:b,box:this.trueBoundingBox().toArray()}:null;return r.extend(this.getCommonModelProps(),{x:g,y:e,fontSize:c,fill:a,propertiesByScale:{x:["x"],y:["y"]},rotation:f,bg:b,format:this._props.format,number:this._props.number,
compact:this._props.compact},this._exposeFormattingInfo())},_exposeFormattingInfo:function(){var a=this._props,b=a.format,c=a.number,a=a.compact;return Cc.inBrowser()?{format:b,number:c,compact:a}:{formattedNumber:Ya(b,a)(c)}}});var Xo=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getEndModelRemove=function(c){return c.disableMorphing?a.prototype.getEndModelRemove.call(this,c):r.extend({r1:1.5*this.props.r1,
r2:1.5*this.props.r2,textR:1.5*this.props.textR},a.prototype.getEndModelRemove.call(this,c))};b.prototype.getStartModelInsert=function(c){return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({r1:0.9*this.props.r1,r2:0.9*this.props.r2,textR:0.9*this.props.textR},a.prototype.getStartModelInsert.call(this,c))};return b}(Wc),vv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getPathProps=
function(a,b){var e=b.startAngle,g=b.angle,k=b.r1,m=b.r2,n=Math.floor(a/4),q=a%4,s=this._sampleCurve(e,g,k,!0,n+(0<q?1:0)),p=s[0],s=s[1],r=this._sampleCurve(e,g,m,!1,n+(2<q?1:0)),t=r[0],r=r[1],v=this._sampleLine(m*Math.cos(e),m*Math.sin(e),k*Math.cos(e),k*Math.sin(e),n+(1<q?1:0)),q=v[0],v=v[1],g=this._sampleLine(k*Math.cos(e+g),k*Math.sin(e+g),m*Math.cos(e+g),m*Math.sin(e+g),n),e=g[0],g=g[1];return{animate_points_x:t.concat(q).concat(p).concat(e),animate_points_y:r.concat(v).concat(s).concat(g)}};
b.prototype.getNumVertices=function(){return 40};return b}(jd(Xo)),jg=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.type="Arc";this.shapeEffectsProps=["fill","stroke","r1","r2","textR"]};b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var c=this._props;c.key="Arc";c.r1=0;c.r2=0;c.stroke=void 0;c.fill=void 0;c.startAngle=0;c.angle=0;c.roundedCornerStart=
!1;c.roundedCornerEnd=!1;c.lineWidth=1;c.text=void 0;c.subText=void 0;c.textR=0;c.textColorLight=void 0;c.textColorDark=void 0;c.fontSize=void 0;c.subTextFontSize=void 0;c.selectionShapeEffect=[c.selectionShapeEffect,Uh.getDescriptor()]};b.prototype.set=function(c,b,e){this._forceRecomputeBoundingBox();return a.prototype.set.call(this,c,b,e)};b.prototype.isVisible=function(){return a.prototype.isVisible.call(this)&&0<this._props.r1};b.prototype._computeTrueBoundingBox=function(){return new D({x:-this._props.r1,
y:-this._props.r1,w:2*this._props.r1,h:2*this._props.r1})};b.prototype.domainBox=function(){return new D({x:0,y:0,w:0,h:0})};b.prototype.rotate=function(){this._props.startAngle-=Math.PI/2;return this};b.prototype.flipY=function(){this._props.startAngle=-this._props.startAngle;this._props.angle=-this._props.angle;return this};b.prototype.flipX=function(){this._props.startAngle=Math.PI-this._props.startAngle;this._props.angle=-this._props.angle;return this};b.prototype.offsetAngle=function(a){this._props.startAngle+=
a;return this};b.prototype.getPropertiesByScale=function(){return{r:["r1","r2"]}};return b}(ab);jg.initClass();var kg=2*Math.PI,wv=Object.getPrototypeOf(jg.prototype);r.extend(jg.prototype,{isUnderCursor:function(a,b){var c,f,e=this.applyShapeEffects(),g=e.r1,k=e.r2,m=this._props,e=m.startAngle,n=m.angle,q=m.roundedCornerStart,m=m.roundedCornerEnd;this._props.stroke&&(g+=this._props.lineWidth/2,k=Math.max(k-this._props.lineWidth/2,0));var s=a*a+b*b;if(s>g*g||s<k*k)return!1;s=Math.atan2(b,a);0>n&&
(n=-n,e-=n,m=[m,q],q=m[0],m=m[1]);g=(g-k)/2;g=Math.atan(g/(k+g));q&&(e-=g,n+=g);m&&(n+=g);return e<=s&&s<=e+n||e<=(c=s-kg)&&c<=e+n||e<=(f=s+kg)&&f<=e+n},toModel:function(){return wv.toModel.call(this,vv)},getAnnotationInfo:function(){var a=this.totalTranslation(!0,!0),b=a[0],c=a[1],a=this.getModelProps(),f=a.r1,e=a.r2,g=a.startAngle+a.angle/2;g>kg&&(g-=kg);0>g&&(g+=kg);var a="left",k="right";if(g<=Math.PI/2||g>=3*Math.PI/2)a="right",k="left";var m=f*Math.cos(g)+b,f=f*Math.sin(g)+c,b=e*Math.cos(g)+
b,c=e*Math.sin(g)+c;if(e=this.getLayer())if(e=e.getScene())g=e.get("position"),e=g[0],g=g[1],m+=e,f+=g,b+=e,c+=g;return{positions:[{x:m,y:f,orientations:[a,"top","bottom"]},{x:b,y:c,orientations:[k,"top","bottom"]}],shouldUpdate:!0}},getModelProps:function(){if((this._props.r1||0)<(this._props.r2||0)){var a;a=[this._props.r2,this._props.r1];this._props.r1=a[0];this._props.r2=a[1]}a=this.applyShapeEffects();var b=this._props,c=b.startAngle,f=b.angle,e=b.lineWidth,g=b.roundedCornerStart,k=b.roundedCornerEnd,
m=b.text,n=b.subText,q=b.textColorLight,s=b.textColorDark,p=b.fontSize,b=b.subTextFontSize,p=p&&Math.ceil(p),b=b&&Math.ceil(b),x;if(m){var t=mb.getDelegate().getRealFontSize(p),v=c+f/2,z=a.fill,w=a.textR,y=w*Math.cos(v),v=w*Math.sin(v),w=!1,H=2*t,I=t;if(n)var V=mb.getDelegate().getRealFontSize(b),I=I+(0.1*t+1.1*V);this._isRectInsideArc(y,v,H,I)&&(H=n?Math.max(mb.getDelegate().getTextWidth(m,p),mb.getDelegate().getTextWidth(n,b)):mb.getDelegate().getTextWidth(m,p),this._isRectInsideArc(y,v,H,I)&&(w=
!0));w?x=(z||this.getParentBackgroundColor()).toHighContrast(q,s):n=m=void 0}return r.extend(this.getCommonModelProps(),a,{x:0,y:0,startAngle:c,angle:f,lineWidth:e,propertiesByScale:this.getPropertiesByScale(),roundedCornerStart:g,roundedCornerEnd:k,text:m,subText:n,textColor:x,fontSize:p,subTextFontSize:b})},_isRectInsideArc:function(a,b,c,f){a-=c/2;b-=f/2;return this.isUnderCursor(a,b)&&this.isUnderCursor(a+c,b)&&this.isUnderCursor(a+c,b+f)&&this.isUnderCursor(a,b+f)}});var Yo=function(a){function b(){a.apply(this,
arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getStartModelInsert=function(c){var b=this;return c.disableMorphing?a.prototype.getStartModelInsert.call(this,c):r.extend({points_x:this.props.points_x.map(function(a){return a-(a-b.props.centroidX)/4}),points_y:this.props.points_y.map(function(a){return a-(a-b.props.centroidY)/4})},a.prototype.getStartModelInsert.call(this,c))};b.prototype.getEndModelRemove=function(b){var f=this;return b.disableMorphing?
a.prototype.getEndModelRemove.call(this,b):r.extend({points_x:this.props.points_x.map(function(a){return a+1.2*(a-f.props.centroidX)}),points_y:this.props.points_y.map(function(a){return a+1.2*(a-f.props.centroidY)})},a.prototype.getEndModelRemove.call(this,b))};return b}(Wc),xv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getPathProps=function(a,b){var e=b.points_x,g=b.points_y;if(e&&e.length&&
g&&g.length){for(var k=this._getStartIndex(e,g),m=e.length,n=Math.floor(a/m),q=a%m,s=[],p=[],r=0;r<m;++r)var t=(k+r)%m,v=r===m-1?k:(t+1)%m,t=this._sampleLine(e[t],g[t],e[v],g[v],n+(r<q?1:0)),v=t[1],s=s.concat(t[0]),p=p.concat(v);return{animate_points_x:s,animate_points_y:p}}return null};b.prototype._getStartIndex=function(a,b){return 0};b.prototype.getNumVertices=function(){return this.props.points_x&&this.props.points_x.length||-1};return b}(jd(Yo)),Zo=Object.getPrototypeOf(ye.prototype);r.extend(ye.prototype,
{getAnnotationInfo:function(){var a=this.centroid(),b=a[0],a=a[1],c=this.totalTranslation(!0,!0),f=c[1],b=b+c[0],a=a+f;if(c=this.getLayer())if(c=c.getScene())c=c.get("position"),f=c[1],b+=c[0],a+=f;return{positions:[{x:b,y:a,orientations:["right","top","left","bottom"]}],shouldUpdate:!1}},isUnderCursor:function(a,b){var c=!1;if(Zo.isUnderCursor.call(this,a,b)&&2<this._props.points_x.length){var f=this.getRotation();f&&(f=Uc.rotate([a,b],{x:f.x,y:f.y,angle:-f.angle}),a=f[0],b=f[1]);a-=this._props.x;
b-=this._props.y;var f=A.zip(this._props.points_x,this._props.points_y),e=f[f.length-1],g=e[0],k=e[1];f.forEach(function(f){var e=f[0];f=f[1];var q,s,p,r;e>g?(q=g,p=k,s=e,r=f):(q=e,p=f,s=g,r=k);e<a===a<=g&&(b-p)*(s-q)<(r-p)*(a-q)&&(c=!c);g=e;k=f})}return c},toModel:function(){return Zo.toModel.call(this,xv)},getModelProps:function(){var a=this.getRotation(),b=this._props.vertical?{x:["x","points_y"],y:["y","points_x"]}:{x:["x","points_x"],y:["y","points_y"]},c=this.centroid(),f=c[0],c=c[1];return r.extend(this.getCommonModelProps(),
this.applyShapeEffects(),{x:this._props.x,y:this._props.y,centroidX:f,centroidY:c,points_x:this._props.points_x,points_y:this._props.points_y,lineWidth:this._props.lineWidth,closePath:this._props.closePath,propertiesByScale:b,rotation:a,lineJoin:this._props.lineJoin})}});var Hk=null,$o=null,lg=function(){};lg.getInstance=function(){Hk||(Hk=new lg,$o={Arc:jg,Scene:Bc,Cell:sd,Layer:Ka,Line:eb,Point:Pb,Path:Xd,Rect:jc,Text:ya,NumberText:Ne,ShapeGroup:zb,Polygon:ye});return Hk};lg.prototype.fromJson=
function(a,b){void 0===b&&(b=!0);var c=a.type,f=c&&$o[c];if(!f)throw Error("invalid scene node type "+c);return f.fromJson(a,b)};var Ik,ap,Zh=function(){};Zh.getInstance=function(){Ik||(Ik=new Zh,ap={Scene:eg,Cell:eg,Layer:eg,Arc:Xo,Line:Uo,Rect:Go,Point:Vo,Text:zo,NumberText:Wc,Polygon:Yo,Path:Wo});return Ik};Zh.prototype.fromJson=function(a,b){void 0===b&&(b=!0);var c=a&&a.props&&a.props.type,f=c&&ap[c];if(!f)throw Error("invalid scene model node type "+c);return f.fromJson(a,b)};var Hb=function(){this._listeners=
{}};Hb.initClass=function(){this.instance=new Hb};Hb.prototype.on=function(a,b){var c;(c=this._listeners[a])?0>c.indexOf(b)&&c.push(b):this._listeners[a]=[b]};Hb.prototype.off=function(a,b){var c;if(c=this._listeners[a])if(b){var f=c.indexOf(b);0<=f&&(0===f&&1===c.length?delete this._listeners[a]:c.splice(f,1))}else delete this._listeners[a]};Hb.prototype.trigger=function(a){for(var b=this,c=[],f=arguments.length-1;0<f--;)c[f]=arguments[f+1];ta.events&&(c.length?console.info.apply(console,["EventBus::trigger "+
a+", params: "].concat(c)):console.info("EventBus::trigger "+a));(this._listeners[a]||[]).forEach(function(a){return a.apply(b,c)})};Hb.prototype.one=function(a,b){var c=function(){b.apply(this,arguments);return this.off(a,c)}.bind(this);return this.on(a,c)};Hb.initClass();var Dc=function(a){this._initDispatcher(a)};Dc.prototype._initDispatcher=function(a){this._evbase=a+":";this._events={}};Dc.prototype.on=function(a,b){Hb.instance.on(this._evbase+a,b);this._events[a]=!0;return this};Dc.prototype.off=
function(a,b){if(a)Hb.instance.off(this._evbase+a,b),Hb.instance._listeners[this._evbase+a]||delete this._events[a];else{for(var c in this._events)c&&Hb.instance.off(this._evbase+c);this._events={}}return this};Dc.prototype.trigger=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];(f=Hb.instance).trigger.apply(f,[this._evbase+a].concat(b));return this;var f};Dc.prototype.one=function(a,b){Hb.instance.one(this._evbase+a,b);return this};Dc.prototype.mixin=function(a,b){Object.keys(Dc.prototype).forEach(function(b){return a[b]=
Dc.prototype[b]});return a._initDispatcher(b)};var yv=function(a){function b(b){a.call(this,b);this._cache={}}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.add=function(a,b){this._cache[a]=b;1===this.size()&&this.trigger("addFirst",a);this.trigger("add",a);return this};b.prototype.remove=function(a){delete this._cache[a];this.trigger("remove",a);0===this.size()&&this.trigger("removeLast",a);return this};b.prototype.size=function(){return r.size(this._cache)};
b.prototype.get=function(a){return this._cache[a]};b.prototype.forEach=function(a){var b=this;r.keys(this._cache).forEach(function(e){a(e,b._cache[e])});return this};b.prototype.keys=function(){return r.keys(this._cache)};b.prototype.values=function(){return r.values(this._cache)};return b}(Dc),ih={convertShape:function(a){if(!a)return null;var b=a.getInfo();a={key:a.key,type:a.getType()};b&&(a.data=A.deepCopy(b.data));return a},convertBox:function(a){return!a?null:r.pick(a.toAABB(),["x","y","w",
"h","rotation"])},convertTooltipLines:function(a){return a.map(function(a){a=r.extend({},a);a.color&&a.color.toRGBAString&&(a.color=a.color.toRGBAString());null==a.color&&delete a.color;r.isString(a.group)&&(a.group=a.group.split("-").map(function(a){return a.trim()}));return a})}},$d=va.setStyles,zv=va.pageScrollOffset,bp=p.TOOLTIP,cp=bp.DEFAULT_DELAY,dp=bp.INTERACTIVE_TOOLTIP_DELAY,Av=p.LOCALE.DIR.RTL,fa=function(a){void 0===a&&(a=!1);this.allowClose=!0;this.show=this.show.bind(this);this.formatHtmlAndShow=
this.formatHtmlAndShow.bind(this);this.positionAndShow=this.positionAndShow.bind(this);this.removeGlobalEventListeners=this.removeGlobalEventListeners.bind(this);this.addGlobalEventListeners=this.addGlobalEventListeners.bind(this);this._onTouchStart=this._onTouchStart.bind(this);this._onMouseMove=this._onMouseMove.bind(this);this._onTouchMove=this._onTouchMove.bind(this);this.clearTimers=this.clearTimers.bind(this);this.hide=this.hide.bind(this);this._hide=this._hide.bind(this);this._hideAndRemoveTooltip=
this._hideAndRemoveTooltip.bind(this);this.mouseY=this.mouseX=0;(this.isInteractive=a)?(this.showDelay=dp.SHOW,this.hideDelay=dp.HIDE,this.tooltipClass="ng-charthover-interactive",this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this)):(this.showDelay=cp.SHOW,this.hideDelay=cp.HIDE,this.tooltipClass="ng-charthover");this.el=document.createElement("div");this.el.className=this.tooltipClass;this.el.style.display="none";this.content=this.el.appendChild(document.createElement("div"));
this.content.className="content";this._createCloseButton();this.attachEvents();this.theme=nd.getInstance().getDefaultTheme();this.Settings=Db};fa.initClass=function(){this.prototype.el=null;this.prototype.content=null;this.prototype.arrow=null;this.prototype.timerShow=null;this.prototype.timerHide=null;this.prototype.quietModeTimer=null;this.prototype.theme=null};fa.prototype.move=function(a){if("block"===this.el.style.display&&"auto"===this.positions&&this._currentShape===a)return this.positionAndShow()};
fa.prototype.moveTo=function(a,b){this.mouseX=a;this.mouseY=b;return this.move()};fa.prototype.show=function(a,b,c,f,e,g,k){this.offsetX=a;this.offsetY=b;this.positions=c;this.angle=f;null==e&&(e="");this.extraClass=e;k?(this.formatHtmlAndShow(g,!0),this._setCloseButtonVisible()):(this.clearTimers(),this.timerHide=setTimeout(this._hideAndRemoveTooltip,this.hideDelay),this.timerShow=setTimeout(this.formatHtmlAndShow,this.showDelay,g))};fa.prototype.formatHtmlAndShow=function(a){var b=a.lines,c=a.shape,
f=a.tooltipRenderer,e=a.fullText,g=a.canRemoveTooltip;a=a.removeTooltip;this._currentShape=c;this._canRemoveTooltipCallback=g;this._removeTooltipCallback=a;if(e)this.html=this.formatTruncationHtml(e);else if(b&&c&&(this.html=this.formatTooltipHtml(b,c,f),f&&r.isEmpty(this.content.innerHTML)))return;return this.positionAndShow()};fa.prototype.setTheme=function(a){this.theme=a};fa.prototype._createCloseButton=function(){this.closeButton=this.el.appendChild(document.createElement("button"));this.closeButton.className=
"closeButton";this.closeButton.onclick=this._onCloseButtonClicked.bind(this);var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttributeNS(null,"aria-hidden",!0);a.setAttributeNS(null,"viewBox","0 0 52 52");var b=document.createElementNS("http://www.w3.org/2000/svg","path");b.setAttributeNS(null,"d","M31 25.4l13-13.1c.6-.6.6-1.5 0-2.1l-2-2.1c-.6-.6-1.5-.6-2.1 0L26.8 21.2c-.4.4-1 .4-1.4 0L12.3 8c-.6-.6-1.5-.6-2.1 0l-2.1 2.1c-.6.6-.6 1.5 0 2.1l13.1 13.1c.4.4.4 1 0 1.4L8 39.9c-.6.6-.6 1.5 0 2.1l2.1 2.1c.6.6 1.5.6 2.1 0L25.3 31c.4-.4 1-.4 1.4 0l13.1 13.1c.6.6 1.5.6 2.1 0L44 42c.6-.6.6-1.5 0-2.1L31 26.8c-.4-.4-.4-1 0-1.4z");
a.appendChild(b);this.closeButton.appendChild(a);a=this.closeButton.appendChild(document.createElement("span"));a.className="ng-assistiveText";a.innerHTML=W.getLabel("@salesforce/charts","closeTooltip")};fa.prototype._setCloseButtonVisible=function(){$d(this.closeButton,{display:"block"});$d(this.content,{paddingTop:"10px",paddingRight:"10px"})};fa.prototype._positionTooltip=function(a,b,c,f,e,g,k,m){for(var n=new D({x:a,y:b,w:c,h:f,rotation:e}),q=null,s=Number.POSITIVE_INFINITY,p=0;p<g.length;p++){var r=
g[p];a=r[0];f=r[1];r=r[2];f=r=n.clone().offset(f,r).toAABB();c=f.w;f=f.h;var t=b=0;switch(a){case "leftTop":b=10;t=-20;break;case "leftBottom":b=10;t=-(f-20);break;case "rightTop":b=-(c+10);t=-20;break;case "rightBottom":b=-(c+10);t=-(f-20);break;case "topRight":b=-(c-20);t=10;break;case "topLeft":b=-20;t=10;break;case "bottomRight":b=-(c-20);t=-(f+10);break;case "bottomLeft":b=-20,t=-(f+10)}r.offset(b,t);b=r.toAABB();a=b.x;b=b.y;c=0>a?a:a+c>k?a+c-k:0;a=0>b?b:b+f>m?b+f-m:0;b=Math.abs(c)+Math.abs(a);
b<s&&(s=b,q=r.offset(-c,-a));if(0===b)break}g=q;a=g.x;b=g.y;e=e.angle;0!==e&&(0>e?b=b+f-Math.sin(0.5*Math.PI-e)*n.h:a+=Math.sin(e)*n.h);return{x:a,y:b}};fa.prototype.positionAndShow=function(){var a=this.html,b=this.angle,c=this.extraClass,f=this.positions,e=this.offsetX,g=this.offsetY,k="auto"===f,m=b?Math.round(180*b/Math.PI):0,n=window.innerWidth,q=window.innerHeight;k&&(e=this.mouseX,g=this.mouseY,f=this.mouseX>n/2?[["rightTop",-15,0],["rightBottom",-15,0],["leftTop",15,0],["leftBottom",15,0],
["topRight",0,15],["bottomRight",0,-15],["topLeft",0,15],["bottomLeft",0,-15]]:[["leftTop",15,0],["leftBottom",15,0],["rightTop",-15,0],["rightBottom",-15,0],["topLeft",0,15],["bottomRight",0,-15],["topRight",0,15],["bottomLeft",0,-15]]);var s=zv(),k=s.top,s=s.left,e=e-s,g=g-k;this.el.className=c&&""!==c?this.tooltipClass+" "+c:""+this.tooltipClass;$d(this.el,{display:"block"});a&&(this.content.innerHTML=a);b=this._positionTooltip(e,g,this.el.offsetWidth,this.el.offsetHeight,{x:e,y:g,angle:b||0},
f,n,q);a=b.x;b=b.y;f=this.theme.getToolTipBackgroundColor().toRGBAString();e=this.theme.getToolTipTruncationBackgroundColor().toRGBAString();$d(this.el,{left:a+s+"px",top:b+k+"px",transform:"translateZ(0) rotate("+m+"deg)","-webkit-transform":"rotate("+m+"deg)","-ms-transform":"rotate("+m+"deg)",backgroundColor:0<=c.indexOf(" truncation")?e:f})};fa.prototype.isVisible=function(){return"block"===this.el.style.display};fa.prototype.removeGlobalEventListeners=function(){document.body.removeChild(this.el);
this.detachEvents()};fa.prototype.addGlobalEventListeners=function(){document.body.appendChild(this.el);this.attachEvents()};fa.prototype.attachEvents=function(){window.addEventListener("mousemove",this._onMouseMove);window.addEventListener("touchmove",this._onTouchMove);window.addEventListener("touchstart",this._onTouchStart);this.isInteractive?(this.el.addEventListener("mouseenter",this._onMouseEnter),this.el.addEventListener("mouseleave",this._onMouseLeave)):(this.el.addEventListener("mouseleave",
this.hide),this.el.addEventListener("click",this._hide))};fa.prototype.detachEvents=function(){window.removeEventListener("mousemove",this._onMouseMove);window.removeEventListener("touchmove",this._onTouchMove);window.removeEventListener("touchstart",this._onTouchStart);this.isInteractive?(this.el.removeEventListener("mouseenter",this._onMouseEnter),this.el.removeEventListener("mouseleave",this._onMouseLeave)):(this.el.removeEventListener("mouseleave",this.hide),this.el.removeEventListener("click",
this._hide))};fa.prototype._onMouseEnter=function(){this.clearTimers();this.allowClose=!1};fa.prototype._onMouseLeave=function(a){this.isEventFiredByShapeInsideTooltip(a)||(this.allowClose=!0,this._hide())};fa.prototype.quietMode=function(a){this.quietModeTimer&&clearTimeout(this.quietModeTimer);this.detachEvents();return this.quietModeTimer=setTimeout(this.attachEvents.bind(this),a)};fa.prototype._onTouchStart=function(a){if(a=a.touches[0])return this.mouseX=a.pageX,this.mouseY=a.pageY};fa.prototype._onMouseMove=
function(a){this.mouseX=a.pageX;return this.mouseY=a.pageY};fa.prototype._onTouchMove=function(a){if(a=a.touches[0])return this.mouseX=a.pageX,this.mouseY=a.pageY};fa.prototype._onCloseButtonClicked=function(){this._hideAndRemoveTooltip()};fa.prototype.isEventFiredByShapeInsideTooltip=function(a){return a.fromElement&&a.fromElement.className===this.tooltipClass&&("ng-charthover"===a.relatedTarget.className||a.relatedTarget.offsetParent&&a.relatedTarget.offsetParent.className.split(" ").includes("ng-charthover"))};
fa.prototype.clearTimers=function(){this.timerShow&&clearTimeout(this.timerShow);this.timerHide&&clearTimeout(this.timerHide)};fa.prototype.hide=function(){this.allowClose&&(this.clearTimers(),this._hide())};fa.prototype._hide=function(){this._canRemoveTooltipCallback&&!this._canRemoveTooltipCallback()?this._removeInteractiveTooltipInIntervals():this.timerHide=setTimeout(this._hideAndRemoveTooltip,this.hideDelay)};fa.prototype._removeInteractiveTooltipInIntervals=function(){var a=this,b=!1;this.timerHide=
setInterval(function(){b?a._hideAndRemoveTooltip():b=a._canRemoveTooltipCallback()},this.hideDelay)};fa.prototype._hideAndRemoveTooltip=function(){this._currentShape=null;$d(this.closeButton,{display:"none"});$d(this.content,{paddingTop:"0px",paddingRight:"0px"});$d(this.el,{display:"none"});this._removeTooltipCallback&&this._removeTooltipCallback()};fa.prototype.formatTruncationHtml=function(a){return'\x3cdiv class\x3d"truncation-text"\x3e'+qa(a,!0)+"\x3c/div\x3e"};fa.prototype.formatTooltipHtml=
function(a,b,c){var f=this;if(c)return this.content.innerHTML="",(a=c(ih.convertTooltipLines(a),ih.convertShape(b)))&&this.content.appendChild(a),null;var e=this.theme.getToolTipLabelColor().toRGBAString(),g=this.theme.getToolTipValueColor().toRGBAString(),k=[],m=[],n="";a.forEach(function(a){var b=a.label,c=a.value,p=a.color,t=a.percentData;a=a.type;p instanceof E&&(p=p.toRGBAString());var r="text"!==a&&p?12:0,z=f.Settings.isRTL(),w=z?"padding-right":"padding-left",y="text"===a&&p?p:e,b=b?"\x3clabel style\x3d'color:"+
y+";"+w+":"+r+"px;'\x3e"+qa(b,!0)+"\x3c/label\x3e":"",p=p?"\x3cspan class\x3d'marking' style\x3d'background-color:"+p+"; height:"+("measure"!==a&&b?36:18)+"px;'\x3e\x3c/span\x3e":"",c="\x3clabel class\x3d'value' style\x3d'color:"+g+";"+w+":"+r+"px;'\x3e"+qa(c,!0)+"\x3c/label\x3e",r="";null!=t&&(r=t.group,r="\x3csmall style\x3d'color:"+e+";'\x3e"+qa(" ("+W.getLabel("@salesforce/charts",r?"percentTooltipWithGroup":"percentTooltip",[t.percent,t.total,r])+")",!0)+"\x3c/small\x3e");t=z?Av:"";switch(a){case "measure":m.push('\x3ctr\x3e\x3ctd class\x3d"'+
t+'"\x3e'+p+'\x3c/td\x3e\x3ctd class\x3d"'+t+'"\x3e'+b+'\x3c/td\x3e\x3ctd class\x3d"valueCell '+t+'"\x3e'+c+r+"\x3c/td\x3e\x3c/tr\x3e");break;case "text":n="\x3cdiv class\x3d'line dimension'\x3e"+b+"\x3c/div\x3e";break;default:k.push("\x3cdiv class\x3d'line dimension'\x3e"+p+b+c+"\x3c/div\x3e")}});k=k.join("");m=m.length?"\x3ctable class\x3d'line measure'\x3e"+m.join("")+"\x3c/table\x3e":"";return[n,k,k&&m?"\x3chr class\x3d'ng-separator-line'\x3e":"",m].join("")};fa.initClass();var Pe=function(a){var b=
a.geojson;this.url=a.url;this.geojson=b;this._isValid=!0;try{this.forEachFeature(function(a){var b=a.id,c=a.properties;null==b&&(b=null!=c?c.name:void 0);if(null!=b)return a.id=""+b}),this.boundingBox=this._computeBoundingBox(),this._computeCentroids()}catch(c){this._isValid=!1}};Pe.prototype.getFeatureKeys=function(a){var b=this;void 0===a&&(a="properties.name");if(!this._featureKeys){this._featureKeys=[];var c=la.getDotAccessorFct(a);this.forEachFeature(function(a){var e=a.id;a=c(a);e&&b._featureKeys.push(e.toLowerCase());
a&&b._featureKeys.push(a.toLowerCase())})}return this._featureKeys};Pe.prototype._computeCentroids=function(){this.forEachFeature(function(a){var b=a.geometry,c=b.coordinates;switch(b.type){case "Polygon":return a.geometry.centroid=Uc.centroid(c[0]);case "MultiPolygon":return a.geometry.centroid=Uc.multiPolygonCentroid(c)}})};Pe.prototype._computeBoundingBox=function(){var a=Infinity,b=Infinity,c=-Infinity,f=-Infinity,e=function(e){var g=e[0];e=e[1];g<a&&(a=g);g>c&&(c=g);e<b&&(b=e);e>f&&(f=e)},g=
function(a){return a[0].map(e)};this.forEachFeature(function(a){a=a.geometry;var b=a.coordinates;switch(a.type){case "Polygon":return g(b);case "MultiPolygon":return b.map(g)}});return{x:a,y:b,w:c-a,h:f-b}};Pe.prototype.forEachFeature=function(a){var b=0;this.geojson.features.forEach(function(c){c&&c.geometry&&a(c,b++)})};Pe.prototype.isValid=function(){return this._isValid};var Bv=function(a){return Qa.getDelegate().require(a).then(function(a){return JSON.parse(a)})},$h=function(a,b){this._cache=
{};this._name=a;this._getInstance=b;this._pendingPromises={}};$h.prototype.get=function(a){var b=this._cache[a];if(b)return b;throw Error(name+"::get invalid url "+a);};$h.prototype.load=function(a,b){var c=this,f,e,g=this._pendingPromises;null==b&&(b=Bv);if(this._cache[a])return f=this._cache[a],Promise.resolve(f);if(this._pendingPromises[a])return e=this._pendingPromises[a];ta.scripts&&console.debug(name+":: loading "+a);g[a]=b(a).then(function(b){f=c._getInstance(a,b);c._cache[a]=f;delete g[a];
return f}).catch(function(b){delete g[a];throw b;});return g[a]};var ep=new $h("Geometry",function(a,b){return new Pe({url:a,geojson:b})}),ai={},ua=function(a){var b=a.geoJson,c=a.boundingBox,f=a.projection,e=a.metadata,g=a.skipRegistration;this.name=a.name;this.geoJson=b;this.projection=f||"Equirectangular";this._isValidBoundingBox(c)&&(this.boundingBox=new D(c));this._metadata=e;this.setBoundingBox(c);this.size=null;g||this._registerWithCache()};ua.prototype.isZoomable=function(){return!1};ua.prototype.setSize=
function(a){this.size=a;return this};ua.prototype.getName=function(){return this.name};ua.prototype.getGeoJson=function(){return this.geoJson};ua.prototype.getMetadata=function(){return this._metadata};ua.prototype.getProjection=function(){return this.projection};ua.prototype.setProjection=function(a){a&&(this.projection=a);return this};ua.prototype.getBoundingBox=function(){if(null!=this.boundingBox){var a=this.boundingBox.toJson(),b=a.x,c=a.y;return{left:b,right:b+a.w,top:c+a.h,bottom:c}}return null};
ua.prototype.setBoundingBox=function(a){this.boundingBox=a?new D(a):null;return this};ua.prototype.toJson=function(){var a;if(null!=this.boundingBox){a=this.boundingBox.toJson();var b=a.x,c=a.y;a={left:b,right:b+a.w,top:c+a.h,bottom:c}}return{name:this.name,projection:this.projection,metadata:this._metadata,geoJson:this.geoJson,boundingBox:a}};ua.prototype.clone=function(){var a=this.toJson();a.skipRegistration=!0;return new ua(a)};ua.prototype._isValidBoundingBox=function(a){return a&&(null!=a.left&&
null!=a.right&&null!=a.top&&null!=a.bottom||null!=a.x&&null!=a.y&&null!=a.w&&null!=a.h)};ua.prototype._registerWithCache=function(){ta.scripts&&console.debug("GeoMap:: registering "+this.name+" with cache");ai[this.name]=this};ua.prototype.isValid=function(){return this.getGeometry().isValid()};ua.prototype.getGeometry=function(){return ep.get(this.geoJson.url)};ua.prototype.load=function(){var a=this;return ep.load(this.geoJson.url,this.geoJson.data?function(){return Promise.resolve(a.geoJson.data)}:
this.geoJson.loader)};ua.get=function(a){var b=ai[a];if(b)return b.clone();console.warn("GeoMap::get: invalid map name "+a);return null};ua.delete=function(a){var b=ua.get(a);null!=b&&delete ai[a];return b};ua.getMaps=function(){return r.values(ai)};var Ld={release:"216",version:"44.0"},fp=function(){};fp.prototype.getChartPromise=function(a,b,c,f,e,g){var k=Bj(a,b,c,f,e,g);return k.hasRows(c)?k.hasMeasures(c)?k.isTrellis()?Rc.getModule("sfdc-trellis-chart",Ld.version).then(function(a){return Bj(a,
b,c,k)}):Promise.resolve(k):Pm(c,b,"noValues"):Pm(c,b,"noData")};var Cv=oa(fp),Dv={"http://salesforce.com/charts/schema/core/definitions#/definitions/map":function(a,b){var c=ua.get(b[a]);return null!=c?c.load():void 0},"http://salesforce.com/charts/schema/core/definitions#/definitions/theme":function(a,b){var c=b[a],f;"string"===typeof c?f=c:c&&c.base&&(f=c.base);return f?nd.getInstance().registerTheme(f).catch(function(){}):Promise.resolve(null)}},Ev=function(a,b){var c=b.schema,f=r.extend({},c&&
c.$merge&&c.$merge.with.properties);f.theme={$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/theme"};var e=[];r.keys(f).forEach(function(b){var c;if(c=Dv[f[b].$ref])(b=c(b,a))&&e.push(b)});return e.length?Promise.all(e):Promise.resolve()},gp=function(){};gp.prototype.renderChart=function(a){var b=a.module,c=a.config,f=a.rows,e=a.rowsMetadata,g=a.props,k=a.delegate,m=a.context,n=a.runtimeChart;a=b.getMetadata()||{};var q=b.moduleLoader;return Ev(c,a).then(function(){q&&!q.isTrusted()&&
(c=q.evaluate(JSON.stringify(c)),f=q.evaluate(JSON.stringify(f)),e=q.evaluate(JSON.stringify(e)),g=q.evaluate(JSON.stringify(g)),m=k=null);return Cv.getInstance().getChartPromise(b,c,f,e,g,k)}).then(function(a){return new Promise(function(b,c){P.setInstance(new P({name:"script"}));P.getInstance().start();try{n&&n.remove(m,a);var f=a.render(m);return b({chart:a,scene:f,scriptPerf:P.getInstance().toJson(),moduleLoader:q})}catch(e){return P.getInstance().end(),c(e)}})})};var Fv={registerDefaultMaps:function(a,
b){var c=null!=b.prefix?b.prefix:"",f=b.geoJsonLoader;!r.isEmpty(c.length)&&"/"!==c[c.length-1]&&(c+="/");var e={url:c+"geojson/sfdc/world-countries.geo.json",loader:f,metadata:{id:r.uniqueId()}};return[{name:"US States",geoJson:{url:c+"geojson/sfdc/us-states.geo.json",loader:f,metadata:{id:r.uniqueId()}},projection:"AlbersUSA"},{name:"World Countries"},{name:"Americas",boundingBox:{left:-170,bottom:-59,right:-32,top:72}},{name:"North America",boundingBox:{left:-170.2,bottom:6,right:-32,top:72}},
{name:"South America",boundingBox:{left:-83.5,bottom:-56.15,right:-32,top:14}},{name:"Central America",boundingBox:{left:-93,bottom:7,right:-76,top:18.8}},{name:"Caribbean",boundingBox:{left:-86,bottom:17,right:-64,top:27.5}},{name:"Europe",boundingBox:{left:-10.5,bottom:34,right:46.5,top:72}},{name:"Eastern Europe",boundingBox:{left:17,bottom:41.19,right:55,top:72}},{name:"Northern Europe",boundingBox:{left:-26.26,bottom:54,right:34.8,top:72}},{name:"Southern Europe",boundingBox:{left:-10,bottom:35,
right:29.65,top:48}},{name:"Western Europe",boundingBox:{left:-10.5,bottom:42,right:10,top:59}},{name:"Central Europe",boundingBox:{left:5.87,bottom:45.42,right:24.15,top:55.08}},{name:"Scandanavia",boundingBox:{left:4.06,bottom:54.43,right:31.59,top:71.31}},{name:"Asia",boundingBox:{left:25,bottom:-14.5,right:180,top:78}},{name:"South Asia",boundingBox:{left:60,bottom:5,right:98,top:38.5}},{name:"South East Asia",boundingBox:{left:91.5,bottom:-11.5,right:142,top:29}},{name:"East Asia",boundingBox:{left:73.5,
bottom:18,right:153.99,top:53.56}},{name:"Australasia",boundingBox:{left:112,bottom:-48,right:180,top:0}},{name:"Africa",boundingBox:{left:-18,bottom:-35.5,right:52,top:38}},{name:"East Africa",boundingBox:{left:21,bottom:-27.5,right:52,top:18.5}},{name:"Middle Africa",boundingBox:{left:7.5,bottom:-18.5,right:31.75,top:24}},{name:"North Africa",boundingBox:{left:-17.5,bottom:8,right:39.5,top:37.5}},{name:"Southern Africa",boundingBox:{left:11,bottom:-35.5,right:33.5,top:-16}},{name:"Western Africa",
boundingBox:{left:-18,bottom:3.5,right:16.5,top:28}},{name:"EMEA",boundingBox:{left:-25,bottom:-36,right:61,top:71.5}},{name:"APAC",boundingBox:{left:60,bottom:-48,right:180,top:54.5}},{name:"World(zoomable)",zoomable:!0,level:"admin-0",lookupUrl:c+"zoomableLookup/a0.json"},{name:"US States(zoomable)",zoomable:!0,level:"admin-1",lookupUrl:c+"zoomableLookup/a1/US.json",boundingBox:{left:-160.2,bottom:36,right:-52,top:52}}].map(function(b){r.defaults(b,{projection:"Mercator",geoJson:e,loader:f});b.metadata=
{id:r.uniqueId(),name:b.name,label:W.getLabel("@salesforce/charts",b.name.replace(/ /g,"_"))};return a.registerMap(b)})}},hp=new $h("LookupTable",function(a,b){return b}),Gv=function(a){function b(b){var f=b.level,e=b.lookupUrl,g=b.loader;a.call(this,{name:b.name,lookupUrl:e,boundingBox:b.boundingBox,metadata:b.metadata,skipRegistration:b.skipRegistration});this._loader=g;this._lookupUrl=e;this._level=f;this._division=f.split("-")[0];this._grain=f.slice(-1)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.isZoomable=function(){return!0};b.prototype.getSourceUrl=function(){return"mapbox://mapbox.enterprise-boundaries-"+this._division[0]+this._grain+"-v1"};b.prototype.getBoundariesSourceLayer=function(){return"boundaries_"+this._division+"_"+this._grain};b.prototype.getPointsSourceLayer=function(){return"points_"+this._division+"_"+this._grain};b.prototype.getLookupTable=function(){return hp.get(this._lookupUrl)};b.prototype.load=function(){return hp.load(this._lookupUrl,
this._loader)};b.prototype.toJson=function(){var b=a.prototype.toJson.call(this);b.level=this._level;b.lookupUrl=this._lookupUrl;return b};b.prototype.clone=function(){var a=this.toJson();a.skipRegistration=!0;return new b(a)};b.prototype.isValid=function(){return null!==this._lookupUrl};return b}(ua),xa=function(a,b,c){this._eventDelegate=b;this._sceneProcessors=a;this._runtimeChart=c};xa.prototype.resetAll=function(){this.resetKeyFct();this.resetSelection();this.resetRows();return this};xa.prototype.resetKeyFct=
function(){this._keyTransform=this._legendKeyFct=this._keyFct=null;return this};xa.prototype.resetSelection=function(){this._selection=[];this._selectionKeys=[];return this};xa.prototype.resetRows=function(a){this._rows=a;this._rowsMap=null;return this};xa.prototype.update=function(a,b,c,f,e){void 0===e&&(e="none");this.resetSelection();a!==this._rows&&this.resetRows(a);this.resetKeyFct();if(e===p.SELECTMODE.NONE)return this;this._keyTransform=f;this._keyFct=b;this._legendKeyFct=c;return this};xa.prototype.getSelection=
function(){return this._selection};xa.prototype.getLegacySelection=function(){return this._selectionKeys.map(function(a){var b=la.parseValue(a);Array.isArray(b)&&(a=JSON.stringify(b.filter(function(a){return null!==a})));return a})};xa.prototype.onSelect=function(a,b,c,f){"main"===a?this._onMainChartSelect(b,c,f):this._onLegendSelect(b,c,f)};xa.prototype.setSelection=function(a,b){var c=this;void 0===b&&(b={skipRender:!1,silent:!1});if(this._keyFct){a=a?a:[];this._keyTransform&&(a=a.map(function(a){return c._keyTransform(r.clone(a))}));
var f=a.map(this._keyFct).sort();if(this._hasSelectionChanged(f)){var e=b||{},g=e.skipRender;void 0===g&&(g=!1);e=e.silent;void 0===e&&(e=!1);this._mainChartHandleSelection("setSelection",f,a,{skipRender:g});this._legendKeyFct&&this._setLegendSelection(f);this._updateSelection(f,e)}}};xa.prototype.moveSelection=function(a,b){void 0===b&&(b={skipRender:!1,silent:!1});if(this._keyFct&&!(1<this._selection.length)){var c=this.getSelection()[0];c?(this._keyTransform&&(c=this._keyTransform(r.clone(c))),
a+=this._rowsMap[this._keyFct(c)].index):0<a&&a--;a=(a%this._rows.length+this._rows.length)%this._rows.length;this.setSelection([this._rows[a]],b)}};xa.prototype._hasSelectionChanged=function(a){return!A.deepEqual(this._selectionKeys,a)};xa.prototype._updateSelection=function(a,b){var c=this;this._selectionKeys=a.slice();this._selection=r.filter(this._selectionKeys.map(function(a){(a=c._getRowByKey(a))&&(a=Da.getRowWithoutInternalValue(a));return a}));b||this._eventDelegate.trigger(p.EVENT_NAME.SELECTION_CHANGED,
this.getSelection());b||this._eventDelegate.trigger(p.UNDOCUMENTED_EVENTS.LEGACY_SELECTION_CHANGED,this.getLegacySelection())};xa.prototype._onMainChartSelect=function(a,b,c){this._keyFct&&this._hasSelectionChanged(c)&&(this._legendKeyFct&&this._setLegendSelection(c),this._updateSelection(c))};xa.prototype._onLegendSelect=function(a,b,c){if(this._keyFct&&this._legendKeyFct&&this._rows){if(c.length){if(!b)return;var f=b.substring(0,b.indexOf("/"));c=this._keyFct;var e=this._legendKeyFct[f];if(!e)return;
f=this._rows;if(a===p.SELECT_ACTION.SELECT)a=f.filter(function(a){return e(a)===b}).map(c),this._mainChartHandleSelection("select",a);else if(a===p.SELECT_ACTION.UNSELECT&&this._selectionKeys){a=[];for(c=0;c<this._selectionKeys.length;c++){var f=this._selectionKeys[c],g=this._getRowByKey(f);g&&e(g)===b&&a.push(f)}this._mainChartHandleSelection("unselect",a)}a=this._mainChartHandleSelection("getSelection");this._setLegendSelection(a)}else this._mainChartHandleSelection("setSelection",[]);a=this._mainChartHandleSelection("getSelection");
this._hasSelectionChanged(a)&&this._updateSelection(a)}};xa.prototype._mainChartHandleSelection=function(a,b,c,f){return this._runtimeChart&&this._runtimeChart[a]?this._runtimeChart[a](b,c):this._sceneProcessors.main[a](b,f)};xa.prototype._chart2LegendKeysMap=function(a){var b=this,c={};a.forEach(function(a){if(a=b._getRowByKey(a))for(var f in b._legendKeyFct)if(b._legendKeyFct[f]){var k=b._legendKeyFct[f];c[f]||(c[f]=[]);c[f].push(k(a))}});for(var f in c)c[f]&&(c[f]=A.uniq(r.filter(c[f],function(a){return null!==
a})));return c};xa.prototype._flatLegendKeysMap=function(a){var b=[],c;for(c in a)a[c]&&a[c].forEach(function(a){return b.push(a)});return b};xa.prototype._setLegendSelection=function(a){a=this._chart2LegendKeysMap(a);a=this._flatLegendKeysMap(a);this._sceneProcessors.legend.setSelection(a)};xa.prototype._buildRowsMap=function(){if(!(null!=this._rowsMap||!this._rows||!this._keyFct)){this._rowsMap={};for(var a=0;a<this._rows.length;a++){var b=this._rows[a];this._rowsMap[this._keyFct(b)]={row:b,index:a}}}};
xa.prototype._getRowByKey=function(a){this._buildRowsMap();if(this._rowsMap&&this._rowsMap[a])return this._rowsMap[a].row};var Hv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setSelection=function(a,b){void 0===b&&(b={});if(this._keyFct&&(a=a?a:[],this._hasSelectionChanged(a))){var e=b.silent;this._sceneProcessors.main.setSelection(a,{skipRender:b.skipRender});this._updateSelection(a,e)}};b.prototype._hasSelectionChanged=
function(a){return!A.deepEqual(this._selection,a)};b.prototype._updateSelection=function(a,b){this._selection=a;b||this._eventDelegate.trigger(p.EVENT_NAME.SELECTION_CHANGED,this.getSelection())};b.prototype._onMainChartSelect=function(a,b,e){this._hasSelectionChanged(e)&&this._updateSelection(e)};b.prototype._onLegendSelect=function(a,b,e){};return b}(xa),Iv=p.SELECTMODE,Jv=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];c=xa;switch(a){case Iv.RANGE:c=Hv;break;default:c=
xa}return new (Function.prototype.bind.apply(c,[null].concat(b)))},Ha=function(a,b){this._eventDelegate=b;this._sceneProcessors=a;for(var c in this._sceneProcessors)this._sceneProcessors[c]&&this._sceneProcessors[c].setChartDelegate(this._getChartDelegate(c))};Ha.prototype.onNewScenes=function(a,b,c,f){for(var e in this._sceneProcessors)this._sceneProcessors[e]&&this._sceneProcessors[e].setScene(a[e]);var g=a.main;g?(b=g.get("selectMode"),e=g.get("selectionKeyFct"),a=a.legend&&a.legend.get("selectionKeyFct"),
g=g.get("keyTransform"),this._rowsSelector=Jv(b,this._sceneProcessors,this._eventDelegate,f),this._rowsSelector.update(c,e,a,g,b)):this._rowsSelector&&this._rowsSelector.resetAll();return this};Ha.prototype.isInViewport=function(a){return this._sceneProcessors.main.isInViewport(a)};Ha.prototype.screenshot=function(a,b){var c=this;return!Cc.inBrowser()?Promise.resolve(null):new Promise(function(f,e){var g=b[0],k=b[1],m=null!=a?a:document.createElement("canvas"),n=window.testDevicePixelRatio||window.devicePixelRatio||
1;a||(m.width=g,m.height=k);var q=c._sceneProcessors.main.screenshot(),s=c._sceneProcessors.legend.screenshot(),p=m.getContext("2d");p&&1!==n&&p.scale(1/n,1/n);if(p&&q){var r=q.left,t=q.top,n=q.src;p.clearRect(r,t,g,k);var v=new Image,z=!1;v.onload=function(){z&&s?(p.drawImage(v,s.left,s.top),f({screenshot:m.toDataURL(),size:[m.width,m.height]})):(p.drawImage(v,r,t),null!=s?(v.src=s.src,z=!0):f({screenshot:m.toDataURL(),size:[m.width,m.height]}))};v.src=n}})};Ha.prototype.getAutoFitRatio=function(){return this._sceneProcessors.main.getAutoFitRatio()};
Ha.prototype.startInteraction=function(){this._sceneProcessors.main.startInteraction();this._sceneProcessors.legend.startInteraction();return this};Ha.prototype.stopInteraction=function(){this._sceneProcessors.main.stopInteraction();this._sceneProcessors.legend.stopInteraction();return this};Ha.prototype.setSelection=function(a,b){void 0===b&&(b={});this._rowsSelector&&this._rowsSelector.setSelection(a,b);return this};Ha.prototype.moveSelection=function(a,b){void 0===b&&(b={});this._rowsSelector&&
this._rowsSelector.moveSelection(a,b);return this};Ha.prototype.getSelection=function(){return this._rowsSelector?this._rowsSelector.getSelection():[]};Ha.prototype.setAnnotations=function(a){this._sceneProcessors.main.setAnnotations(a);return this};Ha.prototype.getAnnotations=function(){return this._sceneProcessors.main.getAnnotations()};Ha.prototype._getChartDelegate=function(a){var b=this;return{onSelect:function(c,f,e){return b._onSelect(a,c,f,e)},onShowTable:this._eventDelegate.onShowTable.bind(this._eventDelegate),
onEvent:function(c,f){return b._onChartEvent(a,c,f)}}};Ha.prototype._onSelect=function(a,b,c,f){if(this._rowsSelector)this._rowsSelector.onSelect(a,b,c,f)};Ha.prototype._onChartEvent=function(a,b){for(var c=[],f=arguments.length-2;0<f--;)c[f]=arguments[f+2];(e=this._eventDelegate).trigger.apply(e,["main"===a?b:a+"::"+b].concat(c));var e};Ha.prototype.scrollTo=function(a,b,c){void 0===c&&(c=0);var f=[this._sceneProcessors.main,this._sceneProcessors.legend].filter(function(a){return a}).map(function(f){return f.scrollTo(a,
b,c)});return f.length?Promise.all(f):Promise.resolve(new P)};Ha.prototype.isRemoved=function(){return this._sceneProcessors.main.isRemoved()||this._sceneProcessors.legend.isRemoved()};Ha.prototype.toggleAccessibility=function(a){this._sceneProcessors.main.toggleAccessibility(a)};Ha.prototype.showTooltip=function(){this._sceneProcessors.main.hideTooltip();return this};Ha.prototype.hideTooltip=function(){this._sceneProcessors.main.hideTooltip();return this};Ha.prototype.renderAccessibilityTable=function(a){this._sceneProcessors.main.renderAccessibilityTable(a);
return this};Ha.prototype.updateAccessibilityDataItems=function(a){this._sceneProcessors.main.updateAccessibilityDataItems();return this};var Ec=function(a){var b=a.name,c=a.scene,f=a.options;a=a.interrupt;void 0===a&&(a=!1);this._name=b;this._scene=c;this._options=f;this._interrupt=a;this._isRunning=!1;this._perf=(new P({name:"animate"})).start();this._def=new Ph};Ec.prototype.getScene=function(){return this._scene};Ec.prototype.getOptions=function(){return this._options};Ec.prototype.getPromise=
function(){return this._def.promise};Ec.prototype.isInterrupt=function(){return this._interrupt};Ec.prototype.isRunning=function(){return this._isRunning};Ec.prototype.defer=function(){ta.animation&&console.log(this._name+"  - defer");this._perf.mark("defer");return this};Ec.prototype.start=function(){ta.animation&&console.log(this._name+"  - start");this._isRunning=!0;this._perf.endMark("defer");return this};Ec.prototype.end=function(a){ta.animation&&console.log(this._name+"  - end");a&&this._perf.merge(a.toJson());
this._perf.endMark("defer");this._perf.end();this._isRunning=!1;this._done();return this};Ec.prototype._done=function(){this._def.resolve(this._perf);return this};var ae=function(a){this._delegate=a;this._deferredAnim=this._currentAnim=null};ae.prototype.reset=function(){return this._resetDeferredAnim()};ae.prototype.run=function(a){a.isInterrupt()&&(this._resetDeferredAnim(),this._resetCurrentAnim());null!=this._currentAnim&&this._currentAnim.isRunning()?this._defer(a):this._run(a);return this};
ae.prototype._run=function(a){var b=this;this._currentAnim=a;this._delegate.runAnimation(a);a.getPromise().then(function(){b._currentAnim=null;if(b._deferredAnim)return b._run(b._deferredAnim),b._deferredAnim=null});return this};ae.prototype._defer=function(a){var b=this._deferredAnim?this._deferredAnim.getOptions().duration:0,c=a.getOptions();c.duration=Math.max(c.duration,b);this._resetDeferredAnim();this._delegate.deferAnimation(a);this._deferredAnim=a;return this};ae.prototype._resetCurrentAnim=
function(){if(!this._currentAnim)return this;this._delegate.cancelAnimation(this._currentAnim);this._currentAnim=null;return this};ae.prototype._resetDeferredAnim=function(){if(!this._deferredAnim)return this;this._delegate.cancelAnimation(this._deferredAnim);this._deferredAnim=null;return this};var ga=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];this._actors=a};ga.prototype.trigger=function(a){return this._delegate(a)};ga.prototype._delegate=function(a){for(var b=0,c=this._actors.length;b<
c;++b)a=this._actors[b](a);return a};var ba=function(a,b){this._actions=a;this._type=b};ba.prototype.addAction=function(a){this._actions.push(a);return this};ba.prototype.onMouseUp=function(a){return this._delegate("onMouseUp",a)};ba.prototype.onMouseDown=function(a){return this._delegate("onMouseDown",a)};ba.prototype.onMouseClick=function(a){return this._delegate("onMouseClick",a)};ba.prototype.onMouseMove=function(a){return this._delegate("onMouseMove",a)};ba.prototype.onMouseLeave=function(a){return this._delegate("onMouseLeave",
a)};ba.prototype.onMouseEnterShape=function(a){return this._delegate("onMouseEnterShape",a)};ba.prototype.onMouseLeaveShape=function(a){return this._delegate("onMouseLeaveShape",a)};ba.prototype.onKeyDown=function(a){return this._delegate("onKeyDown",a)};ba.prototype.onKeyUp=function(a){return this._delegate("onKeyUp",a)};ba.prototype.onScroll=function(a){return this._delegate("onScroll",a)};ba.prototype.onSelect=function(a){return this._delegate("onSelect",a)};ba.prototype._delegate=function(a,b){for(var c=
b,f=0;f<this._actions.length;++f)var e=this._actions[f],c=e[a].call(e,r.extend({},b,{states:c.states||[]}));return c};var bb=function(a){this._enterActor=a.enter;this._updateActor=a.update;this._leaveActor=a.leave};bb.prototype.onMouseUp=function(a){return a};bb.prototype.onMouseDown=function(a){return a};bb.prototype.onMouseClick=function(a){return a};bb.prototype.onMouseMove=function(a){return a};bb.prototype.onMouseLeave=function(a){return a};bb.prototype.onMouseEnterShape=function(a){return a};
bb.prototype.onMouseLeaveShape=function(a){return a};bb.prototype.onKeyDown=function(a){return a};bb.prototype.onKeyUp=function(a){return a};bb.prototype.onScroll=function(a){return a};bb.prototype.onSelect=function(a){return a};var Xb=function(a){function b(b){a.call(this,b)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onMouseDown=function(a){this._startPos=a.pointerPosition;return a};b.prototype.onMouseUp=function(a){var b=a.pointerPosition;
if(b&&this._startPos){var e=this._startPos,g=e[1],k=b[1];if(e[0]===b[0]&&g===k&&this._updateActor)return this._updateActor.trigger(a)}this._startPos=null;return a};return b}(bb),be=function(a){var b=a.initial,c=a.events;this.states=a.states;this.events=c;null==this.events&&(this.events={});null==this.states&&(this.states={});this._currentState=b};be.initClass=function(){this.prototype._currentState=null};be.prototype.transition=function(a,b,c){if("function"===typeof this.states[this._currentState].onLeave)this.states[this._currentState].onLeave(a,
b,c);var f=this._currentState;this._currentState=a;return"function"===typeof this.states[a].onEnter?this.states[a].onEnter(f,b,c):void 0};be.prototype.onEvent=function(a,b){var c=this.states[this._currentState].events[a];if(c)return null!=this.events[a]&&null!=this.events[a].beforeTransition&&this.events[a].beforeTransition(b),c=this.transition(c,a,b),null!=this.events[a]&&null!=this.events[a].afterTransition&&this.events[a].afterTransition(b),c};be.prototype.getState=function(){return this._currentState};
be.initClass();var bi=function(a){function b(b){a.call(this,b);this._setupState();this._trace=[]}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onMouseDown=function(a){return a.pointerPosition?this._stateMachine.onEvent("pointerDown",a)||a:a};b.prototype.onMouseUp=function(a){return this._stateMachine.onEvent("pointerUp",a)||a};b.prototype.onMouseMove=function(a){return a.pointerPosition?this._stateMachine.onEvent("pointerMove",a)||a:a};b.prototype.onMouseLeave=
function(a){return this._reset("","onMouseLeave",a)};b.prototype._anchor=function(a,b,e){if(a=e.pointerPosition)this._dragStart=a;return e};b.prototype._reset=function(a,b,e){this._dragStart=null;this._trace=[];return this._leaveActor?this._leaveActor.trigger(e):e};b.prototype._update=function(a,b,e){a=e.pointerPosition;b=this._dragStart;if(a&&b){this._trace.push(a);if(1===this._trace.length&&this._enterActor)return this._enterActor.trigger(r.extend({},e,{pointerTrace:[this._dragStart].concat(this._trace)}));
if(this._updateActor)return this._updateActor.trigger(r.extend({},e,{pointerTrace:[this._dragStart].concat(this._trace)}))}return e};b.prototype._setupState=function(){var a,b,e,g;this._stateMachine=new be({initial:"inactive",states:(g={},g.inactive={onEnter:this._reset.bind(this),events:(a={},a.pointerDown="dragstart",a)},g.dragstart={onEnter:this._anchor.bind(this),events:(b={},b.pointerUp="inactive",b.pointerMove="dragselecting",b)},g.dragselecting={onEnter:this._update.bind(this),events:(e={},
e.pointerUp="inactive",e.pointerMove="dragselecting",e)},g)})};return b}(bb),Kv=function(a){function b(b){a.call(this,b)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onMouseEnterShape=function(a){return this._enterActor?this._enterActor.trigger(a):a};b.prototype.onMouseLeaveShape=function(a){return this._leaveActor?this._leaveActor.trigger(a):a};return b}(bb),ip=function(a){function b(b){a.call(this,b)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.onMouseMove=function(a){return this._updateActor?this._updateActor.trigger(a):a};return b}(bb),mg=function(a){function b(b){a.call(this,b)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onSelect=function(a){return this._updateActor?this._updateActor.trigger(a):a};return b}(bb),jp=function(a){function b(b){a.call(this,b)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=
b;b.prototype.onKeyDown=function(a){return this._updateActor?this._updateActor.trigger(a):a};return b}(bb),kp=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.onKeyDown=function(a){var b=a.activeKeys;return b&&0<=b.indexOf(p.KEYBOARD_KEY.TAB)&&this._updateActor?this._updateActor.trigger(a):a};return b}(jp),Lv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.onKeyDown=function(a){var b=a.activeKeys;return b&&b.includes(p.KEYBOARD_KEY.SPACE)&&this._updateActor?this._updateActor.trigger(a):a};return b}(jp),Fc=function(a){this._sceneInteractionManagerDelegate=a},Mv=function(a){function b(b){a.call(this,b);this.type="annotation";this._annotationMap={};this._setScene(b.getScene())}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.reset=function(){var a=this;
Object.keys(this._annotationMap).forEach(function(b){a._annotationMap[b].remove()})};b.prototype._setScene=function(a){if(!a)return this;this._scene=a;this._keyTransform=a.get("keyTransform");this._keyFct=a.get("selectionKeyFct");this._dataFormatter=this._scene.get("dataFormatter");this._theme=this._scene.get("config").theme;return this};b.prototype._setAnnotation=function(a){void 0===a&&(a={});if(this._scene&&a.row){var b=a.row,e=a.measure;void 0===e&&(e="");a=a.properties;void 0===a&&(a={});var b=
this._transformRow(b),g=this._keyFct(b||{}),g=this._scene.find({key:g}),g=this._findShape(g,e),b=this._getAnnotationKey({row:b,measure:e});if(g&&g.get("data")){if(!this._annotationMap[b]){var k=this._sceneInteractionManagerDelegate.getAnnotation();if(!k)return;this._annotationMap[b]=k.setPadding(this._sceneInteractionManagerDelegate.getPadding())}var m=g.getAnnotationInfo(),k=m.positions,m=m.shouldUpdate,n=(this._scene.getChildByKey("content")||this._scene.getChildByKey("plot")||g.getParent().getCell()).getModelProps(),
q=n.tx,s=n.ty,p=n.w,n=n.h,r=Da.getRowWithoutInternalValue(g.get("data").row),t={column:a.column};Wb.hydrateConfigSection(t,this._dataFormatter.getRowsMetadata());this._annotationMap[b].setViewPort({x:q,y:s,w:p,h:n}).setData({row:r,measure:e}).setDefaultVisibility(a.defaultShow).setShouldUpdate(m).setPositions(k).setBackgroundColor(a.backgroundColor).setBorderColor(a.borderColor).setContent(t.column,a.text,this._theme,this._dataFormatter).setShapeBox(g.getTranslatedBox()).setIsBlinking(a.isBlinking).positionAndShow()}else this._annotationMap[b]&&
(this._annotationMap[b].remove(),delete this._annotationMap[b])}};b.prototype.setAnnotations=function(a){var b=this;void 0===a&&(a=[]);if(this._scene){var e={};a.forEach(function(a){if(b._scene&&a.row){var c=b._getAnnotationKey(a);null!=c&&(b._setAnnotation(a),b._annotationMap[c]&&(e[c]=b._annotationMap[c],delete b._annotationMap[c]))}});r.keys(this._annotationMap).forEach(function(a){return b._annotationMap[a].remove()});this._annotationMap=e}};b.prototype.getAnnotations=function(){var a=this,b=
[];r.keys(this._annotationMap).forEach(function(e){return b.push(a._annotationMap[e].getInfo())});return b};b.prototype.update=function(a){var b=this;r.keys(this._annotationMap).forEach(function(e){e=b._annotationMap[e];var g=e.getData(),k=g.row,g=g.measure;void 0===g&&(g="");k=b._transformRow(k);k=b._scene.find({key:b._keyFct(k||{})});if(k=b._findShape(k,g))if(g=k.getTranslatedBox(),!e.hasSetPosition()||e.shouldUpdate()&&!a)e.setPositions(k.getAnnotationInfo().positions).setShapeBox(g).positionAndShow();
else if(a)e.onScroll(g)})};b.prototype.clickUpdate=function(a){this.update(!1);return a};b.prototype._findShape=function(a,b){void 0===a&&(a=[]);if(!a.length)return null;var e=a[0];b&&(e=r.find(a,function(a){return a.get("data")&&a.get("data").column===b})||a[0]);return"ShapeGroup"===e.getType()?this._getAnnotationShapeFromShapeGroup(e,b):e};b.prototype._transformRow=function(a){return this._keyTransform?this._keyTransform(r.clone(a)):a};b.prototype._getAnnotationKey=function(a){var b=a.row;a=a.measure;
void 0===a&&(a="");b=this._transformRow(b);return this._keyFct&&this._keyFct(b||{})+a};b.prototype._getAnnotationShapeFromShapeGroup=function(a,b){void 0===b&&(b="");var e;if(a.geometry){var g=-Infinity;a.getChildren().forEach(function(a){var b=Math.abs(Uc.area(a.get("points")));if(b>g)return g=b,e=a})}return e||a.getChildByKey(a.get("annotateChildKeys")[b])};return b}(Fc),lp=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=
b;b.prototype.updateWithTrace=function(a){var b=a.pointerTrace;if(b&&2<=b.length){var e=b[0],g=e[0],k=e[1],e=b[b.length-1],b=e[0],m=e[1];if(e=this._getBrushLayerAt(g,k))return k=e.toNormalizedPosition.apply(e,e.toLocalPosition(g,k)),g=k[0],k=k[1],b=e.toNormalizedPosition.apply(e,e.toLocalPosition(b,m)),e.brushSelect(g,k,b[0]-g+1,b[1]-k+1),r.extend({},a,{focusedShapes:this._findInterstingShapes(this._getShapesInBrushLayer(e)),states:(a.states||[]).concat(p.INTERACTION_DELEGATE_TYPE.BRUSH)})}return a};
b.prototype.reset=function(a){this._reset();return a};b.prototype._getBrushLayers=function(){return this._sceneInteractionManagerDelegate.getInteractionLayers(p.INTERACTION_DELEGATE_TYPE.BRUSH)};b.prototype._getSelectionLayers=function(){return this._sceneInteractionManagerDelegate.getInteractionLayers(p.INTERACTION_DELEGATE_TYPE.SELECTION)};b.prototype._reset=function(){this._resetBrush();this._shapesInArea={}};b.prototype._getBrushLayerAt=function(a,b){return r.find(this._getBrushLayers(),function(e){var g=
e.getParent(),k=g?g.translation():[0,0],g=k[0],k=k[1],m=e.translation();return e.isUnderCursor(a-g-m[0],b-k-m[1])})};b.prototype._resetBrush=function(){this._getBrushLayers().forEach(function(a){a.removeBrush()})};b.prototype._getShapesInBrushLayer=function(a){var b=a.getBrushArea(),e=this._getShapeContainers(a);if(b){var g=b.x1,k=b.y1,m=a.toTransformedPosition(b.x0,b.y0),b=m[0],m=m[1];a=a.toTransformedPosition(g,k);return this._findShapesInAreaFromLayers(e,b,m,a[0]-b+1,a[1]-m+1).filter(function(a){return a.get("canSelect")})}return[]};
b.prototype._getShapeContainers=function(a){var b=A.setFromValues(a.get("shapeContainerKeys"));return this._getSelectionLayers().filter(function(a){return null!=b[a.get("key")]})};b.prototype._findShapesInAreaFromLayers=function(a,b,e,g,k){return r.flatten(a.map(function(a){return a.findShapesInArea(b,e,g,k)}))};b.prototype._findInterstingShapes=function(a){var b=this,e=[];this._shapesInArea=this._shapesInArea||{};a.length?(a=a.reduce(function(a,b){var c=b.get("key");a[c]=b;return a},{}),e=A.notIntersect(this._shapesInArea,
a),e.forEach(function(a){var c=a.get("key");b._shapesInArea[c]?delete b._shapesInArea[c]:b._shapesInArea[c]=a})):(e=Object.keys(this._shapesInArea).map(function(a){return b._shapesInArea[a]}),this._shapesInArea={});return e};return b}(Fc),Nv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.center=function(a){var b=r.first(a.focusedShapes);if(b){var e=b.getInteractionEntity();e.get("canHover")&&e===b&&
this._centerShapeIfPossible(b)}return a};b.prototype._getCenterOffset1D=function(a,b,e,g,k){e=e+0.5*g-0.5*a;return 0>e?k?Math.min(0,Math.max(a-b,e)):0:k?0:Math.max(0,Math.min(b-a,e))};b.prototype._centerShapeIfPossible=function(a){var b=a.getParent(),e=b&&b.getParent(),g=e&&e.getParent();if(g&&e&&b){var k=e.get(),m=k.w,n=k.h,q=k.scrollX,k=k.scrollY,s=g.get("transforms");if(q||k){var p=a.boundingBox();if(p){var r=e.boundingBox(),e=r.w,r=r.h,t=p.clone().offset(b.get("x"),b.get("y")),b=t.x,p=t.y,v=t.w,
t=t.h,m=[!q?0:this._getCenterOffset1D(m,e,b,v,s&&s.flipX),!k?0:this._getCenterOffset1D(n,r,p,t,s&&s.flipY)];g.set({scrollOffset:m})}}}return a};return b}(Fc),Ov=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.update=function(a){var b=a.cursorType,e=r.first(a.focusedShapes);if(b)this._sceneInteractionManagerDelegate.onCursorChange(b);else if(e){var g,b=this._sceneInteractionManagerDelegate.getScene(),
k=e.get("cursorType"),e=k!==p.CURSOR_TYPE.DEFAULT?k:this._isActionable(e)?null!=(g=b&&b.get("config").dataCursor)?g:p.CURSOR_TYPE.POINTER:p.CURSOR_TYPE.DEFAULT;this._sceneInteractionManagerDelegate.onCursorChange(e||p.CURSOR_TYPE.DEFAULT)}return a};b.prototype.reset=function(a){this._sceneInteractionManagerDelegate.onCursorChange(p.CURSOR_TYPE.DEFAULT);return a};b.prototype._isActionable=function(a){var b=this._sceneInteractionManagerDelegate.getScene(),e=b&&null!=b.get("config").dataCursor;return!(null!=
a&&b&&b.get("selectMode")===p.SELECTMODE.NONE&&!e)&&a?(a=a.getInteractionEntity(),b=a.getParent(),a.get("canSelect")&&b&&b.get("canSelect")||e&&null!=a.get("data")):!1};return b}(Fc),mp=p.INTERACTION_DELEGATE_TYPE,Pv=function(a){function b(b){a.call(this,b);this._isCrosshairVisible=!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.update=function(a){var b=a.focusedShapes&&a.focusedShapes[0],b=(b?b.getParent()?(e=b.getParent()).toScenePosition.apply(e,
b.boundingBox().getCenter()):b.boundingBox().getCenter():void 0)||a.pointerPosition||[],e=b[0],b=b[1];if(null!=e&&null!=b&&-1===a.states.indexOf(mp.BRUSH)){var g=this._getLayers();(g=this._findActiveLayer(g,e,b))?(this._isCrosshairVisible=!0,this._onActiveLayerCrosshairMove(g,e,b)):this._removeAllCrosshair()}return a;var e};b.prototype.reset=function(a){this._removeAllCrosshair();return a};b.prototype._getLayers=function(){return this._sceneInteractionManagerDelegate.getInteractionLayers(mp.DISCRETE_CROSSHAIR)};
b.prototype._onActiveLayerCrosshairMove=function(a,b,e){a=a.toNormalizedPosition.apply(a,a.toLocalPosition(b,e))[1];return this._moveAllCrosshairTo(this._getLayers(),a)};b.prototype._removeAllCrosshair=function(){var a=this;return this._isCrosshairVisible?(this._getLayers().forEach(function(b){a._getCrosshair(b).set({opacity:0});b.notifyShapeChanged()}),this._isCrosshairVisible=!1,!0):!1};b.prototype._getCrosshair=function(a){return a.getChildren()[0]};b.prototype._isInLayer=function(a,b,e){return 0<=
b&&b<a.get("w")&&0<=e&&e<a.get("h")};b.prototype._findActiveLayer=function(a,b,e){var g=this;return Q.find(a,function(a){var c=a.toNormalizedPosition.apply(a,a.toLocalPosition(b,e));return g._isInLayer(a,c[0],c[1])})};b.prototype._boundingIntervalsToSegments=function(a){a=a.map(function(a){return a[0]<a[1]?a:[a[1],a[0]]});a=this._mergeIntervals(a.sort(function(a,b){return a[0]-b[0]}));for(var b=[],e=0,g=0;g<a.length;++g){var k=a[g],m=k[1];b.push([e,k[0]]);e=m}return b};b.prototype._boundingBoxToLocalIntervals=
function(a,b,e){void 0===e&&(e=!1);var g=e?0:1;return this._boundingIntervalsToSegments(!b.length?[[0,0]]:b.map(function(b){var f=b.getParent();b=b.boundingBox().toVertices().map(function(a){var b=a[0];a=a[1];return f&&f.toScenePosition(b,a)}).map(function(b){return a.toNormalizedPosition.apply(a,a.toLocalPosition(b[0],b[1]))});return b[0][g]!==b[1][g]?[b[0][g],b[1][g]]:[b[0][g],b[2][g]]}))};b.prototype._mergeIntervals=function(a){if(0===a.length)return[];var b=a[a.length-1],e=b[0],b=b[1];a=this._mergeIntervals(a.slice(0,
a.length-1));if(a.length){var g=a[a.length-1][1];g>=e?g<b&&(a[a.length-1][1]=b):a.push([e,b])}else return[[e,b]];return a};b.prototype._moveAllCrosshairTo=function(a,b){var e=this,g=!1;a.forEach(function(a){var c=e._getCrosshair(a),n=c.get("formatter"),q=c.get("scale");n&&q&&(c.set({y:b,opacity:1,text:n(q.invert(b))}),a.notifyShapeChanged(),g=!0)});return g};return b}(Fc),vb=function(){this._items={};this._cellCtx={};this._isResize=!1};vb.prototype.remove=function(){this._items={};this._cellCtx={};
return this};vb.prototype.setIsResize=function(a){this._isResize=a};vb.prototype.isResize=function(){return this._isResize};vb.prototype.setItem=function(a,b){this._items[a]=b;return this};vb.prototype.getItem=function(a){return this._items[a]};vb.prototype.getItems=function(){return this._items};vb.prototype.removeItem=function(a){delete this._items[a];return this};vb.prototype.getCellKeys=function(){return Object.keys(this._cellCtx)};vb.prototype.setCellContext=function(a,b){this._cellCtx[a]=b;
return this};vb.prototype.removeCellContext=function(a){delete this._cellCtx[a];return this};vb.prototype.getCellContext=function(a){return this._cellCtx[a]};vb.prototype.forEachCell=function(a){var b=this;this.getCellKeys().forEach(function(c){a(c,b.getCellContext(c))});return this};var Xc=function(){};Xc.prototype.render=function(a,b,c,f){};Xc.prototype.getCellRendererConfig=function(){return{display:!0,createLayer:!0,adjustRowToFit:!1,adjustColumnToFit:!1,offsetX:0,offsetY:0}};Xc.prototype._applyOffsets=
function(a,b,c){var f=c.offsetX;c=c.offsetY;if(a=a.getChildByKey(b))a.offsetX(f),a.offsetY(c)};var Yc={applyTransforms:function(a,b){b&&b.flipY&&a.flipY()},radius:function(a){return Math.min(a.get("w")/2,a.get("h")/2)-1},getLayerKey:function(a){return a.key+"-layer"},newLayer:function(a){return new Ka({key:this.getLayerKey(a),cell:a,staggerAnim:!1})},cellMap:function(a){var b={};a.getCells().forEach(function(a){b[A.camelCase(a.key)]=a});return b},toShapeKeys:function(a){if("["===a[0]&&"]"===a[a.length-
1])try{return JSON.parse(a)}catch(b){return[a]}else return[a]}},ps=td.getInstance(),eh=nd.getInstance().getDefaultTheme(),ic=p.ICON.SIZE,Gj=p.ICON.TEXT_PADDING,ng={xNumbers:Qm,yNumbers:xc.rotateBuilderFct(Qm),xLabels:xc.rotateBuilderFct(Tm),yLabels:Tm,yTime:Wm,xTime:xc.rotateBuilderFct(Wm),yTitle:Rm,xTitle:xc.rotateBuilderFct(Rm)},Kk={adjustLayoutForAxis:function(a,b,c,f){!b.showTitle&&f&&("x"===a?f.adjustRowToFit():f.adjustColumnToFit());!b.showAxis&&c&&("x"===a?c.adjustRowToFit():c.adjustColumnToFit())},
adjustLayout:function(a,b){var c=Wb.getXAxisDefinition(b);c&&this.adjustLayoutForAxis("x",c,a.cellByKey("axis-x"),a.cellByKey("axis-x-title"));(c=Wb.getYAxisDefinition(b))&&this.adjustLayoutForAxis("y",c,a.cellByKey("axis-y"),a.cellByKey("axis-y-title"))},getTitleCellRendererConfig:function(a,b,c,f){b={showTitle:a.showMeasureTitle,title:b,column:[c],titleMaxLines:f||[1]};Wb.addSortingInfoToAxis(b,a.sorting,a);return{axis:b,isDimension:!1,cellRenderer:new Jk("x")}},adjustXTitleHeightToFit:function(a){var b=
a.boundingBox();if(b&&a.get("h")!==b.h){var c=a.get("h")-b.h;a.getChildren().forEach(function(a){a.set({y:a.get("y")-c})})}a.adjustRowToFit()},adjustYTitleWidthToFit:function(a){a.adjustColumnToFit()}},Jk=function(a){function b(b){a.call(this);this.type=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(a,b,e,g){e=r.defaults(e,this.getCellRendererConfig());var k=e.axis,m=e.size,n=e.isDimension,q=e.titleColor,s=e.normalize,p=e.key,x=
e.titleOffset,t=g.scene;g=!!t.get("transforms").rotate;var v=!!t.get("transforms").flipX,t=!!t.get("transforms").flipY;if(k.showTitle){var z=k.title;q||(q=n?a.config.theme.getDimensionAxisTitleColor():a.config.theme.getMeasureAxisTitleColor());var w="x"===this.type?"xTitle":"yTitle",p=p||Yc.getLayerKey(b);ng[w]({cell:b,key:p,titles:z,titleColor:q,normalize:s,size:m,isDimension:n,axis:k,theme:a.config.theme,titleOffset:x});this._applyOffsets(b,p,e);if(null!=e.adjustToFit?e.adjustToFit:1)"x"===this.type?
(Kk.adjustXTitleHeightToFit(b),(g&&!v||!g&&!t)&&b.flipY()):(Kk.adjustYTitleWidthToFit(b),(g&&!t||!g&&v)&&b.flipX())}};return b}(Xc),Qv=function(a){function b(b){a.call(this);this.cellMethod=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(a,b,e,g){e=r.defaults(e,this.getCellRendererConfig());e.adjustRowToFit&&b.adjustRowToFit();e.adjustColumnToFit&&b.adjustColumnToFit();if(e.display)return g.layer=e.createLayer&&Yc.newLayer(b),g.cell=
b,this.cellMethod.call(a,g)};return b}(Xc),Rv=function(a){function b(b){a.call(this);this.type=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(a,b,e,g){e=r.defaults(e,this.getCellRendererConfig());g=e.axis;var k=e.gridLineLength,m=e.drawAxisLine,n=e.drawGridLines,q=e.normalize,s=e.key,u=e.scale,s=s||Yc.getLayerKey(b),u=r.isFunction(u)?u():u;ng["x"===this.type?"xNumbers":"yNumbers"]({key:s,cell:b,scale:u,gridLineLength:k,drawGridLines:n,
drawAxisLine:m,drawAxis:g.showAxis,format:q?p.FORMAT.PERCENT.AXIS:g.format,theme:a.config.theme});this._applyOffsets(b,s,e)};return b}(Xc),Sv=td.getInstance(),Tv=function(a){function b(b){a.call(this);this.type=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(a,b,e,g){e=r.defaults(e,this.getCellRendererConfig());var k=e.layout,m=e.icon,n=e.numColumns,q=e.rows,s=e.showSeparationLines,u=e.floating,x=e.overflowForSlanted,t=e.resizeCell,
v=e.scale,z=e.showCrosshair;e=ng["x"===this.type?"xLabels":"yLabels"]({key:e.key||Yc.getLayerKey(b),cell:b,layout:k,numColumns:n,rows:q,floating:u,overflowForSlanted:x,showSeparationLines:s,icon:m,theme:a.config.theme});t?"x"===this.type?b.adjustRowToFit():b.adjustColumnToFit():e&&e.offsetX(b.get("w")-e.boundingBox().w);if(z){k=k===p.AXIS.LABELS.LAYOUT.HIDDEN;t=Yc.cellMap(b.getScene()).plot;z=v.range();e=a.config.theme;var w=Sc.uniqueColumns(q.getFields()),q=Wb.getColumns(a.config,"trellis").length,
y=0<q?q:0,H=y+w.length;t&&b.append((new Le({x:b.get("w")+(k?0:p.PADDING),key:"crosshair-layer",decorationType:p.DECORATION_LAYER_TYPE.DISCRETE_CROSSHAIR,w:t.get("w"),h:z[z.length-1]})).append(new Lk({key:"crosshair",stroke:e.getCrosshairStrokeColor(),fill:e.getCrosshairFillColor(),length:t.get("w"),labelWidth:b.get("w"),textHAlign:k?"left":"right",isChartRotated:g.config.transforms.rotate,isTrellis:a.isTrellis(),scale:v,formatter:function(a){return Yc.toShapeKeys(a).slice(y,H).map(function(a,b){return Sv.formatColumnValue(a,
w[b])}).join("/")}})))}};return b}(Xc),Uv=function(a){function b(b){a.call(this);this.type=b}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(a,b,e,g){e=r.defaults(e,this.getCellRendererConfig());var k=e.key,m=e.drawAxis,n=e.drawAxisLine,q=e.granularity,s=e.dataFormat,u=e.fiscalGranularity,x=e.scale,t=e.formats,v=e.isDiscrete,z=e.firstDayOfWeek,w=e.formatter,y=e.showCrosshair,k=k||Yc.getLayerKey(b),x=r.isFunction(x)?x():x;ng["x"===
this.type?"xTime":"yTime"]({key:k,cell:b,scale:x,drawAxis:m,granularity:q,dataFormat:s,fiscalGranularity:u,drawAxisLine:n,showMeasure:!0,formats:t,isDiscrete:v,firstDayOfWeek:z,theme:a.config.theme});this._applyOffsets(b,k,e);y&&(e=Yc.cellMap(b.getScene()).plot,k=a.config.theme,e&&w&&b.append((new Le({x:b.get("w"),key:"crosshair-layer",decorationType:p.DECORATION_LAYER_TYPE.TIME_CROSSHAIR,w:e.get("w"),h:b.get("h")})).append(new Lk({key:"crosshair",stroke:k.getCrosshairStrokeColor(),fill:k.getCrosshairFillColor(),
length:e.get("w"),labelWidth:b.get("w"),textHAlign:m?"right":"left",isChartRotated:g.config.transforms.rotate,isDiscrete:v,isTrellis:a.isTrellis(),formatter:w,scale:x,dataGranularity:q,firstDayOfWeek:z,fiscalGranularity:u}))))};return b}(Xc),Vv=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(Xc),ci=function(){};ci.get=function(){return new ci};ci.prototype.getCellRenderer=function(a,b,c){var f=c.type;c=
c.orientation;b=A.camelCase(b.key);a=a[b+"Cell"];return f===p.CELL_RENDERER_TYPE.TITLE?new Jk(c):f===p.CELL_RENDERER_TYPE.TIME?new Uv(c):f===p.CELL_RENDERER_TYPE.DIMENSION?new Tv(c):f===p.CELL_RENDERER_TYPE.MEASURE?new Rv(c):a?new Qv(a):new Vv};var mc=function(a){var b=a.field,c=a.theme,f=a.legendSwatchType;this._type=a.type;this._field=b;this._theme=c||nd.getInstance().getDefaultTheme();this._legendSwatchType=f||p.MARK_TYPE.BAR};mc.prototype.getLegendSwatchType=function(){return this._legendSwatchType};
mc.prototype.isConstant=function(){return!1};mc.prototype.setField=function(a){this._field=a};mc.prototype.hasField=function(){return void 0!==this._field};mc.prototype.getField=function(){return this._field};mc.prototype.getColumn=function(){return this._field&&this._field.getName()};mc.prototype.getType=function(){return this._type};mc.prototype._getColorsForDomainFromPalette=function(a,b,c){var f=this;void 0===c&&(c=!1);if(!a)return b;var e=this._field;if(a.length){b=a.map(function(e,g){return Wb.getPaletteColor(f._theme,
g,a.length,b,c)});if(e=e&&e.getValueColors())for(var g in e)e[g]&&("null"===g&&(!a.includes(g)&&a.includes(null))&&(g=null),b[a.indexOf(g)]=e[g]);return b}return[]};var np={correctBreakpoints:function(a,b,c,f){var e;Array.isArray(b)?(e=r.min(b),b=r.max(b)):e=b;f=!1!==f;a=[].concat(a);var g=a.every(function(b,c){return 0===c||a[c-1]>b});c&&(a.push(g?-Infinity:Infinity),a.unshift(g?Infinity:-Infinity));if(f&&(g&&e>a[0]||!g&&e<a[0]))a[0]=e;c=[a[0]];e=a.length-1;var k;for(k=1;k<a.length;k++){var m=a[k],
n=c[k-1];g?c.push(m>=n?n-1:m):c.push(m<=n?n+1:m)}if(f&&(g&&b<c[e]||!g&&b>c[e]))c[e]=b;return c},getBandDataOfValue:function(a,b,c){var f,e=1<b.length&&b[0]>b[1];for(f=0;f<b.length-1;f++)if(!e&&c>=b[f]&&c<b[f+1]||e&&c<=b[f]&&c>b[f+1])return{band:a[f],min:b[f],max:b[f+1]};return{band:a[a.length-1],min:b[b.length-2],max:b[b.length-1]}},formatBandLabel:function(a,b,c,f,e){void 0===f&&(f=!0);void 0===e&&(e=!0);for(var g=c.length-1,k=1;k<c.length;k++)if(a<c[k]){g=k;break}a=b[g-1];b=c[g-1];g=c[g];c=[];e&&
c.push(a.label&&a.label+" ");f&&(-Infinity===b?c.push("\x3c "+Ya(null,!0)(g)):Infinity===b?c.push("\u2265 "+Ya(null,!0)(g)):Infinity===g?c.push("\u2265 "+Ya(null,!0)(b)):-Infinity===g?c.push("\x3c "+Ya(null,!0)(b)):(f=W.getLabel("@salesforce/charts","range",[Ya(null,!0)(b),Ya(null,!0)(g)]),c.push(e?"("+f+")":f)));return c.join("")},cleanupRanges:function(a,b){r.defaults(a,b);if(2>a.breakpoints.length||1>a.bands.length||a.breakpoints.length!==a.bands.length+1)a.breakpoints=b.breakpoints,a.bands=b.bands;
a.breakpoints.sort(function(a,b){return a-b})},estimateBreakpoints:function(a,b){void 0===b&&(b=1);var c=a[0],f=a[1],e=[];c===f?(c=0>c?Math.floor(4*c):0,f=0>f?0:Math.ceil(1.2*f)):(c=0>c?wa.roundUp(c):0,f=0<f?wa.roundUp(f):0);e.push(c);if(0<b)for(var g=(f-c)/(b+1),k=1;k<=b;k++)e.push(c+g*k);e.push(f);return e}},Wv=function(a){function b(b){var f=b.numBins,e=b.palette,g=b.breakpoints,k=b.bands,m=b.rows,n=b.binsColumn;a.call(this,{type:p.CHART_LAYOUT.COLOR_TYPE.BINS,field:b.field,theme:b.theme,legendSwatchType:b.legendSwatchType});
this._numBins=f;this._palette=e;this._setBreakpoints(g);this._bands=k;this._rows=m||[];this._binsColumn=n}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getBinsColumns=function(){return this._binsColumn};b.prototype.getDomain=function(){return this.getBinsInfo().domain};b.prototype.getUnsortedDomain=function(){return this.getDomain()};b.prototype.getLabels=function(){return this.getBinsInfo().labels};b.prototype.getScale=function(){var a=this,b=
this.getBinsInfo(),e=b.colors,g=b.domain,k=$.ordinal().domain(g).range(e);return{scale:function(e){return k.scale(a.getBinIndex(e,b))},domain:function(){return g},range:function(){return e}}};b.prototype.getBins=function(){return this.getBinsInfo().bins};b.prototype.getBinsInfo=function(){this._binsInfo||(this._binsInfo=this._computeBinsInfo());return this._binsInfo};b.prototype._computeBinsInfo=function(){var a,b,e,g,k=this._numBins,m=this._breakpoints||[],n=this._bands||[],q=this._field.getFormat();
b=this.getColumn();e=Da.rows2cols(this._rows);var s=Ya(q,!0),q=void 0;if(k){m=0;a={};A.uniq(e[b]).sort(function(a,b){return a-b}).forEach(function(b){var f;return null!=a[f=s(b)]?a[f]:a[f]=b});var n=r.values(a),k=Math.min(n.length,k),p=Math.floor(n.length/k),x=n.length-p*k,t=0,v=p;x&&(v++,x--);for(q=[];m<k&&t<n.length;)e=0===m?-Infinity:n[t],b=m===k-1?Infinity:n[v]||n[t],t=v,v=t+p,x&&(v++,x--),m++,q.push({min:e,max:b})}else g=this._sanitizeBins(m,n,this._theme),q=g.bins,g=g.colors;var z=[],w=[];q.forEach(function(a,
b){var c=a.min,f=a.max,e=a.label,e=e?e:-Infinity===c?"\x3c "+s(f):Infinity===f?"\u2265 "+s(c):(c=s(c),f=s(f),c===f?c:c+"-"+f);z.push(e);w.push(b)});Db.isRTL()&&(z=this._convertRTL(z));g||(g=this._getColorsForDomainFromPalette(w,this._palette));return{bins:q,colors:g,labels:z,domain:w,formattedLabels:a,formatter:s}};b.prototype._convertRTL=function(a){return a.map(function(a){return"\x3c"===a[0]||"\u2265"===a[0]?a.slice(2)+" "+a[0]:a})};b.prototype._sanitizeBins=function(a,b,e){for(var g=[],k=[],m=
0,n=a.length-1;m<n;)k.push({min:a[m],max:a[m+1],label:b[m]&&b[m].label}),g.push(b[m]&&b[m].color||Wb.getPaletteColor(e,m,n)),m++;return{bins:k,colors:g}};b.prototype.getBinIndex=function(a,b){var e=b.bins,g=b.formattedLabels,k=b.formatter,k=k(a);g&&g[k]&&(a=g&&g[k]);for(g=0;g<e.length;g++){var m=e[g],k=m.min,m=m.max;if(k<=a&&m>a||k===a&&m===a)return g}};b.prototype._setBreakpoints=function(a){void 0===a&&(a=[]);a=r.filter(a.map(function(a){return 1*a}),function(a){return null!=a});var b=np.correctBreakpoints(a.sort(function(a,
b){return a-b}),[],!0,!1);1===a.length&&b.sort(function(a,b){return a-b});this._breakpoints=b;return this};return b}(mc),Xv=td.getInstance(),Yv=function(a){function b(b){var f=b.sortColor,e=b.domain,g=b.palette,k=b.respectPaletteColorOrder;a.call(this,{type:p.CHART_LAYOUT.COLOR_TYPE.CATEGORICAL,field:b.field,theme:b.theme,legendSwatchType:b.legendSwatchType});e&&(e=e.map(function(a){return null!=a?a+"":a}));this._sortColor=null!=f?f:!0;this._unsortedDomain=this._domain=e;this._palette=g;this._respectPaletteColorOrder=
null!=k?k:!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.shouldSortColor=function(){return this._sortColor};b.prototype.getDomain=function(){return this._domain&&this.shouldSortColor()?this._domain.slice().sort():this._domain};b.prototype.getUnsortedDomain=function(){return this._unsortedDomain};b.prototype.getColors=function(){return this._getColorsForDomainFromPalette(this.getDomain(),this._palette,this._respectPaletteColorOrder)};b.prototype.getLabels=
function(){var a=this,b=this.getDomain();return this.hasField()&&b?b.map(function(b){return Xv.formatColumnValue(b,a._field)}):b};b.prototype.getScale=function(){var a=this.getDomain();if(a){var b=this._getColorsForDomainFromPalette(a,this._palette);return $.ordinal().domain(a).range(b)}};return b}(mc),ce=function(a){void 0===a&&(a={});a=a.value;this._type=p.CHART_LAYOUT.CONSTANT;this._value=a};ce.prototype.setValue=function(a){this._value=a;return this};ce.prototype.isConstant=function(){return!0};
ce.prototype.getType=function(){return this._type};ce.prototype.getValue=function(){return this._value};ce.prototype.getScale=function(){return $.constant().range(this.getValue())};var Zv=function(a){function b(b){var f=b.domain,e=b.gradient;a.call(this,{type:p.CHART_LAYOUT.COLOR_TYPE.GRADIENT,field:b.field,theme:b.theme,legendSwatchType:b.legendSwatchType});this._unsortedDomain=this._domain=f;this._gradient=e}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;
b.prototype.getDomain=function(){return this._domain};b.prototype.getUnsortedDomain=function(){return this._unsortedDomain};b.prototype.getGradient=function(){return this._gradient?this._gradient:this._theme.getPrimaryGradientColors()};b.prototype.getScale=function(){var a=this.getDomain();if(a){var b=this.getGradient();return $.gradient().domain(a).range(b)}};return b}(mc),op=function(){};op.prototype.make=function(a,b){switch(a){case p.CHART_LAYOUT.COLOR_TYPE.CATEGORICAL:return new Yv(b);case p.CHART_LAYOUT.COLOR_TYPE.GRADIENT:return new Zv(b);
case p.CHART_LAYOUT.COLOR_TYPE.BINS:return new Wv(b);case p.CHART_LAYOUT.CONSTANT:return new ce(b);default:throw Error("invalid colorLayout type "+a);}};var pp=oa(op),$v=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setRelativeSize=function(a){null!=a&&(this._relativeSize=a);return this};b.prototype.setRatio=function(a){null!=a&&(this._ratio=a);return this};b.prototype.getRelativeSize=function(){return this._relativeSize};
b.prototype.getRatio=function(){return this._ratio};b.prototype.getValue=function(){return null!=this._ratio&&null!=this._relativeSize?this._relativeSize*this._ratio/100:this._value};return b}(ce),nb=function(){this._type=p.CHART_LAYOUT.RADIUS_TYPE.SQRT;this._radius=p.MARK.POINT.MAX_RADIUS};nb.prototype.setField=function(a){this._field=a;return this};nb.prototype.isConstant=function(){return!1};nb.prototype.hasField=function(){return void 0!==this._field};nb.prototype.getField=function(){return this._field};
nb.prototype.getColumn=function(){return this._field&&this._field.getName()};nb.prototype.setMaxValue=function(a){null!=a&&(this._value=a);return this};nb.prototype.setMaxRadius=function(a){null!=a&&(this._radius=a);return this};nb.prototype.setRatio=function(a){null!=a&&(this._ratio=a);return this};nb.prototype.setRelativeSize=function(a){null!=a&&(this._relativeSize=a);return this};nb.prototype.getRelativeSize=function(){return this._relativeSize};nb.prototype.getRatio=function(){return this._ratio};
nb.prototype.getMaxRadius=function(){return null!=this._ratio&&null!=this._relativeSize?this._relativeSize*this._ratio/100:this._radius};nb.prototype.getMaxValue=function(){return this._value};nb.prototype.getScale=function(){var a=this.getMaxValue();if(null!=a){var b=$.sqrt().domain([0,a]).range([0,this.getMaxRadius()]);return{scale:function(a){return Math.max(b.scale(Math.abs(a)),p.MARK.POINT.MIN_RADIUS)}}}};var qp=function(){};qp.prototype.make=function(a){switch(a){case p.CHART_LAYOUT.RADIUS_TYPE.SQRT:return new nb;
case p.CHART_LAYOUT.CONSTANT:return new $v;default:throw Error("invalid radiusLayout type "+a);}};var rp=oa(qp),Ma=function(){this._showAxis=this._isX=!0;this._autoFitMode=p.AUTOFIT_MODE.SCROLL;this._maxBarSize=p.MARK.BAR.MAX_WIDTH;this._spacerRatio=[2,1.5];this._size=this._width=0};Ma.prototype._set=function(a,b){var c=this[a];void 0!==b&&b!==c&&(this[a]=b,this._recomputeLayout());return this};Ma.prototype.isX=function(){return this._isX};Ma.prototype.setIsX=function(a){return this._set("_isX",a)};
Ma.prototype.setSize=function(a){return this._set("_size",a)};Ma.prototype.setWidth=function(a){return this._set("_width",a)};Ma.prototype.setAutoFitMode=function(a){return this._set("_autoFitMode",a)};Ma.prototype.setMinSpacer=function(a){return this._set("_minSpacer",a)};Ma.prototype.setSpacerRatio=function(a){return!a?this:this._set("_spacerRatio",a)};Ma.prototype.setMaxBarSize=function(a){return this._set("_maxBarSize",a)};Ma.prototype.setShowAxis=function(a){return this._set("_showAxis",a)};
Ma.prototype.showAxis=function(){return this._showAxis};Ma.prototype.setPlotOptions=function(a){r.defaults(a,{barSize:p.MARK.BAR.SIZE,barSpacer:p.MARK.BAR.SPACER,labelSize:p.MARK.LINE.LABEL_SIZE,pointRadius:p.MARK.LINE.POINT_RADIUS,marks:[],isAxisModeMulti:!1});this._plotOptions=a;return this._recomputeLayout()};Ma.prototype._recomputeLayout=function(){this._layoutInfo=void 0;return this};Ma.prototype._getNumMarks=function(a,b,c){a=A.countBy(a)[b]||0;b===p.MARK_TYPE.BAR&&(1<a&&c)&&(a=1);return a};
Ma.prototype._computePlotOffsets=function(a,b,c,f,e,g){var k=0;return a.map(function(a){return a===p.MARK_TYPE.BAR?b||g?-c/2:k++*(f+e)-c/2:0})};Ma.prototype._computeFirstSpacer=function(a,b){var c=b?b:wa.interpolate([p.MARK.BAR.SIZE+1,1/p.MARK.BAR.SIZE],[40,0.2])(a,!0)*a;return 0.15>c?0:1>c?1:c};Ma.prototype._computeSpacers=function(a,b){var c=Math.max(a*this._spacerRatio[0],2,2*b/5);return[a,c,c*this._spacerRatio[1]]};var Ym=100,qs=1E4,aw=[0,100],bw=12,cw=function(a){function b(){a.call(this);this._scaleType=
p.SCALE.LINEAR;this._referenceLineMargin=bw;this._format=["###,##",1];this._showZero=!0;this._axisMargin=[0,0];this._plots=[];this._hasHorizontalTicks=this._hasNiceTicks=this._isX=!0;this._step=0;this._adjustMin=this._isNormalized=!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setStep=function(a){this._step=a;return this};b.prototype.getStep=function(a){return this._step};b.prototype.setAdjustMin=function(a){this._adjustMin=a;return this};b.prototype._getAdjustMin=
function(){return this._adjustMin};b.prototype.setIsNormalized=function(a){this._isNormalized=a;return this};b.prototype.isNormalized=function(){return this._isNormalized};b.prototype.setHasNiceTicks=function(a){void 0===a&&(a=!0);a||this.setStep(0);this._hasNiceTicks=a;return this};b.prototype.hasNiceTicks=function(){return this._hasNiceTicks};b.prototype.setHasHorizontalTicks=function(a){void 0===a&&(a=!0);this._hasHorizontalTicks=a;return this};b.prototype.hasHorizontalTicks=function(){return this._hasHorizontalTicks};
b.prototype.setFormat=function(a){a&&(this._format=a);return this};b.prototype.getFormat=function(){return this._format};b.prototype.getFormatMultiplier=function(){return this._format&&Math.abs(this._format[1])||1};b.prototype.setShowZero=function(a){this._showZero=a;return this};b.prototype.showZero=function(){return!!this._showZero};b.prototype.setCustomDomain=function(a){if(a&&2===a.length&&(void 0!==a[0]||void 0!==a[1]))this._customDomain=a;return this};b.prototype.hasCustomDomain=function(){return!!this._customDomain};
b.prototype.setDataDomain=function(a){a&&(this._dataDomain=a);return this};b.prototype.setDataMargin=function(a){a&&(this._dataMargin=a);return this};b.prototype.setAxisDomain=function(a){a&&(this._axisDomain=a);return this};b.prototype.setAxisMargin=function(a){a&&(this._axisMargin=a);return this};b.prototype.setSize=function(a){this._size=a;return this};b.prototype.setReferenceLines=function(a){this._referenceLines=a;return this};b.prototype.getReferenceLines=function(){return this._referenceLines};
b.prototype.setScaleType=function(a){this._scaleType=a;return this};b.prototype.getScaleType=function(){return this._scaleType};b.prototype.setReferenceLineMargin=function(a){this._referenceLineMargin=a;return this};b.prototype.hasReferenceLines=function(){return this._referenceLines&&this._referenceLines.length};b.prototype.addPlot=function(a){this._plots=this._plots.concat(a);return this};b.prototype.resetPlot=function(){this._plots=[];return this};b.prototype.getAxisDomainInfo=function(){return this._getAxisDomainInfo()};
b.prototype._getNicedDomainInfo=function(a,b){var e=0,g=a;if(b[0]+b[1]<this._size/2&&this.hasNiceTicks()&&!this.hasCustomDomain()){var k=p.AXIS.NUM.TICKMARK,m=k.HORI_DISTANCE,n=k.VERTI_DISTANCE,k=k.MIN_DISTANCE,m=this.hasHorizontalTicks()?m:n,q=n=Math.round(this._size/m);this.isNormalized()&&(g=[Math.max(a[0],-100),Math.min(a[1],100)]);for(var s;(!e||s.scale(s.domain()[0]+e)-s.scale(s.domain()[0])>m)&&1E3>n;)s=$.linear().domain(g).range([0,this._size]).nice(n++),e=s.step();for(;s.scale(s.domain()[0]+
e)-s.scale(s.domain()[0])<k&&n>=q;)s=$.linear().domain(g).range([0,this._size]).nice(n--),e=s.step();b=Bb.adjustMargin(a,b,s);a=s.domain()}return{domain:a,margin:b,step:e}};b.prototype._getAxisDomainInfo=function(a,b,e){void 0===e&&(e=!0);if(this._axisDomain&&this._axisMargin)return{domain:this._axisDomain,margin:this._axisMargin,step:this.getStep()};if(!a||!b)b=this._getDataDomainMargin(),a=b.domain,b=b.margin;var g;a&&(g=this.getFormatMultiplier(),g=[a[0]*g,a[1]*g]);var k=a="data";if(this.hasReferenceLines()){var m=
wa.getMinMax(r.map(this._referenceLines,"value"));g||(g=m,k=a="refline");m[0]<g[0]&&(g[0]=m[0],a="refline");m[1]>g[1]&&(g[1]=m[1],k="refline")}this._customDomain&&(k=Xm(this._customDomain,g,a,k),g=k.domain,a=k.lowBound,k=k.highBound);g?g[0]===g[1]&&(g=Bb.adjustDomain(g),k=a=void 0):g=aw;b=[this._getMarginByBoundType(a,g[0],b[0]),this._getMarginByBoundType(k,g[1],b[1])];a=this.getStep();e&&(e=this._getNicedDomainInfo(g,b),g=e.domain,b=e.margin,a=e.step);return{domain:g,margin:b,step:a}};b.prototype._getDataDomainMargin=
function(){var a=this.showZero();if(this._dataDomain&&this._dataMargin){var b=this._dataDomain;a&&(b=[Math.min(0,b[0]),Math.max(0,b[1])]);return{domain:b,margin:this._dataMargin}}var e=this.isX(),g=e?function(a){return[a.x,a.x+a.w]}:function(a){return[a.y,a.y+a.h]},k=this._plots;if(b=k.length?g(Ih.domainBox(k)):void 0)a&&(b=[Math.min(0,b[0]),Math.max(0,b[1])]);else return b=a?[0,0]:void 0,{domain:b,margin:[0,0]};for(var m=this._getScale(b,[0,0],!1),a={scale:function(a){return m.invert(a)}},n=0;n<
k.length;n++)k[n].applyScales(e?{x:m}:{y:m});g=g(Ih.boundingBox(k));for(n=0;n<k.length;n++)k[n].applyScales(e?{x:a}:{y:a});e=[m.scale(b[0]),m.scale(b[1])];e=[Math.max(e[0]-g[0],0),Math.max(g[1]-e[1],0)];e[0]=0.01>e[0]?0:e[0];e[1]=0.01>e[1]?0:e[1];e[1]&&(e[1]+=1.5);e[0]&&(e[0]+=1.5);return{domain:b,margin:e}};b.prototype._getMarginByBoundType=function(a,b,e){switch(a){case "refline":return Math.max(this._referenceLineMargin,e);case "data":return e;default:return 0}};b.prototype._getScale=function(a,
b,e){void 0===e&&(e=!0);var g=($[this._scaleType]||$.linear)();e=this._getAxisDomainInfo(a,b,e);a=e.domain;b=e.margin;e=e.step;if(a){var k=this.getFormatMultiplier();1!==k&&(a=[a[0]/k,a[1]/k],e/=k);k=this._getAdjustMin();return g.domain(a).range([k?0:b[0],this._size-b[1]]).adjustRange([k?-b[0]:0,this._size]).step(e)}};b.prototype.settleAxisDomainInfo=function(){var a=this.getAxisDomainInfo(),b=a.margin,e=a.step;this.setAxisDomain(a.domain).setAxisMargin(b).setStep(e);return this};b.prototype.getScale=
function(){return this._getScale()};return b}(Ma),dw=function(a){function b(){a.call(this);this._granularity=p.TIME_GRANULARITY.MONTH;this._isDiscrete=!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setFormats=function(a){this._formats=a;return this};b.prototype.getFormats=function(){return this._formats};b.prototype.setGranularity=function(a){return this._set("_granularity",a)};b.prototype.getGranularity=function(){return this._granularity};b.prototype.setDataGranularity=
function(a){return this._set("_dataGranularity",a)};b.prototype.getDataGranularity=function(){return this._dataGranularity};b.prototype.setFirstDayOfWeek=function(a){return this._set("_firstDayOfWeek",a)};b.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek};b.prototype.setDataFormat=function(a){return this._set("_dataFormat",a)};b.prototype.getDataFormat=function(){return this._dataFormat};b.prototype.setFiscalGranularity=function(a){return this._set("_fiscalGranularity",a)};b.prototype.getFiscalGranularity=
function(){return this._fiscalGranularity};b.prototype.setIsDiscrete=function(a){return this._set("_isDiscrete",a)};b.prototype.isDiscrete=function(){return this._isDiscrete};b.prototype.setDomain=function(a){return this._set("_domain",a)};b.prototype.getDomain=function(){return this._domain};b.prototype.setCustomDomain=function(a){this._customDomain=a;return this};b.prototype.getCustomDomain=function(){return this._customDomain};b.prototype.hasCustomDomain=function(){return!!this._customDomain};
b.prototype.needsScroll=function(){if(!this._size)return!1;var a=this.getLayoutInfo();return void 0!==a&&a.plot.plotSize>this._size+0.1};b.prototype.getLayoutInfo=function(){this._layoutInfo||this._computeLayoutInfo();return this._layoutInfo};b.prototype._computeLayoutInfo=function(){var a=this._plotOptions,b=a.barSize,e=a.barSpacer,g=a.labelSize,k=a.pointRadius,m=a.marks,n=a.isAxisModeMulti,q=a.stack,s=this._autoFitMode,u=this._minSpacer,r=this._size,a=this._dataGranularity,t=this._firstDayOfWeek,
v=this._domain,z=q?1:this._getNumMarks(m,p.MARK_TYPE.BAR,n),w=this._getNumMarks(m,p.MARK_TYPE.LINE,n),s=s===p.AUTOFIT_MODE.FIT,y,H,I,V,A,B=0;this._customDomain&&(v=Xm(this._customDomain,v,p.BOUND_TYPE.DATA,p.BOUND_TYPE.DATA).domain);v&&void 0!==v[0]?(y=v[0],H=v[1],I=ka.diff(y,H,a,t)+1):(y=H=ka.getConstantEpoch(),I=1);if(s){V=r/I;A=V/2;if(w&&1<I&&(!z||A<k))A=Math.min(k,r/2),V=(r-2*k)/(I-1);z&&(b=this._computeFirstSpacer(V,u),1===z&&"month"===a&&(b=Math.max(b,0.45*V)),B=Math.min(V-b,this._maxBarSize),
1<z?(e=12>B/z?0:1,b=(B-e*(z-1))/z):b=B);k=r}else 1===z&&"month"===a&&(e=Math.max(e,0.45*b)),z?(B=z*(b+e)-e,k=1===z?e:this._computeSpacers(e,B)[1],k=I*(B+k)-k,A=B/2):(k=I*g,A=g/2);1===I?(s&&!this.isDiscrete()?(y=ka.offset(y,-2,a,t).valueOf(),H=ka.offset(H,2,a,t).valueOf()):(y--,H++),s=$.linear().domain([y,H]).range([0,k])):s=$.linear().domain([y,H]).range([A,k-A]).adjustRange([0,k]);e=this._computePlotOffsets(m,n,B,b,e,q);m=w?ka.getCategories(s,a,t,v):void 0;this._layoutInfo={plot:{barSize:b,plotSize:k,
offsets:e,labelSize:V||g},categories:m,scale:s}};b.prototype.getScale=function(){this._layoutInfo||this._computeLayoutInfo();return this._layoutInfo&&this._layoutInfo.scale};return b}(Ma),ew=td.getInstance(),fw=p.MARK_TYPE,Yb,gw=function(a){function b(){a.call(this);this._hasSeries=this._hasIcon=!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.hasHierarchy=function(){return!this._rows?!1:this._rows.hasHierarchy()};b.prototype.setHasIcon=function(a){return this._set("_hasIcon",
a)};b.prototype.setRows=function(a){return this._set("_rows",a)};b.prototype.getRows=function(){return this._rows};b.prototype.setLabelsDepth=function(a){return this._set("_labelsDepth",a)};b.prototype.getLabelsDepth=function(){return this._labelsDepth};b.prototype.setHasSeries=function(a){return this._set("_hasSeries",a)};b.prototype.needsScroll=function(){return!this._rows||!this._size?!1:this._rows.getLayout().h>this._size+0.1};b.prototype.getLayoutInfo=function(){this._layoutInfo||this._computeLayoutInfo();
return this._layoutInfo};b.prototype.setRowsLayout=function(a,b){this._rows&&(this._rowHeight=a,this._rowSpacers=b,this._rows.setLayout({rowHeight:a,spacers:b}));return this._recomputeLayout()};b.prototype.setLabelLayout=function(a){a===p.AXIS.LABELS.LAYOUT.VERTICAL&&(a=p.AXIS.LABELS.LAYOUT.NORMAL);return this._set("_labelLayout",a)};b.prototype.getLabelLayout=function(){return this._labelLayout};b.prototype._computeLayoutInfo=function(){this._rows&&(this._layoutInfo={plot:this._computePlotLayoutInfo(),
axis:this._computeAxisLayoutInfo(),scale:this._rows.getScale(),categories:this._rows.getCategories()})};b.prototype._getLabelHeight=function(){if(!Yb){var a=Qa.getDelegate().getRealFontSize(p.AXIS.LABELS.TEXT.SIZE);Yb={WIDE:a+2*p.AXIS.LABELS.PADDING.WIDE,SMALL:a+2*p.AXIS.LABELS.PADDING.SMALL,WITH_ICON:p.ICON.SIZE}}return Yb};b.prototype._computePlotLayoutInfo=function(){var a=this;if(this._plotOptions){var b=this._rows;if(b){Yb=this._getLabelHeight();var e=0,g=[],k=0,m=this._plotOptions,n=m.barSize,
q=m.barSpacer,s=m.labelSize,u=m.marks,r=m.isAxisModeMulti,m=m.stack,t=this._autoFitMode,v=this._minSpacer,z=this._hasIcon,w=this._size,y=t===p.AUTOFIT_MODE.KEEP_LABELS,H=z?Yb.WITH_ICON+1:Yb.SMALL,I=m?1:this._getNumMarks(u,fw.BAR,r),V=function(){var b=a._computeFirstSpacer(H,v)+1;g=a._computeSpacers(b,H-b);k=n=e=H-b};if(t!==p.AUTOFIT_MODE.SCROLL)if(I){q=w/b.numBaseRows();if(y&&q<H)z?V():(e=H,g=this._computeSpacers(1,e));else{s=this._computeFirstSpacer(q,v);g=this._computeSpacers(s,q-s);e=Math.max(q-
s,1);y=y?Yb.SMALL/e:0;b.setLayout({rowHeight:e,spacers:g});var q=b.getLayout().h,A=Math.max(w/q,y),e=e*A,g=g.map(function(a){return a*A})}k=Math.min(e,this._maxBarSize);1<I?(q=12>k/I?0:1,n=(k-q*(I-1))/I):(n=k,g[0]||(n+=1),q=0)}else e=w/b.numBaseRows(),t===p.AUTOFIT_MODE.KEEP_LABELS&&(e=Math.max(e,H)),g=[0,0,0];else switch(g=this._computeSpacers(q,n),k=I*n+(I-1)*q,I){case 0:e=s;g=[0];break;case 1:z?V():e=n;break;default:e=k,g.shift()}b.setLayout({rowHeight:e,spacers:g});u=this._computePlotOffsets(u,
r,k,n,q,m);return{barSize:n,offsets:u,labelSize:e,plotSize:b.getLayout().h}}}};b.prototype._computeAxisLayoutInfo=function(){if(this._rows){Yb=this._getLabelHeight();var a=Qa.getDelegate(),b,e=this._showAxis,g=Math.PI/4,k=this._width,m=this._hasIcon,n=this._rows;if(n){var q=p.AXIS.LABELS.LAYOUT;b=q.NORMAL;var s=q.ORTHOGONAL,u=q.SLANTED,q=q.HIDDEN,x=p.AXIS.LABELS.PADDING,t=n.getFields().length;if(!e||!t)return{layout:q,numColumns:this._getNumColumns(0)};var e=n.getRowHeight(),v=n.hasHierarchy(),z=
Math.floor(k/Yb.WIDE),k=Math.floor(k/(m?p.AXIS.LABELS.MIN_COLUMN_SIZE+p.ICON.SIZE+p.ICON.TEXT_PADDING:p.AXIS.LABELS.MIN_COLUMN_SIZE)),w=function(b,f){return a.getTextWidth(ew.formatColumnValue(b,f),p.AXIS.LABELS.TEXT.SIZE)+1+2*x.SMALL},m=function(a,b){return Yb.SMALL},y=function(a,b){var c=n.numColumns(),f=A.range(0,c).map(function(a){return a<b});n.traverse(function(b,c,e,g){e=e.index;if(f[e]&&a(b,c)>g.layout.h+0.1)return f[e]=!1});var e=f.indexOf(!1),e=0>e?c:e,c=r.last(f),g=f.lastIndexOf(!0)+1;
return{isLastFit:c,max:e,grainest:g}};if(this.isX()){z=y(w,z);m=y(m,k);y={layout:q,numColumns:this._getNumColumns(0)};if(this._labelLayout){switch(this._labelLayout){case s:if(z.grainest)return{layout:s,numColumns:this._getNumColumns(z.grainest)};break;default:if(m.grainest)return{layout:this._labelLayout,numColumns:this._getNumColumns(m.grainest)}}return y}if(1<t)return v&&z.isLastFit||!v&&z.max===t?{layout:s,numColumns:this._getNumColumns(t)}:m.max===t?{layout:b,numColumns:this._getNumColumns(t)}:
0<m.grainest||0<z.grainest?z.grainest>=m.grainest?{layout:s,numColumns:this._getNumColumns(z.grainest)}:{layout:b,numColumns:this._getNumColumns(m.grainest)}:y;b=z.max?s:k&&e>=Yb.SMALL?e>Yb.SMALL/Math.cos(g)&&!this.needsScroll()?u:b:q;return{layout:b,numColumns:this._getNumColumns(b===q?0:1)}}g=y(m,k).max;return{layout:0<g?b:q,numColumns:this._getNumColumns(g)}}}};b.prototype.getScale=function(a){return void 0===a?(this._layoutInfo||this._computeLayoutInfo(),this._layoutInfo&&this._layoutInfo.scale):
this._rows&&this._rows.getScale(a)};b.prototype.getCategories=function(a){return void 0===a?(this._layoutInfo||this._computeLayoutInfo(),this._layoutInfo&&this._layoutInfo.categories):this._rows&&this._rows.getCategories(a)};b.prototype._getNumColumns=function(a){return null!=this._labelsDepth?Math.min(a,this._labelsDepth):a};return b}(Ma),sp=function(){};sp.prototype.make=function(a){switch(a){case p.CHART_LAYOUT.AXIS_TYPE.NUMERIC:return new cw;case p.CHART_LAYOUT.AXIS_TYPE.TIME:return new dw;case p.CHART_LAYOUT.AXIS_TYPE.CATEGORICAL:return new gw;
default:throw Error("invalid radiusLayout type "+a);}};var tp=oa(sp),Gc=function(a){var b=this;this._type=a.type;this._normalize=!!a.normalize;this._measureColumns=a.measureColumns;this._columnMap={};this._internalStartColumnMap={};this._normalizedColumnMap={};this._measureColumns.forEach(function(a){var f=a.getName();if(b._columnMap[f])throw Error("column with "+f+" already exist");b._columnMap[f]=a;b._internalStartColumnMap[f]=(new Wh(b._getInternalStartColumnName(f))).setInternalOnly(!0)});this.isNormalize()&&
this._measureColumns.forEach(function(a){a=a.getName();var f=b._getInternalNormalizeColumnName(a);b._normalizedColumnMap[a]=(new Wh(f)).setInternalColumnName(f).setInternalOnly(!0)})};Gc.prototype.isNormalize=function(){return this._normalize};Gc.prototype.getRowsTransform=function(){};Gc.prototype.getStartColumn=function(a){return this._internalStartColumnMap[a]};Gc.prototype.getNormalizedColumn=function(a){return this._normalizedColumnMap[a]};Gc.prototype.getColumn=function(a){return this._columnMap[a]};
Gc.prototype._getInternalStartColumnName=function(a){return a+"_$s"};Gc.prototype._getInternalNormalizeColumnName=function(a){return a+"_$n"};Gc.prototype._normalizeRows=function(a,b,c){var f=b.getName(),e=this._internalStartColumnMap[f].getName(),g=this._normalizedColumnMap[f].getName(),k=c?100/c:0;a.forEach(function(a){var b=Da.getRowInternalField(a,e);Da.setRowInternalField(a,e,b*k);Da.setRowInternalField(a,g,a[f]*k)})};var hw=function(a){function b(b){a.call(this,{type:p.CHART_LAYOUT.STACK_TYPE.BY_MEASURE,
measureColumns:b.measureColumns})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getRowsTransform=function(){var a=this,b=this._internalStartColumnMap;return function(e){var g=0,k=0;a._measureColumns.forEach(function(a,c){var q=a.getName(),s=e[q],q=b[q].getName();0<=s?(Da.setRowInternalField(e,q,g),g+=s):(Da.setRowInternalField(e,q,k),k+=s)});return e}};return b}(Gc),og=p.SORT,iw=function(a){function b(b){var f=b.stackColumn,e=b.trellisColumns,g=
b.tabularRows;a.call(this,{type:p.CHART_LAYOUT.STACK_TYPE.BY_MEASURE,normalize:b.normalize,measureColumns:b.measureColumns});b=b.stackOrder||{};this._tabularRows=g;this._stackOrder=r.defaults(b,{type:og.ROWS,order:og.ORDER.ASC});this._stackColumn=f;this._trellisColumns=e&&e.length?e:void 0;this._isTrellised()&&(this._trellisValueFct=this._getTrellisValueFct(this._trellisColumns));this._transformRows(g,b,f)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._isTrellised=
function(){return!!this._trellisColumns};b.prototype._getTrellisValueFct=function(a){return la.getValueFct({field:a})};b.prototype._getSortFct=function(a,b){var e=b.type,g=b.order,k=la.getValueFct({field:a});return e===og.TYPE.ROWS?this._getSortByRowsFct(g):this._getSortByValueFct(k,g)};b.prototype._getSortByRowsFct=function(a){return function(b){return a===og.ORDER.DESC?b.slice().reverse():b}};b.prototype._getSortByValueFct=function(a,b){return function(e){e=r.sortBy(e,function(b){return a(b)});
b===og.ORDER.DESC&&e.reverse();return e}};b.prototype._splitRowsByTrellis=function(a){var b=this._trellisValueFct,e={};a.forEach(function(a){var c=b(a);e[c]||(e[c]=[]);e[c].push(a)});return r.values(e)};b.prototype._getStackRowsFct=function(a,b,e){var g=this;return function(k){var m=a.getName(),n=b[m].getName(),q=0,s=0;k.forEach(function(a){var b=a[m];0<=b?(Da.setRowInternalField(a,n,q),q+=b):0>b&&(Da.setRowInternalField(a,n,s),s+=b)});e&&g._normalizeRows(k,a,q-s)}};b.prototype._transformRows=function(a,
b,e){var g=this,k=this._getSortFct(e,b),m=this._measureColumns.map(function(a){return g._getStackRowsFct(a,g._internalStartColumnMap,g.isNormalize())});a.traverse(function(a,b,c,f,e,p,r){r.isLeaf()&&(a=r.getBaseRows(),b=[a],g._isTrellised()&&(b=g._splitRowsByTrellis(a)),b.forEach(function(a){a=k(a);m.forEach(function(b){return b(a)})}))})};return b}(Gc),up=function(){};up.prototype.make=function(a,b){switch(a){case p.CHART_LAYOUT.STACK_TYPE.BY_MEASURE:return new hw(b);case p.CHART_LAYOUT.STACK_TYPE.BY_DIMENSION:return new iw(b);
default:throw Error("invalid stackLayout type "+a);}};var vp=oa(up),pg=pp.getInstance(),wp=rp.getInstance(),Mk=tp.getInstance(),xp=vp.getInstance(),hb=p.CHART_LAYOUT,Nk=p.CHART_LAYOUT.COLOR_TYPE,Ok=td.getInstance(),Ea=function(){this._colorLayouts={};this._tooltipColumns=[];this._showPercentage=!0;this._showBinLabel=!1;this._showNullValues=!0;this._rowsMetadata=this._customColorPickFunction=null;this._text={template:"",color:null};this._theme={}};Ea.prototype.setTooltipColumns=function(a){a&&(this._tooltipColumns=
a);return this};Ea.prototype.setText=function(a){a&&a.template&&(this._text=a);return this};Ea.prototype.setShowPercentage=function(a){null!=a&&(this._showPercentage=a);return this};Ea.prototype.setShowBinLabel=function(a){null!=a&&(this._showBinLabel=a);return this};Ea.prototype.setShowNullValues=function(a){null!=a&&(this._showNullValues=a);return this};Ea.prototype.setColorLayouts=function(a){null!=a&&(this._colorLayouts=a);return this};Ea.prototype.setRowsMetadata=function(a){null!=a&&(this._rowsMetadata=
a);return this};Ea.prototype.setTheme=function(a){null!=a&&(this._theme=a);return this};Ea.prototype.setFormatterFunction=function(a){this._formatterFunction=a;return this};Ea.prototype.setDataFunction=function(a){this._dataFunction=a;return this};Ea.prototype.getTheme=function(){return this._theme};Ea.prototype.getTooltipColumns=function(){return this._tooltipColumns};Ea.prototype.getRowsMetadata=function(){return this._rowsMetadata};Ea.prototype.hasTooltip=function(){return this._tooltipColumns.length||
this._text.template};Ea.prototype.formatTooltip=function(a){return this.formatTooltipWithColumns(a,this._tooltipColumns)};Ea.prototype.formatTooltipWithColumns=function(a,b){var c=this;if(b){if(b=r.filter(b,function(a){return r.find(c._tooltipColumns,function(b){return b.getName()===a.getName()})}),!b.length)return}else b=this._tooltipColumns;return this._formatColumns(a,b,this._text)};Ea.prototype.formatAnnotation=function(a,b,c){void 0===b&&(b=[]);return this._formatColumns(a,b,c)};Ea.prototype.setCustomColorPickFunction=
function(a){this._customColorPickFunction=a;return this};Ea.prototype._formatColumnColor=function(a,b,c){var f=this._colorLayouts[a.getName()],e=f.getType(),g=e===Nk.CONSTANT?null:f.getField(),k=e===Nk.CONSTANT?a:g,m=c[k.getName()];k.isInternalOnly()&&(m=Da.getRowInternalField(c,k.getName()));if(!(a.getType()===p.COLUMN_TYPE.MEASURE&&null==m)&&(b.color=this._customColorPickFunction?this._customColorPickFunction(c,f,k.getName()):f.getScale().scale(m),e===Nk.BINS&&this._showBinLabel&&(a=la.getValueFct({field:g},
!0)(c))))b.label+=" ("+a.label+")"};Ea.prototype._formatColumns=function(a,b,c){var f=this;void 0===b&&(b=[]);void 0===c&&(c={template:"",color:null});var e=this._showPercentage,g=this._rowsMetadata,k=this._formatterFunction,m=this._dataFunction,n=this._showNullValues;if(k)return k(a);m&&(a=m(a));var q=[],s;r.isEmpty(c.template)||q.push(this._formatText(a,c));e&&(s=Ok.formatPercentData(a,g));b.forEach(function(b,c){if(b&&(n||null!=a[b.getName()])){var e=b.getName(),k=a[e];b.isInternalOnly()&&(k=Da.getRowInternalField(a,
b.getName()));k=Ok.formatColumn(e,k,g,s);q.push(k);f._colorLayouts[e]&&f._formatColumnColor(b,k,a)}});return q};Ea.prototype._formatText=function(a,b){return{label:Ok.formatText(a,b.template,this._rowsMetadata),color:b.color,type:"text"}};var yp=p.CHART_LAYOUT.COLOR_TYPE,Zb=p.COLUMN_TYPE,jw={dimension:Zb.DIMENSION,color:Zb.DIMENSION,measure:Zb.MEASURE,trellis:Zb.DIMENSION,time:Zb.TIME,plot:Zb.MEASURE,x:Zb.MEASURE,y:Zb.MEASURE,r:Zb.MEASURE},Pk=p.COLUMN_TYPE,zp={enrichRowsMetadata:function(a,b,c){var f=
a.getColumns().map(function(a){switch(a.getType()){case Pk.TIME:var f=Bb.getOrdinalDomain(b,a),k=f.length;a.setCardinality(k);(0===k||1===k&&null==f[0])&&a.setIsAllNull(!0);return a;case Pk.MEASURE:return f=Bb.getNumericDomain(b,a),a.setDomain(f),null==f[0]&&a.setIsAllNull(!0),a;case Pk.DIMENSION:return rs(a,b,c);default:return a}});a.setColumns(f)}},Ap,kw=Ap={truncateMatrix:function(a,b,c){if(a*b<=c)return null;a>c&&b>c?a=b=Math.floor(Math.sqrt(c)):a>=b?a=Math.max(Math.floor(c/b),1):b=Math.max(Math.floor(c/
a),1);return[a,b]},computeDataMatrix:function(a,b){var c,f,e,g,k,m,n,q,s,p;k=a.type;m=a.column;var x=r.map(m,function(a){return a.getName()}),t=x.join("-");switch(k){case "x":case "wrap":f=m;c=x;m=function(a,b){return t+":"+a.join("-")};k=function(a,b){for(var c={},f=0;f<x.length;f++)c[x[f]]=a[f];return c};break;case "y":q=m;n=x;m=function(a,b){return t+":"+b.join("-")};k=function(a,b){for(var c={},f=0;f<x.length;f++)c[x[f]]=b[f];return c};break;case "xy":f=m[0]?[m[0]]:[];q=m[1]?[m[1]]:[];c=r.map(f,
function(a){return a.getName()});var v=c.join("-");n=r.map(q,function(a){return a.getName()});var z=n.join("-");m=v<z?function(a,b){return v+":"+a.join("-")+"*"+z+":"+b.join("-")}:function(a,b){return z+":"+b.join("-")+"*"+v+":"+a.join("-")};k=function(a,b){var f,e={};for(f=0;f<c.length;f++)e[c[f]]=a[f];for(f=0;f<n.length;f++)e[n[f]]=b[f];return e};break;default:throw Error("invalid trellis type "+k);}for(var w=[],y={},H=[],I={},V={},A=[],B=[],ea=0;ea<b.length;ea++){var C=b[ea];e=c?c.map(function(a){return C[a]}):
[];s=n?n.map(function(a){return C[a]}):[];g=e.join("-");p=s.join("-");y[g]||w.push(e);I[p]||H.push(s);y[g]=!0;I[p]=!0;A.push(g);B.push(p);e=m(e,s);null==V[e]&&(V[e]=[]);V[e].push(C)}w.length*H.length>a.maxNumCells&&(ea=Ap.truncateMatrix(w.length,H.length,a.maxNumCells),e=ea[1],w=w.slice(0,ea[0]),H=H.slice(0,e),y={},w.forEach(function(a){g=a.join("-");y[g]=!0}),I={},H.forEach(function(a){p=a.join("-");I[p]=!0}),b=r.filter(b,function(a,b){return y[A[b]]&&I[B[b]]}));return{colHeaders:w,rowHeaders:H,
data:V,colFields:f,rowFields:q,getKeyPrefix:m,getExtraData:k,rows:b}}},di=function(a){function b(b,f){var e=this;a.call(this,{initial:"NONE",states:f,events:{select:{afterTransition:function(a){return a.map(function(a){return e.select(a)})}},selectExclusive:{afterTransition:function(a){return a.map(function(a){return e.select(a)})}},unselect:{beforeTransition:function(a){return a.map(function(a){return e.unselect(a)})}}}});this.layer=b;this.selection=[]}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.resetAll=function(){this.selection=[];this.layer&&this.layer.getChildren().forEach(function(a){a.get("canSelect")&&a.resetSelect()})};b.prototype.unselectAll=function(){this.selection=[];this.layer&&this.layer.getChildren().forEach(function(a){a.get("canSelect")&&a.unselect()})};b.prototype.unselect=function(a){var b=this.selection.indexOf(a);-1<b&&this.selection.splice(b,1);this.layer&&(a=this.layer.shapeByKey(a))&&a.unselect()};b.prototype.select=
function(a){if(this.layer){var b=this.layer.shapeByKey(a);b&&b.select()}this.selection.push(a)};b.prototype.setSelection=function(a){a=this.sanitizeSelection(a);this.transition("NONE");if(a.length)this.onEvent("select",a)};b.prototype.sanitizeSelection=function(a,b){null==b&&(b=!1);return b&&1<a.length?[a[0]]:a};return b}(be),Bp=function(a){function b(b){var f=this;a.call(this,b,{NONE:{onEnter:function(){return f.resetAll()},onLeave:function(){return f.unselectAll()},events:{select:"SOME",selectExclusive:"SOME"}},
SOME:{onEnter:function(a,b,c){if("unselect"===b&&0===f.selection.length)return c.map(function(a){return f.select(a)})},events:{unselect:"SOME",select:"SOME",selectExclusive:"SOME"}}})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.sanitizeSelection=function(b){return a.prototype.sanitizeSelection.call(this,b,!1)};return b}(di),Cp=function(a){function b(b){var f=this;a.call(this,b,{NONE:{onEnter:function(){return f.resetAll()},onLeave:function(){return f.unselectAll()},
events:{select:"SOME",selectExclusive:"SOME"}},SOME:{onEnter:function(a,b){if(b===p.SELECT_ACTION.UNSELECT&&0===f.selection.length)return f.transition("NONE");b===p.SELECT_ACTION.SELECT_EXCLUSIVE&&r.clone(f.selection).forEach(function(a){return f.unselect(a)})},events:{unselect:"SOME",select:"SOME",selectExclusive:"SOME",reset:"NONE"}}})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.sanitizeSelection=function(b){return a.prototype.sanitizeSelection.call(this,
b,!1)};return b}(di),Dp=function(a){function b(b){var f=this;a.call(this,b,{NONE:{onEnter:function(){return f.resetAll()},onLeave:function(){return f.unselectAll()},events:{select:"FIRST",selectExclusive:"FIRST"}},FIRST:{events:{select:"ONE",selectExclusive:"ONE"}},ONE:{onEnter:function(){return f.unselect(f.selection[0])},events:{select:"ONE",selectExclusive:"ONE"}}})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.sanitizeSelection=function(b){return a.prototype.sanitizeSelection.call(this,
b,!0)};return b}(di),Ep=function(a){function b(b){var f=this;a.call(this,b,{NONE:{onEnter:function(){return f.resetAll()},onLeave:function(){return f.unselectAll()},events:{select:"FIRST",selectExclusive:"FIRST"}},FIRST:{events:{select:"ONE",selectExclusive:"ONE",unselect:"NONE",reset:"NONE"}},ONE:{onEnter:function(){return f.unselect(f.selection[0])},events:{select:"ONE",selectExclusive:"ONE",unselect:"NONE",reset:"NONE"}}})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=
b;b.prototype.sanitizeSelection=function(b){return a.prototype.sanitizeSelection.call(this,b,!0)};return b}(di),Fp=function(){};Fp.make=function(a,b){switch(a){case p.SELECTMODE.RANGE:case p.SELECTMODE.SINGLE:return new Ep(b);case p.SELECTMODE.SINGLE_REQUIRED:return new Dp(b);case p.SELECTMODE.MULTI:return new Cp(b);case p.SELECTMODE.MULTI_REQUIRED:return new Bp(b)}};var Qb=function(a){this._config=a;this._features={};this._score=0;this._scoreDetails=[]};Qb.prototype.setConfig=function(a){this._config=
a;return this};Qb.prototype.getConfig=function(){return this._config};Qb.prototype.setModuleName=function(a){this._moduleName=a;return this};Qb.prototype.getModuleName=function(){return this._moduleName};Qb.prototype.setFeature=function(a,b){void 0===a&&(a="");void 0===b&&(b={});this._features[a]=b;return this};Qb.prototype.getFeature=function(a){return this._features[a]};Qb.prototype.hasFeature=function(a){return!!this.getFeature(a)};Qb.prototype.setScore=function(a){this._score=a;return this};Qb.prototype.getScore=
function(){return this._score};Qb.prototype.setScoreDetails=function(a){this._scoreDetails=a;return this};Qb.prototype.getScoreDetails=function(){return this._scoreDetails};var wb=function(){};wb.prototype.featurize=function(a){return this};wb.prototype.getScore=function(a,b,c){a=this.getScoreDetails(a,b,c);return wa.sum(A.zip(a)[0])};wb.prototype.getScoreDetails=function(a,b,c){return[]};wb.prototype._makeScoreDetail=function(a,b){void 0===b&&(b="");return[a,b]};wb.prototype._filterScoreDetails=
function(a){return a.filter(function(a){return 0!==a[0]})};wb.prototype._areColumnsOfTypes=function(a,b){return a.every(function(a){return-1<b.indexOf(a.getType())})};wb.prototype._hasFeature=function(a,b){return!!a.getFeature(b)};wb.SCORE_DETAIL={INVALID_CONFIG:[[-Infinity,""]]};wb.SCORES={CRITICAL:5,GREAT:2,GOOD:1,FAIR:0,BAD:-2,SEVERE:-5};var ib=p.FEATURE_NAME,Hc=p.COLUMN_TYPE,lw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=
b;b.prototype.getScoreDetails=function(a,b,e){b=[];this._isCartesian(a)?b=this._scoreCartesian(a,e):a.hasFeature(ib.MULTI_METRIC)?b=this._scoreMultiMetric(a):a.hasFeature(ib.SINGLE_METRIC)&&(b=this._scoreSingleMetric(a));return this._filterScoreDetails(b)};b.prototype._isCartesian=function(a){var b=a.hasFeature(ib.X_DIMENSION_AXIS)||a.hasFeature(ib.X_MEASURE_AXIS)||a.hasFeature(ib.X_TIME_AXIS);a=a.hasFeature(ib.Y_DIMENSION_AXIS)||a.hasFeature(ib.Y_MEASURE_AXIS)||a.hasFeature(ib.Y_TIME_AXIS);return b&&
a};b.prototype._scoreCartesian=function(a,b){var e=a.getFeature(ib.X_DIMENSION_AXIS),g=a.getFeature(ib.X_MEASURE_AXIS),k=a.getFeature(ib.X_TIME_AXIS),m=a.getFeature(ib.Y_DIMENSION_AXIS),n=a.getFeature(ib.Y_MEASURE_AXIS),q=a.getFeature(ib.Y_TIME_AXIS),g=e?[e,Hc.DIMENSION]:g?[g,Hc.MEASURE]:[k,Hc.TIME],e=g[0],g=g[1],n=m?[m,Hc.DIMENSION]:n?[n,Hc.MEASURE]:[q,Hc.TIME],m=n[0],n=n[1],q=[];q.push(this._scoreAxis(g,e,!0,b));q.push(this._scoreAxis(n,m,!1,b));q.push(this._getEffectivenessScore(e,g,m,n));q.push(this._getRedundancyScore(e,
m));return q};b.prototype._scoreAxis=function(b,f,e,g){f=f.column.length;return b===Hc.DIMENSION?(b=g.maxNumColumnsXDimensionAxis,g=g.maxNumColumnsYDimensionAxis,g=e?b:g,f?1===f?e?this._makeScoreDetail(0.75*a.SCORES.GOOD,W.getLabel("@salesforce/charts","axisXDimOneColumn")):this._makeScoreDetail(a.SCORES.GOOD,W.getLabel("@salesforce/charts","axisYDimOneColumn")):2===f?e?this._makeScoreDetail(a.SCORES.FAIR,W.getLabel("@salesforce/charts","axisXDim2Columns")):this._makeScoreDetail(0.75*a.SCORES.GOOD,
W.getLabel("@salesforce/charts","axisYDim2Columns")):f>g?this._makeScoreDetail(a.SCORES.BAD,W.getLabel("@salesforce/charts","axisDimMaxColumn",[g])):this._makeScoreDetail(a.SCORES.FAIR):this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisDimNoColumn"))):b===Hc.MEASURE?(e=g.maxNumMeasuresCartesian,0===f?this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisMeaNoColumns")):f>e?this._makeScoreDetail(a.SCORES.BAD,W.getLabel("@salesforce/charts","axisMeaMaxColumn",
[e])):this._makeScoreDetail(a.SCORES.FAIR)):0===f?this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisTimeNoColumn")):this._makeScoreDetail(a.SCORES.FAIR)};b.prototype._getRedundancyScore=function(b,f){var e=b&&b.column,g=f&&f.column;return e&&g&&A.intersection(e,g).length?this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisRedundancy")):this._makeScoreDetail(a.SCORES.FAIR)};b.prototype._getEffectivenessScore=function(b,f,e,g){return f===g&&f===Hc.MEASURE?
this._makeScoreDetail(a.SCORES.GREAT,W.getLabel("@salesforce/charts","axisMvM")):f===g&&f===Hc.DIMENSION?this._makeScoreDetail(a.SCORES.GOOD,W.getLabel("@salesforce/charts","axisDvD")):this._makeScoreDetail(a.SCORES.FAIR)};b.prototype._scoreMultiMetric=function(b){b=b.getFeature(ib.MULTI_METRIC);return 3<b.column.length?[this._makeScoreDetail(a.SCORES.GREAT,W.getLabel("@salesforce/charts","axisMultiMetricManyMeasure",[3]))]:3===b.column.length?[this._makeScoreDetail(a.SCORES.GOOD,W.getLabel("@salesforce/charts",
"axisMultiMetricManyMeasure",[2]))]:[this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisMvDMultiMetric",[2]))]};b.prototype._scoreSingleMetric=function(b){return 1===b.getFeature(ib.SINGLE_METRIC).column.length?[this._makeScoreDetail(0.5*a.SCORES.GOOD,W.getLabel("@salesforce/charts","axisSingleMetricSingleMeasure"))]:[this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","axisSingleMetricFewMeasure"))]};return b}(wb),ei=p.COLUMN_TYPE,fi=p.CHART_LAYOUT.COLOR_TYPE,
Gp=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.featurize=function(a){var b=a.getConfig().color;if(b&&b.column){var e=b.column,g;switch(b.type){case fi.CATEGORICAL:g=p.FEATURE_NAME.CATEGORICAL_COLOR;break;case fi.GRADIENT:g=p.FEATURE_NAME.GRADIENT_COLOR;break;case fi.BINS:g=p.FEATURE_NAME.BIN_COLOR;break;case fi.CONSTANT:g=p.FEATURE_NAME.BIN_COLOR}a.setFeature(g,{column:e})}return this};b.prototype.getScoreDetails=
function(b,f,e){e=e.maxCardinalityCategoricalColor;var g=b.getFeature(p.FEATURE_NAME.CATEGORICAL_COLOR),k=b.getFeature(p.FEATURE_NAME.GRADIENT_COLOR);b=[];if(g){g=f.getColumns(g.column);if(!this._areColumnsOfTypes(g,[ei.DIMENSION,ei.TIME,ei.GEO]))return a.SCORE_DETAIL.INVALID_CONFIG;var m=g[0]&&g[0].getCardinality();g.length?m>e?b.push(this._makeScoreDetail(a.SCORES.SEVERE,W.getLabel("@salesforce/charts","colorHighCardinality"))):b.push(this._makeScoreDetail(a.SCORES.GOOD,W.getLabel("@salesforce/charts",
"colorLowCardinality"))):b.push(this._makeScoreDetail(a.SCORES.FAIR))}return k&&(f=f.getColumns(k.column),!this._areColumnsOfTypes(f,[ei.MEASURE]))?a.SCORE_DETAIL.INVALID_CONFIG:this._filterScoreDetails(b)};return b}(wb),qg=p.FEATURE_NAME,gi=p.COLUMN_TYPE,mw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getScoreDetails=function(b,f,e){var g=f.getColumnsByType(gi.TIME),k=f.getColumnsByType(gi.GEO),
m=[];if(k.length){var n=b.getFeature(qg.GEO_DATA);n&&-1<r.map(k,function(a){return a.getName()}).indexOf(n.column[0])&&m.push(this._makeScoreDetail(a.SCORES.CRITICAL,W.getLabel("@salesforce/charts","contextGeo")))}g.length&&(k=b.getFeature(qg.X_TIME_AXIS),n=b.getFeature(qg.Y_TIME_AXIS),(k=k||n)&&-1<r.map(g,function(a){return a.getName()}).indexOf(k.column[0])&&m.push(this._makeScoreDetail(a.SCORES.CRITICAL,W.getLabel("@salesforce/charts","contextTime"))));if(g=b.getFeature(qg.LAT_LNG))if(g=f.getColumns(g.column),
2===g.length&&this._areColumnsOfTypes(g,[gi.MEASURE])&&this._isInRange(g[0].getDomain(),[-90,90])&&this._isInRange(g[1].getDomain(),[-180,180]))m.push(this._makeScoreDetail(a.SCORES.CRITICAL,W.getLabel("@salesforce/charts","contextLatlng")));else return a.SCORE_DETAIL.INVALID_CONFIG;if(b=b.getFeature(qg.FLOW_DIAGRAM)){f=f.getColumns(b.column);if(!this._areColumnsOfTypes(f,[gi.DIMENSION]))return a.SCORE_DETAIL.INVALID_CONFIG;var q=e.maxCardinalityFlowDiagram;f.map(function(a){return a.getCardinality()}).some(function(a){return a>
q})?m.push(this._makeScoreDetail(a.SCORES.BAD,W.getLabel("@salesforce/charts","contextFlowHighCard"))):m.push(this._makeScoreDetail(a.SCORES.GREAT,W.getLabel("@salesforce/charts","contextFlowLowCard")))}return m};b.prototype._isInRange=function(a,b){return a[0]>=b[0]&&a[1]<=b[1]};return b}(wb),Qk=p.COLUMN_TYPE,nw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.featurize=function(a){var b=a.getConfig().trellis;
b&&b.column.length&&a.setFeature(p.SCORER_TYPE.TRELLIS,{type:b.type,column:b.column});return this};b.prototype.getScoreDetails=function(b,f,e){e=e.maxCardinalityTrellis;b=b.getFeature(p.SCORER_TYPE.TRELLIS);if(!b)return[];f=f.getColumns(b.column);if(!this._areColumnsOfTypes(f,[Qk.DIMENSION,Qk.TIME,Qk.GEO]))return a.SCORE_DETAIL.INVALID_CONFIG;f=f.map(function(a){return a.getCardinality()});return f.length?2===f.length?f[0]*f[1]>e?[this._makeScoreDetail(a.SCORES.BAD,W.getLabel("@salesforce/charts",
"trellisHighCardinality"))]:[]:1===f.length?f[0]>e?[this._makeScoreDetail(a.SCORES.BAD,W.getLabel("@salesforce/charts","trellisHighCardinality"))]:[]:a.SCORE_DETAIL.INVALID_CONFIG:[]};return b}(wb),ow=p.FEATURE_NAME,pw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getScoreDetails=function(a,b,e){return(b=a.getFeature(ow.POPULARITY))&&r.isNumber(b)&&r.isFinite(b)?(a=a.getScore(),b=Math.max(Math.min(b,
1),-1),e=a+b,e=0<a?Math.max(e,0):Math.min(e,0),b=W.getLabel("@salesforce/charts",0<b?"popularChart":"unpopularChart"),[this._makeScoreDetail(e-a,b)]):[]};return b}(wb),Hp=function(){};Hp.prototype.getScorer=function(a){switch(a){case p.SCORER_TYPE.TRELLIS:return new nw;case p.SCORER_TYPE.COLOR:return new Gp;case p.SCORER_TYPE.AXIS:return new lw;case p.SCORER_TYPE.CONTEXT:return new mw;case p.SCORER_TYPE.POPULARITY:return new pw;default:return new Gp}};var qw=oa(Hp),$m=p.COLUMN_TYPE,an="|",Md={ALL:"all",
FIRST:"first",PREV:"prev",LAST:-1},hh={SECTION:"section",ARRAY:"array"},rw={useAllNonMeasure:!0,useAllMeasure:!1},sw={maxCardinalityTrellis:20,maxNumColumnsXDimensionAxis:2,maxNumColumnsYDimensionAxis:3,maxNumMeasuresCartesian:3,maxCardinalityCategoricalColor:10,maxCardinalityFlowDiagram:10},Rk=null,nc=function(a,b,c){void 0===a&&(a={});r.defaults(a,sw);this._didInit=!1;this._opts=a;this._moduleList=[];this._moduleGetter=b;this._geoMaps=c};nc.prototype._init=function(){return this._didInit?Promise.resolve():
this._processGeoMaps()};nc.prototype._processGeoMaps=function(){var a=this,b={};this._geoMaps.forEach(function(a){var c=a.getGeoJson()&&a.getGeoJson().url;c&&!b[c]&&(b[c]=a)});var c=r.values(b);return Promise.all(c.map(function(a){return a.load()})).then(function(){a._geoMaps=c})};nc.prototype.registerChartList=function(a){this._moduleList=a;return this};nc.prototype.recommend=function(a,b,c){var f=this;void 0===c&&(c={});return this._init().then(function(){var e;b instanceof Ub?e=b:(e=new Ub(b),
zp.enrichRowsMetadata(e,a,f._geoMaps));return Promise.all(f._moduleList.map(function(b){return f._recommendForModule(b,a,e,c)}))}).then(function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return r.flatten(a[0]).sort(function(a,b){return b.getScore()-a.getScore()}).slice(0,c.n||10)})};nc.prototype._recommendForModule=function(a,b,c,f){var e=this;return this._getModule(a).then(function(g){var k=g.default;return k.getRecommendations&&r.isFunction(k.getRecommendations)?(g=k.getRecommendations(b,
c,f),g.forEach(function(f){f.setModuleName(a);e._scoreRecommendation(f,k,b,c)}),r.filter(g,function(a){return-Infinity<a.getScore()})):[]})};nc.prototype._scoreRecommendation=function(a,b,c,f){var e=this;c=this._getScorers();b.featurize&&r.isFunction(b.featurize)&&b.featurize(a);c.forEach(function(b){var c=a.getScoreDetails(),m=a.getScore()||0;b.featurize(a);b=b.getScoreDetails(a,f,e._opts);if(b.length)var n=A.zip.apply(A,b),m=m+wa.sum(n[0]);a.setScoreDetails(c.concat(b)).setScore(m)})};nc.prototype._getScorers=
function(){if(!Rk){var a=qw.getInstance();Rk=[a.getScorer(p.SCORER_TYPE.TRELLIS),a.getScorer(p.SCORER_TYPE.COLOR),a.getScorer(p.SCORER_TYPE.AXIS),a.getScorer(p.SCORER_TYPE.CONTEXT),a.getScorer(p.SCORER_TYPE.POPULARITY)]}return Rk};nc.prototype._getModule=function(a){return this._moduleGetter(a)};nc.generateRecommendations=function(a,b,c,f){r.defaults(c,rw);b=r.flatten(b.map(function(b){return us(a,b,c,f)}));return r.filter(b)};var tw=Ld.version;He.setShapeGroup(zb);var hi={VERSION:tw,log:ta,LOC:W,
Settings:Db,IntervalSearchTree:Wa,ThemeFactory:nd,layoutBuilder:{build:function(a){r.defaults(a,{selectMode:p.SELECTMODE.NONE,position:[0,0],layout:{},configLayout:{},transforms:{}});var b=a.size,c=a.position,f=a.padding,e=a.selectMode,g=a.selectionKeyFct,k=a.configLayout,m=a.transforms;f||(f={top:0,right:0,bottom:0,left:0});a=ts({vertical:m.rotate,showTimeTitle:k.showTimeTitle,showMeasure:k.showMeasure,showMeasure1:k.showMeasure1,showMeasure2:k.showMeasure2,showMeasureTitle:k.showMeasureTitle,showMeasureTitle1:k.showMeasureTitle1,
showMeasureTitle2:k.showMeasureTitle2,showDimension:k.showDimension,showDimensionTitle:k.showDimensionTitle,hasTrellisColHeaders:a.hasTrellisColHeaders,hasTrellisRowHeaders:a.hasTrellisRowHeaders,cellSizes:a.cellSizes,axisTitleMaxLines:a.axisTitleMaxLines})[a.layout];var k=a.cells,n=a.rows,q=a.columns,s=a.scrollX,u=a.scrollY,x=a.zIndex,t=new Bc({size:b,transforms:m,padding:f,position:c,selectMode:e,selectionKeyFct:g});t.buildCells({rows:n,columns:q});k.forEach(function(a,b){a.forEach(function(a,c){a.match(p.CELL.IGNORED_PATTERN)||
t.getCell(c,b).set({key:a})})});s&&s.forEach(function(a){t.cellByKey(a).set({scrollX:!0})});u&&u.forEach(function(a){t.cellByKey(a).set({scrollY:!0})});var b=function(a){x[a]&&x[a].forEach(function(b){t.cellByKey(b).set({zIndex:parseInt(a,10)})})},v;for(v in x)b(v);return t}},SelectManagerFactory:Fp,counter:Fe,singleton:oa,ChartContext:vb,runtime:Qa,renderers:{AxisTitleCellRenderer:Jk,CellRendererFactory:ci},scene:{model:{Scene:Bc,Cell:sd},effects:{ShapeEffectFactory:dg,DefaultHoverShapeEffect:Mh,
CompositeShapeEffect:Sh,DefaultSelectionShapeEffect:Lh,HaloSelectionShapeEffect:Th,RadiusScalingSelectionShapeEffect:Uh,HighlightHoverShapeEffect:Nh}},shapes:{Arc:jg,NumberText:Ne,Text:ya,Line:eb,Path:Xd,Polygon:ye,Point:Pb,Rect:jc,Layer:Ka,ShapeGroup:zb},geo:{GeoMap:ua},rowsMetadata:{RowsMetadata:Ub,rowsFormatter:td.getInstance(),rowsMetadataUtils:{getRowsMetadataFromConfig:function(a){if(a){var b={};Wb.traverseConfigSections(a,void 0,function(a,f){var e=a&&(a.column||a.fields);e&&e.forEach(function(e){var k=
A.deepCopy(e);k.type="color"===f?a.type===yp.GRADIENT||a.type===yp.BINS?Zb.MEASURE:Zb.DIMENSION:jw[f]||Zb.DIMENSION;b[e.column]=k})});return r.values(b)}},mergeRowsMetadata:function(a,b){if(!b)return a;var c={};a.forEach(function(a){c[a.column]=a});b.forEach(function(a){var b=a.column;a.type&&(delete a.type,console.warn("can not change rowsMetadata column type for column "+b));c[b]&&A.extendDeep(c[b],a)});return r.values(c)}},richRowsMetadataUtils:zp,Column:Oa,TimeColumn:Io,DimensionColumn:hg,MeasureColumn:Wh},
utils:{axisUtils:ng,Box:D,Padding:fb,configUtils:Wb,constants:p,convertConfigUtils:Ak,dataUtils:A,domainUtils:Bb,envUtils:Cc,columnUtils:Sc,gridUtils:{draw:function(a){var b=a.w,c=a.h,f=a.numRows,e=a.numColumns,g=a.lineWidth,k=a.stroke,m=a.xKey;a=a.yKey;var n=new Ka({staggerAnim:!1}),q=-(g%2)/2;a||(a="y");m||(m="x");for(var s=e*b+(e+1)*g+q,p=f*c+(f+1)*g+q,r=0;r<=f;r++){var t=r*(c+g)+g/2;(new eb({layer:n,key:m+r,x0:0,x1:s,y0:t,y1:t,stroke:k,lineWidth:g})).offsetX(q).offsetY(q)}for(c=0;c<=e;c++)f=c*
(b+g)+g/2,(new eb({layer:n,key:a+c,x0:f,x1:f,y0:0,y1:p,stroke:k,lineWidth:g})).offsetX(q).offsetY(q);return n}},layoutUtils:Kk,mathUtils:wa,percentageUtils:Jh,plotUtils:xc,rangeUtils:np,referenceLineUtils:To,rowsUtils:Da,scales:$,sceneUtils:Yc,trellisUtils:kw,valueFctUtils:la},formatNumber:Ya,time:ka,DataFormatter:Ea,color:{colorUtils:bh,LinearGradient:C},chartLayouts:{layoutsUtils:{getChartColorLayout:function(a,b,c,f,e){void 0===a&&(a={});var g,k=a.column&&a.column[0];if(k)switch(b={field:k,theme:f,
legendSwatchType:e},a.type?a.type:hb.COLOR_TYPE.CATEGORICAL){case hb.COLOR_TYPE.CATEGORICAL:c=a.domain||Bb.getOrdinalDomain(c,k);g=a.range?a.range.getPaletteColors(c.length):a.colors;r.extend(b,{domain:c,palette:g,respectPaletteColorOrder:null!=a.range,sortColor:void 0!==a.sortColor?a.sortColor:!0});g=pg.make(hb.COLOR_TYPE.CATEGORICAL,b);break;case hb.COLOR_TYPE.BINS:r.extend(b,{rows:c,palette:a.colors,numBins:a.numBins,breakpoints:a.breakpoints,bands:a.bands});g=pg.make(hb.COLOR_TYPE.BINS,b);break;
case hb.COLOR_TYPE.GRADIENT:r.extend(b,{domain:a.domain||Bb.getNumericDomain(c,k),gradient:a.range}),g=pg.make(hb.COLOR_TYPE.GRADIENT,b)}else if(bh.isColor(a))g=pg.make(hb.COLOR_TYPE.CONSTANT,{value:a});else if(void 0!==b||a.range)b=a.range?a.range:b,g=pg.make(hb.COLOR_TYPE.CONSTANT,{value:b});return g},getChartRadiusLayout:function(a,b,c,f){void 0===a&&(a={});var e=a.maxRadius,g=a.radiusRatio,k=a.domain;a=(a=a.column)&&a[0];b=Math.min(b[0]-c.left-c.right,b[1]-c.top-c.bottom);a?(k=k||Bb.getNumericDomain(f,
a),f=wp.make(hb.RADIUS_TYPE.SQRT).setField(a).setRelativeSize(b).setMaxValue(Math.max(Math.abs(k[0]),Math.abs(k[1]))).setMaxRadius(e).setRatio(g)):f=wp.make(hb.CONSTANT).setRelativeSize(b).setValue(e).setRatio(g);return f},updateRadiusLayout:function(a,b,c){b=[b[0]-c.left-c.right,b[1]-c.top-c.bottom];a.setRelativeSize(Math.min(b[0],b[1]))},getChartDimensionStackLayout:function(a,b,c,f,e){if(f&&f.column[0])return xp.make(hb.STACK_TYPE.BY_DIMENSION,{measureColumns:b,trellisColumns:c,stackColumn:f.column[0],
stackOrder:f.sorting,tabularRows:a,normalize:e})},getChartMeasureStackLayout:function(a){return xp.make(hb.STACK_TYPE.BY_MEASURE,{measureColumns:a})},getChartNumericAxisLayout:function(a){if(a){var b=a.domain,c=a.referenceLines,f=a.scale,e=a.showZero;a=a.format;return Mk.make(hb.AXIS_TYPE.NUMERIC).setShowZero(e).setFormat(a).setCustomDomain(b).setScaleType(f).setReferenceLines(c)}},getChartCategoricalAxisLayout:function(a,b,c,f){if(a){var e=a.showAxis,g=a.labelsDepth;a=Wb.hasIcon(a);return Mk.make(hb.AXIS_TYPE.CATEGORICAL).setRows(b).setPlotOptions(c).setAutoFitMode(f).setShowAxis(e).setHasIcon(a).setLabelsDepth(g)}},
getChartTimeAxisLayout:function(a,b,c,f){if(a){var e=a.formats,g=a.granularity,k=a.showAxis,m=a.column[0];b=Bb.getNumericDomain(b,m,!0);var n=m.getGranularity();return Mk.make(hb.AXIS_TYPE.TIME).setGranularity(g||n).setDataGranularity(n).setDataFormat(m.getDataFormat()).setFiscalGranularity(m.getFiscalGranularity()).setIsDiscrete(m.isDiscrete()).setFirstDayOfWeek(m.getFirstDayOfWeek()).setFormats(e).setCustomDomain(a.domain).setDomain(b).setPlotOptions(c).setShowAxis(k).setAutoFitMode(f)}},alignNumericAxisLayouts:function(a,
b){void 0===b&&(b=!1);if(0!==a.length)if(1===a.length)a[0].settleAxisDomainInfo();else{var c=[],f=[],e=[],g=[],k=[],m=a[0].getScaleType();a.forEach(function(a){var n=a.getAxisDomainInfo(),q=n.domain,p=n.margin,n=n.step;if(a.hasCustomDomain()||a.isNormalized())g.push(q),b=!1;c.push(q);f.push(p[0]);e.push(p[1]);k.push(n);b=b&&!!n&&m===a.getScaleType()});var n=!1,q,p=c;if(2>g.length){var r=Bb.alignZerosForDomain(c,b?k:void 0,1===g.length?g[0]:void 0),n=r.aligned,k=r.steps||k;n&&(p=r.domains,a.forEach(function(a,
b){var g=c[b],k=a._getScale(p[b],[0,0],!1),g=Bb.adjustMargin(g,[f[b],e[b]],k);f[b]=g[0];e[b]=g[1]}),q=[Math.max.apply(Math,f),Math.max.apply(Math,e)])}a.forEach(function(a,g){var m=c[g],r=p[g],m=b||m[0]===r[0]&&m[1]===r[1]?k[g]:0;a.setAxisDomain(p[g]).setAxisMargin(n?q:[f[g],e[g]]).setStep(m)})}}},colorLayout:pp.getInstance(),radiusLayout:rp.getInstance(),axisLayout:tp.getInstance(),stackLayout:vp.getInstance()},recommender:{Recommender:nc},enums:{SortingEnum:Aa}},Ip=hi.utils,uw=Ip.constants,Jp=Ip.plotUtils,
Lk=function(a){function b(b,f){a.call(this,b,f);this._render(this._props)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._setDefaultProps=function(){a.prototype._setDefaultProps.call(this);var b=this._props;b.key="shapeGroup";b.text="";b.stroke=void 0;b.fill=void 0;b.x=0;b.y=0;b.intervals=[];b.labelWidth=0;b.scale=void 0;b.formatter=void 0;b.opacity=1E-6;b.textVAlign="middle";b.textHAlign="center";b.dataGranularity=void 0;b.firstDayOfWeek=void 0;
b.fiscalGranularity=void 0;b.isDiscrete=void 0;b.isChartRotated=void 0;b.isTrellis=void 0};b.prototype._setProp=function(b,f,e){a.prototype._setProp.call(this,b,f,e);this._render(this._props);return this};b.prototype._setProps=function(b,f){a.prototype._setProps.call(this,b,f);this._render(this._props);return this};b.prototype._render=function(a){this._renderLines(a);this._renderLabel(a)};b.prototype._renderLabel=function(a){var b=a.y,e=a.text,g=a.isChartRotated,k=a.isTrellis;if(null!=e&&""!==e){var m=
this._getCrosshairLabelViewRange(k),k=m[0],m=m[1];if(g&&(Math.round(b)<k||Math.round(b)>m))return;var n=a.x,q=a.stroke,p=a.fill,r=a.opacity,x=a.textHAlign;a=a.textVAlign;this._label||(this._label=new ya({key:"crosshair-text"}),this.append(this._label));g&&(b=this._adjustLabelLocation(b,k,m,g,e));this._label.set({text:e,x:n,y:b,bgColor:p,padding:new fb({top:2,right:10,bottom:2,left:10}),stroke:q,halign:x,valign:a,vertical:!1,fixedOrientation:!0,includeAscender:!1,opacity:r})}return this._label};b.prototype._adjustLabelLocation=
function(a,b,e,g,k){k=g?Jp.getTextWidth(k)/2+10:Jp.getTextHeight(uw.TEXT_SIZE)/2+2;g=a+k;k=a-k;g>e&&(a-=g-e);k<b&&(a-=k-b);return a};b.prototype._getCrosshairLabelViewRange=function(a){var b=this.getParent();if(b)return a=a?Math.max(0,b.getScene().getScrollOffset()[0]-b.get("x")):b.getScene().getScrollOffset()[0],[a,a+b.getCell().get("w")]};b.prototype._updateLineNumber=function(a){var b=this,e=this._lines.length;if(e!==a)if(e<a)for(var g=0;g<a-e;g++){var k=new eb({key:"crosshair-line-"+(g+e)});b._lines.push(k);
b.append(k)}else this._lines.splice(a,e-a).forEach(function(a){b.remove(a)})};b.prototype._renderLines=function(a){var b=a.y,e=a.intervals,g=a.fill,k=a.opacity;this._lines||(this._lines=[]);this._updateLineNumber(e.length);this._lines.forEach(function(a,c){var q=e[c];a.set({stroke:g,opacity:k,vertical:!1,x0:q[0],y0:b,x1:q[1],y1:b})});return this._lines};return b}(zb);Lk.type="ShapeGroup";var Kp=function(a){function b(b){a.call(this,b);this._decoratedShapes=[];this._closestShape=null}a&&(b.__proto__=
a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.update=function(b){a.prototype.update.call(this,b);return r.extend(b,{focusedShapes:[this._closestShape]})};b.prototype._onActiveLayerCrosshairMove=function(a,b,e){a=a.toNormalizedPosition.apply(a,a.toLocalPosition(b,e))[1];a=this._moveAllCrosshairTo(this._getLayers(),a);this._hoverClosestShape(this._decoratedShapes,b,e);return a};b.prototype._removeAllCrosshair=function(){this._updateDecoratedShapes([]);this._closestShape=
null;return a.prototype._removeAllCrosshair.call(this)};b.prototype._getContainers=function(a){var b=this;return a.get("refContainerKeys").map(function(a){a=a.split("\x26")[1];var c=b._sceneInteractionManagerDelegate.getScene();return(a=c&&c.find({key:a}))&&a.length&&a[0]}).filter(function(a){return a})};b.prototype._getCrossedShapes=function(a,b,e,g,k){return this._getContainers(a).reduce(function(a,c){var q=c.toLocalPosition(b,e),p=q[0],q=q[1],r=c.toLocalPosition(g,k);return a.concat(c.findShapeUnderLine(p,
q,r[0],r[1]).filter(function(a){return a.get("canSelect")}))},[])};b.prototype._updateDecoratedShapes=function(a){this._decoratedShapes.forEach(function(a){return a.uncross()});return this._decoratedShapes=a.map(function(a){return a.cross()})};b.prototype._getCrosshairPositionLabel=function(a,b){var e=b.get("scale"),g=b.get("formatter"),k=e.invert(a);return{position:e.scale(k),label:g(k)}};b.prototype._centerOfShape=function(a){var b=a.getParent(),e=a.boundingBox();a=e.x;var g=e.y,k=e.w,e=e.h;return b?
b.toScenePosition(a+k/2,g+e/2):[a+k/2,g+e/2]};b.prototype._hoverClosestShape=function(a,b,e){this._closestShape&&this._closestShape.restoreHoverArea();if(a.length){for(var g=a[0],k=this._centerOfShape(g),m=k[0],k=k[1],m=(m-b)*(m-b)+(k-e)*(k-e),k=1;k<a.length;++k){var n=a[k],q=this._centerOfShape(n),p=q[0],q=q[1],p=(p-b)*(p-b)+(q-e)*(q-e);p<m&&(g=n,m=p)}this._closestShape=g;this._closestShape.extendHoverArea()}};b.prototype._moveAllCrosshairTo=function(a,b){var e=this,g=!1,k=[],m=!1;a.forEach(function(a){var c=
e._getCrosshair(a),p=e._getCrosshairPositionLabel(b,c),r=p.position,p=p.label;if(r!==c.get("y")||0===c.get("opacity")){m=!0;var x=a.toScenePosition.apply(a,a.toTransformedPosition(c.get("x"),r)),t=x[0],x=x[1],v=a.toScenePosition.apply(a,a.toTransformedPosition(c.get("x")+a.get("w"),r)),t=e._getCrossedShapes(a,t,x,v[0],v[1]),x=e._boundingBoxToLocalIntervals(a,t,!0);c.set({intervals:x,y:r,opacity:1,text:p});k=k.concat(t);a.notifyShapeChanged();g=!0}});m&&this._updateDecoratedShapes(k);return g};return b}(Pv),
vw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.clickEvent=function(a){var b=a.pointerPosition,e=a.focusedShapes,g=a.hotSpot,k=a.activeKeys,m=a.nativeEvent;if(b)this._sceneInteractionManagerDelegate.onEvent(p.EVENT_NAME.MOUSE_CLICK,{x:b[0],y:b[1],shape:r.first(e),hotSpot:g,metaKey:k&&0<=k.indexOf("Meta"),ctrlKey:k&&0<=k.indexOf("Control"),nativeEvent:m});return a};return b}(Fc),ww=function(a){function b(){a.apply(this,
arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.update=function(a){var b=a.blurredShapes,e=a.states,g=r.first(a.focusedShapes),b=r.first(b);0>e.indexOf(p.INTERACTION_DELEGATE_TYPE.BRUSH)&&(g&&!b&&this._perform(g,!0),b&&this._perform(b,!1));return a};b.prototype._perform=function(a,b){void 0===b&&(b=!0);var e=a.getInteractionEntity();e.get("canHover")&&this._sceneInteractionManagerDelegate.getInteractionLayers(p.INTERACTION_DELEGATE_TYPE.HIGHLIGHT).some(function(a){return a===
e.getParent()})&&(b?e.hover():e.unhover())};return b}(Fc),xw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.updateWithTrace=function(a){var b=a.pointerTrace,e=a.states;if(b&&1<b.length){var g=r.first(b),k=r.last(b),m=this._getBrushLayerAt(g[0],g[1]);if(m)switch(g=m.toNormalizedPosition.apply(m,m.toLocalPosition.apply(m,g)),k=m.toNormalizedPosition.apply(m,m.toLocalPosition.apply(m,k)),this._control=
null==this._control?m.getControl.apply(m,g):this._control,this._control){case 0:return b=m.toNormalizedPosition.apply(m,m.toLocalPosition.apply(m,b[b.length-2])),this._onMoving(m,b,k),r.extend({},a,{cursorType:p.CURSOR_TYPE.POINTER,states:e.concat(p.INTERACTION_DELEGATE_TYPE.BRUSH)});case 1:case 2:return this._onResizing(m,this._control,k),r.extend({},a,{cursorType:p.CURSOR_TYPE.EW_RESIZE,states:e.concat(p.INTERACTION_DELEGATE_TYPE.BRUSH)});default:return this._onDragSelecting(m,g,k),r.extend({},
a,{cursorType:p.CURSOR_TYPE.POINTER,states:e.concat(p.INTERACTION_DELEGATE_TYPE.BRUSH)})}}return a};b.prototype.updateWithSelection=function(a){var b=this,e=a.selectionInfo;if(e&&e.isRange){var e=e.keys,g=e[0],k=e[1];this._getBrushLayers().forEach(function(a){var c=a.getBrushStepBySelectionValue(g),e=a.getBrushStepBySelectionValue(k);0<c.index&&0<e.index&&(a.setBrushCaptionText(b._formatCaptionText(a.getRangeLabels())),a.brushSelect(0,c.position,a.get("w"),e.position-c.position+1),b._nSteps=e.index-
c.index+1)})}return a};b.prototype.release=function(a){var b=a.pointerPosition;if(b&&(b=(e=this)._getBrushLayerAt.apply(e,b)))if(e=this._onRelease(b),this._getBrushLayers().forEach(function(a){a.hideBrushCaptionText();a.snapToSteps()}),e)return r.extend({},a,{focusedShapes:null,selectionInfo:{keys:e,isSelect:!0,isRange:!0}});return a;var e};b.prototype.reset=function(a){this._resetBrush();this._control=null;return r.extend({},a,{focusedShapes:null,selectionInfo:{keys:[],isSelect:!0,isRange:!0}})};
b.prototype._resetBrush=function(){this._nSteps=-1;this._getBrushLayers().forEach(function(a){a.removeBrush()})};b.prototype._brushSelectAllLayers=function(a,b,e,g){var k=this;this._getBrushLayers().forEach(function(m){m.setBrushCaptionText(k._formatCaptionText(m.getRangeLabels()));m.brushSelect(a,b,e,g)})};b.prototype._onDragSelecting=function(a,b,e){var g=b[1],k=e[1];(b[0]!==e[0]||g!==k)&&this._brushSelectAllLayers(0,g,a.get("w"),k-g+1)};b.prototype._onResizing=function(a,b,e){e=e[1];var g=a.getBrushArea();
if(g){a=g.x0;var k=g.y0,m=g.x1,g=g.y1;1===b?e>g?(this._control=2,this._brushSelectAllLayers(a,g,m-a+1,0)):this._brushSelectAllLayers(a,e,m-a+1,g-e+1):2===b&&(e<k?(this._control=1,this._brushSelectAllLayers(a,k,m-a+1,0)):this._brushSelectAllLayers(a,k,m-a+1,e-k+1))}};b.prototype._adjustArea=function(a,b,e,g,k){var m=a.get("w");a=a.get("h");m=this._getOverflow(0,m,b)||this._getOverflow(0,m,b+g-1);a=this._getOverflow(0,a,e)||this._getOverflow(0,a,e+k-1);return{x:b-m,y:e-a,w:g,h:k}};b.prototype._getOverflow=
function(a,b,e){var g=a+b-1;b=Math.min(a,g);a=Math.max(a,g);return e-(e<b?b:e>a?a:e)};b.prototype._onMoving=function(a,b,e){var g=b[1],k=e[1],m=a&&a.getBrushArea();if(m){e=m.x0;b=m.y0;var m=m.x1,g=k-g,k=a.getBrushStepByPosition(b+g),n=a.getBrushStepByIndex(k.index+this._nSteps-1);a=this._adjustArea(a,e,b+g,m-e+1,n.position-k.position+1);this._brushSelectAllLayers(a.x,a.y,a.w,a.h)}};b.prototype._onRelease=function(a){var b=a.snapToSteps();a=b[0];b=b[1];return a&&b?(this._control=null,this._nSteps=
b.index-a.index+1,[a.selectionValue,b.selectionValue]):[]};b.prototype._formatCaptionText=function(a){var b="";2===a.length&&(b=a[0]+" \u2013 "+a[1]);return b};return b}(lp),yw=p.SELECT_ACTION,zw=function(a){function b(b){a.call(this,b);this.mode=b.getScene().get("selectMode");this.selectMgrByLayer={};this._setupManagers(this._getLayers())}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.initClass=function(){this.prototype.type="selection";this.prototype.selectMgrByLayer=
null};b.prototype._getLayers=function(){return this._sceneInteractionManagerDelegate.getInteractionLayers(p.INTERACTION_DELEGATE_TYPE.SELECTION)};b.prototype._setupManagers=function(a){var b=this;a.forEach(function(a){var c;switch(b.mode){case p.SELECTMODE.RANGE:case p.SELECTMODE.SINGLE:c=new Ep(a);break;case p.SELECTMODE.SINGLE_REQUIRED:c=new Dp(a);break;case p.SELECTMODE.MULTI:c=new Cp(a);break;case p.SELECTMODE.MULTI_REQUIRED:c=new Bp(a)}b.selectMgrByLayer[a.key]=c})};b.prototype.selectRange=function(a){var b=
a.selectionInfo;if(b)this._sceneInteractionManagerDelegate.onSelect(yw.SELECT,null,b.keys);return r.extend({},a,{selectionInfo:{keys:this.getSelection()}})};b.prototype.selectShapes=function(a){var b=this,e=a.focusedShapes,g=a.hotSpot,k=a.activeKeys;e&&!g&&e.forEach(function(a){a?b._selectShape(a,k&&0<=k.indexOf(p.KEYBOARD_KEY.SHIFT)):(a=p.SELECT_ACTION.RESET,b._delegateToSelectMgr(a),b._invokeSceneCallback(),b._sceneInteractionManagerDelegate.onSelect(a,void 0,b.getSelection()))});return r.extend({},
a,{selectionInfo:{keys:this.getSelection()}})};b.prototype.selectKeys=function(a){var b=a.selectionInfo;b&&this.setSelection(b.keys);return r.extend({},a,{selectionInfo:{keys:this.getSelection()}})};b.prototype._selectShape=function(a,b){void 0===b&&(b=!0);a=a.getInteractionEntity();var e=a.getParent();if(!A.includes(this._getLayers(),e)||!a.get("canSelect"))return!1;e=a.isSelected()?p.SELECT_ACTION.UNSELECT:p.SELECT_ACTION.SELECT;!b&&(e===p.SELECT_ACTION.SELECT&&this._isSelectModeExclusive(a))&&
(e=p.SELECT_ACTION.SELECT_EXCLUSIVE);this._delegateToSelectMgr(e,a.get("selectionKeys")?a.get("selectionKeys"):[a.key]);if(!((e===p.SELECT_ACTION.SELECT||e===p.SELECT_ACTION.SELECT_EXCLUSIVE)&&a.isSelected()||e===p.SELECT_ACTION.UNSELECT&&!a.isSelected()))return!1;this._invokeSceneCallback();this._sceneInteractionManagerDelegate.onSelect(e,null!=a?a.key:void 0,this.getSelection());return!0};b.prototype._invokeSceneCallback=function(){var a=this._sceneInteractionManagerDelegate.getScene();if(a&&a.onSelectionChanged)a.onSelectionChanged(this.getSelection())};
b.prototype._delegateToSelectMgr=function(a,b){for(var e in this.selectMgrByLayer)if(this.selectMgrByLayer[e]){var g=this.selectMgrByLayer[e];g.onEvent(a,b);g.selection.sort()}};b.prototype._isSelectModeExclusive=function(a){for(;null!=a.getParent();)a=a.getParent();return(a=a.get("config"))?a.selectModeExclusive:!1};b.prototype.setSelection=function(a){a.sort();for(var b in this.selectMgrByLayer)this.selectMgrByLayer[b]&&this.selectMgrByLayer[b].setSelection(a);this._invokeSceneCallback()};b.prototype.getSelection=
function(){var a=this._getLayers();return a&&a.length?(a=this.selectMgrByLayer[r.first(this._getLayers()).key])&&a.selection||[]:[]};b.prototype.select=function(a){null!=a&&(this._delegateToSelectMgr(p.SELECT_ACTION.SELECT,a),this._invokeSceneCallback())};b.prototype.unselect=function(a){null!=a&&(this._delegateToSelectMgr(p.SELECT_ACTION.UNSELECT,a),this._invokeSceneCallback())};return b}(Fc),Aw=p.INTERACTION_DELEGATE_TYPE,Bw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=
Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._getLayers=function(){return this._sceneInteractionManagerDelegate.getInteractionLayers(Aw.TIME_CROSSHAIR)};b.prototype._getCrosshairPositionLabel=function(a,b){var e=b.get("scale"),g=b.get("formatter"),k=b.get("dataGranularity")||"month",m=e.invert(a),n;if(R.isFiscalTimeFormat(k)){var q=b.get("fiscalGranularity"),s=b.get("isDiscrete");n=R.startOf(m,k,s,k,q).valueOf();k=R.offset(n,1,k,s,k,q).valueOf()}else k===p.TIME_GRANULARITY.SFDC_WEEK?
(k=b.get("firstDayOfWeek"),n=Eb.startOf(m,k).valueOf(),k=Eb.offset(n,1,k).valueOf()):(n=G.DateTime.fromMillis(m).startOf(k).valueOf(),k=ka.offset(n,1,k).valueOf());q=e.domain();m=k>q[q.length-1]?n:n<q[0]?k:Math.abs(m-k)<Math.abs(m-n)?k:n;return{position:e.scale(m),label:g(m)}};return b}(Kp),Cw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.showTooltip=function(a,b){void 0===b&&(b=!1);var e=a.states,
g=r.first(a.focusedShapes);if(0>e.indexOf(p.INTERACTION_DELEGATE_TYPE.BRUSH)&&g&&"Text"!==g.getType())this._sceneInteractionManagerDelegate.onTooltipStateChange(!0,g,b);return a};b.prototype.hideTooltip=function(a){this._sceneInteractionManagerDelegate.onTooltipStateChange(!1);return a};b.prototype.changeVisibility=function(a,b){var e=a.states,g=r.first(a.focusedShapes);if(b&&g&&!g.isSelected())this._sceneInteractionManagerDelegate.onTooltipStateChange(!1,g);else if(0>e.indexOf(p.INTERACTION_DELEGATE_TYPE.BRUSH)&&
g&&"Text"!==g.getType())this._sceneInteractionManagerDelegate.onTooltipStateChange(!0,g);else this._sceneInteractionManagerDelegate.onTooltipStateChange(!1);return a};return b}(Fc),Dw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.update=function(a){var b=r.first(a.focusedShapes);if(b&&b.get("onClick")){var e=b.get("onClick"),b=e.eventName,e=e.eventData;if(null!=b)this._sceneInteractionManagerDelegate.onEvent(b,
e)}return a};return b}(Fc),$b=p.INTERACTION_DELEGATE_TYPE,Sk=function(a){this._cache={};this._sceneInteractionManagerDelegate=a};Sk.prototype.make=function(a){if(this._cache[a])return this._cache[a];var b;switch(a){case $b.DISCRETE_CROSSHAIR:b=new Kp(this._sceneInteractionManagerDelegate);break;case $b.BRUSH:b=new lp(this._sceneInteractionManagerDelegate);break;case $b.CENTER:b=new Nv(this._sceneInteractionManagerDelegate);break;case $b.CURSOR:b=new Ov(this._sceneInteractionManagerDelegate);break;
case $b.EVENT:b=new vw(this._sceneInteractionManagerDelegate);break;case $b.HIGHLIGHT:b=new ww(this._sceneInteractionManagerDelegate);break;case $b.RANGE:b=new xw(this._sceneInteractionManagerDelegate);break;case $b.SELECTION:b=new zw(this._sceneInteractionManagerDelegate);break;case $b.TIME_CROSSHAIR:b=new Bw(this._sceneInteractionManagerDelegate);break;case $b.TOOLTIP:b=new Cw(this._sceneInteractionManagerDelegate);break;case $b.ANNOTATION:b=new Mv(this._sceneInteractionManagerDelegate);break;case $b.CUSTOM:b=
new Dw(this._sceneInteractionManagerDelegate)}b&&(this._cache[a]=b);return b};Sk.prototype.reset=function(){var a=this;Object.keys(this._cache).forEach(function(b){b=a._cache[b];b.reset&&b.reset()});this._cache={}};var ac=p.INTERACTION_DELEGATE_TYPE,Ew=ac.ANNOTATION,Fw=ac.BRUSH,Gw=ac.CENTER,Lp=ac.CURSOR,Hw=ac.CUSTOM,Iw=ac.DISCRETE_CROSSHAIR,Jw=ac.EVENT,Mp=ac.HIGHLIGHT,Kw=ac.RANGE,Tk=ac.SELECTION,Lw=ac.TIME_CROSSHAIR,Qe=ac.TOOLTIP,Np=function(){};Np.make=function(a,b){var c,f,e,g,k,m,n,q,s,r,x;switch(a){case p.INTERACTION_TYPE.COMMON:return k=
b.make(Jw),new ba([new Xb({update:new ga(function(a){return k.clickEvent(a)})})],p.INTERACTION_TYPE.COMMON);case p.INTERACTION_TYPE.DIMENSION_CROSSHAIR:return s=b.make(Qe),r=b.make(Iw),new ba([new ip({update:new ga(function(a){return r.update(a)})}),new bi({enter:new ga(function(a){return r.reset(a)},function(a){return s.hideTooltip(a)})})],p.INTERACTION_TYPE.DIMENSION_CROSSHAIR);case p.INTERACTION_TYPE.TIME_CROSSHAIR:return s=b.make(Qe),r=b.make(Lw),new ba([new ip({update:new ga(function(a){return r.update(a)})}),
new bi({enter:new ga(function(a){return r.reset(a)},function(a){return s.hideTooltip(a)})})],p.INTERACTION_TYPE.TIME_CROSSHAIR);case p.INTERACTION_TYPE.HIGHLIGHT:return m=b.make(Mp),s=b.make(Qe),g=b.make(Lp),new ba([new Kv({enter:new ga(function(a){return m.update(a)},function(a){return s.showTooltip(a)},function(a){return g.update(a)}),leave:new ga(function(a){return m.update(a)},function(a){return s.hideTooltip(a)},function(a){return g.reset(a)})})],p.INTERACTION_TYPE.HIGHLIGHT);case p.INTERACTION_TYPE.MULTI_SELECTION:return q=
b.make(Tk),f=b.make(Fw),g=b.make(Lp),new ba([new bi({update:new ga(function(a){return f.updateWithTrace(a)},function(a){return q.selectShapes(a)},function(a){return g.update(a)}),leave:new ga(function(a){return f.reset(a)})}),new Xb({update:new ga(function(a){return q.selectShapes(a)})}),new mg({update:new ga(function(a){return q.selectKeys(a)})})],p.INTERACTION_TYPE.MULTI_SELECTION);case p.INTERACTION_TYPE.RANGE_SELECTION:return q=b.make(Tk),n=b.make(Kw),s=b.make(Qe),new ba([new bi({enter:new ga(function(a){return s.hideTooltip(a)}),
update:new ga(function(a){return n.updateWithTrace(a)}),leave:new ga(function(a){return n.release(a)},function(a){return q.selectRange(a)})}),new Xb({update:new ga(function(a){return n.reset(a)},function(a){return q.selectRange(a)})}),new mg({update:new ga(function(a){return n.updateWithSelection(a)})})],p.INTERACTION_TYPE.RANGE_SELECTION);case p.INTERACTION_TYPE.SINGLE_SELECTION:return q=b.make(Tk),new ba([new Xb({update:new ga(function(a){return q.selectShapes(a)})}),new mg({update:new ga(function(a){return q.selectKeys(a)})})],
p.INTERACTION_TYPE.SINGLE_SELECTION);case p.INTERACTION_TYPE.TAB:return m=b.make(Mp),s=b.make(Qe),e=b.make(Gw),new ba([new kp({update:new ga(function(a){return m.update(a)},function(a){return s.hideTooltip(a)},function(a){return e.center(a)})})],p.INTERACTION_TYPE.TAB);case p.INTERACTION_TYPE.SPACE:return s=b.make(Qe),new ba([new Lv({update:new ga(function(a){return s.showTooltip(a,!0)})})],p.INTERACTION_TYPE.SPACE);case p.INTERACTION_TYPE.ANNOTATION:return c=b.make(Ew),new ba([new Xb({update:new ga(function(a){return c.clickUpdate(a)})})],
p.INTERACTION_TYPE.ANNOTATION);case p.INTERACTION_TYPE.CUSTOM:return x=b.make(Hw),new ba([new Xb({update:new ga(function(a){return x.update(a)})})],p.INTERACTION_TYPE.CUSTOM)}return new ba([],"none")};var ud=p.INTERACTION_DELEGATE_TYPE,Mw=ud.ANNOTATION,Nw=ud.CUSTOM,Ow=ud.DISCRETE_CROSSHAIR,Pw=ud.EVENT,Qw=ud.HIGHLIGHT,Uk=ud.SELECTION,Rw=ud.TIME_CROSSHAIR,ii=ud.TOOLTIP,Op=function(){};Op.make=function(a,b){var c,f,e,g,k,m,n;switch(a){case p.INTERACTION_TYPE.COMMON:return f=b.make(Pw),k=b.make(ii),new ba([new Xb({update:new ga(function(a){return k.changeVisibility(a)},
function(a){return f.clickEvent(a)})})],p.INTERACTION_TYPE.COMMON);case p.INTERACTION_TYPE.DIMENSION_CROSSHAIR:case p.INTERACTION_TYPE.TIME_CROSSHAIR:return m=b.make(a===p.INTERACTION_TYPE.DIMENSION_CROSSHAIR?Ow:Rw),g=b.make(Uk),new ba([new Xb({update:new ga(function(a){return m.update(a)})})],a);case p.INTERACTION_TYPE.MULTI_SELECTION:return g=b.make(Uk),k=b.make(ii),new ba([new Xb({update:new ga(function(a){return g.selectShapes(a)},function(a){return k.changeVisibility(a,!0)})}),new mg({update:new ga(function(a){return g.selectKeys(a)})})],
p.INTERACTION_TYPE.MULTI_SELECTION);case p.INTERACTION_TYPE.SINGLE_SELECTION:return g=b.make(Uk),k=b.make(ii),new ba([new Xb({update:new ga(function(a){return g.selectShapes(a)},function(a){return k.changeVisibility(a,!0)})}),new mg({update:new ga(function(a){return g.selectKeys(a)})})],p.INTERACTION_TYPE.SINGLE_SELECTION);case p.INTERACTION_TYPE.TAB:return e=b.make(Qw),k=b.make(ii),new ba([new kp({update:new ga(function(a){return e.update(a)},function(a){return k.showTooltip(a)})})],p.INTERACTION_TYPE.TAB);
case p.INTERACTION_TYPE.ANNOTATION:return c=b.make(Mw),new ba([new Xb({update:new ga(function(a){return c.clickUpdate(a)})})],p.INTERACTION_TYPE.ANNOTATION);case p.INTERACTION_TYPE.CUSTOM:return n=b.make(Nw),new ba([new Xb({update:new ga(function(a){return n.update(a)})})],p.INTERACTION_TYPE.CUSTOM)}return new ba([],"none")};var Pp=p.INTERACTION_DELEGATE_TYPE,Ic=Cc.inBrowser()&&!Cc.isMobile()?Np:Op,de=p.EVENT_NAME,N=function(a,b){this._scene=this._hotSpot0=this._shape0=null;this._durations=b.durations||
{};this._sceneInteractionDelegate=a;this._interactionLayers={};this._interactionDelegateFactory=new Sk(this);this._activeKeys=[];this._action=new ba([]);this._formatedTooltip=[];this._tooltipRenderer=b.tooltipRenderer;this._canRemoveTooltip=b.canRemoveTooltip;this._removeTooltip=b.removeTooltip};N.prototype.setScene=function(a){var b=this;this._scene=a;this.reset();var c=!1,f=!1,e;if(a){a.prepareForInteraction();this._action.addAction(Ic.make(p.INTERACTION_TYPE.COMMON,this._interactionDelegateFactory));
a.getCells().forEach(function(g){g.getLayers().forEach(function(g){g.get("decorationType")===p.DECORATION_LAYER_TYPE.DISCRETE_CROSSHAIR&&(e=p.INTERACTION_TYPE.DIMENSION_CROSSHAIR,b.addInteractionLayer(g,Pp.DISCRETE_CROSSHAIR));g.get("decorationType")===p.DECORATION_LAYER_TYPE.TIME_CROSSHAIR&&(e=p.INTERACTION_TYPE.TIME_CROSSHAIR,b.addInteractionLayer(g,Pp.TIME_CROSSHAIR));g.get("canHover")&&(f=!0,b.addInteractionLayer(g,p.INTERACTION_DELEGATE_TYPE.HIGHLIGHT));a&&a.get("selectMode")!==p.SELECTMODE.NONE&&
(g.isBrushLayer()?(c=!0,b.addInteractionLayer(g,p.INTERACTION_DELEGATE_TYPE.BRUSH)):g.get("canSelect")&&(c=!0,b.addInteractionLayer(g,p.INTERACTION_DELEGATE_TYPE.SELECTION)))})});if(c){this._selectionDelegate=this._interactionDelegateFactory.make(p.INTERACTION_DELEGATE_TYPE.SELECTION);var g=a.get("selectMode");g===p.SELECTMODE.SINGLE||g===p.SELECTMODE.SINGLE_REQUIRED?this._action.addAction(Ic.make(p.INTERACTION_TYPE.SINGLE_SELECTION,this._interactionDelegateFactory)):g===p.SELECTMODE.MULTI||g===p.SELECTMODE.MULTI_REQUIRED?
this._action.addAction(Ic.make(p.INTERACTION_TYPE.MULTI_SELECTION,this._interactionDelegateFactory)):g===p.SELECTMODE.RANGE&&this._action.addAction(Ic.make(p.INTERACTION_TYPE.RANGE_SELECTION,this._interactionDelegateFactory))}e&&this._action.addAction(Ic.make(e,this._interactionDelegateFactory));f&&this._action.addAction(Ic.make(p.INTERACTION_TYPE.HIGHLIGHT,this._interactionDelegateFactory));this._annotationDelegate=this._interactionDelegateFactory.make(p.INTERACTION_DELEGATE_TYPE.ANNOTATION);this._action.addAction(Ic.make(p.INTERACTION_TYPE.ANNOTATION,
this._interactionDelegateFactory));this._action.addAction(Ic.make(p.INTERACTION_TYPE.TAB,this._interactionDelegateFactory));this._action.addAction(Ic.make(p.INTERACTION_TYPE.CUSTOM,this._interactionDelegateFactory));this._action.addAction(Ic.make(p.INTERACTION_TYPE.SPACE,this._interactionDelegateFactory))}return this};N.prototype.hasScene=function(){return null!=this._scene};N.prototype.addInteractionLayer=function(a,b){this._interactionLayers[b]=this._interactionLayers[b]||[];this._interactionLayers[b].push(a)};
N.prototype.getInteractionLayers=function(a){return this._interactionLayers[a]||[]};N.prototype.render=function(a,b,c){void 0===a&&(a={duration:0});void 0===b&&(b=!1);void 0===c&&(c=p.RENDER_TYPE.INTERACTION);return this._sceneInteractionDelegate.onRender(this._scene,r.extend({},a,{forcedFullRender:!1}),b,c)};N.prototype.reset=function(){this._action=new ba([]);this._interactionLayers={};this._interactionDelegateFactory.reset();this._activeKeys=[];return this};N.prototype.getAutoFitRatio=function(){var a=
this._scene;return(a=a&&a.get("config"))&&a._autoFitRatio||0};N.prototype.scrollTo=function(a,b,c){void 0===c&&(c=0);if(this._sceneInteractionDelegate.isRemoved())return Promise.resolve((new P({name:"scrollTo"})).start());var f=this._getScrollOffset(),e=f[1];return a!==f[0]||b!==e?(this._sceneInteractionDelegate.onTooltipStateChange(!1),null!=this._scene&&(this._scene.onScroll(a,b),this._annotationDelegate&&this._annotationDelegate.update(!0)),this.render({duration:c||0})):Promise.resolve((new P({name:"scrollTo"})).start())};
N.prototype._getScrollOffset=function(){return this._scene?this._scene.get("scrollOffset"):[0,0]};N.prototype.renderAccessibilityTable=function(a){return this};N.prototype.renderAccessibilityTabbableItems=function(){return Promise.resolve()};N.prototype.getTooltipWithPath=function(a){if(this._scene){a=this._getHoverEntityWithPath(this._scene,a);var b=a.get("dataFormatter");if(a&&a.get("data")&&a.get("data").row&&b&&b.hasTooltip())return b.formatTooltip(a.get("data").row)}return[]};N.prototype._getHoverEntityWithPath=
function(a,b){var c=Ud.getModelNode(a,b);return c?c:this._getShapeGroupNodeWithPath(a,b)};N.prototype._getShapeGroupNodeWithPath=function(a,b){var c="",f=b[b.length-1];f&&(c=f.replace(/(^.*)\/[0-9]+$/,function(a,b){return b}));if(c!==f)return Ud.getModelNode(a,b.slice(0,-1).concat(c))};N.prototype.updateScrollPosition=function(a,b){if(this._scene)this._scene.onScroll(a,b);return this};N.prototype.getSelection=function(){return this._selectionDelegate?this._selectionDelegate.getSelection():[]};N.prototype.setSelection=
function(a,b){void 0===b&&(b={});var c=this._scene&&this._scene.get("selectMode");this._delegate("onSelect",{selectionInfo:{keys:a,overwrite:!0,isRange:c===p.SELECTMODE.RANGE}});(!b||!b.skipRender)&&this.render({duration:this._durations.select});this._annotationDelegate&&this._annotationDelegate.update();return this};N.prototype.select=function(a,b){void 0===b&&(b={});this._selectionDelegate&&this._selectionDelegate.select(a);(!b||!b.skipRender)&&this.render({duration:this._durations.select});this._annotationDelegate&&
this._annotationDelegate.update();return this};N.prototype.unselect=function(a,b){void 0===b&&(b={});this._selectionDelegate&&this._selectionDelegate.unselect(a);(!b||!b.skipRender)&&this.render({duration:this._durations.select});this._annotationDelegate&&this._annotationDelegate.update();return this};N.prototype._updateKeyFromNativeEvent=function(a,b){if(!b)return a;var c={Meta:"metaKey",Control:"ctrlKey",Shift:"shiftKey",Alt:"altKey"};return a.filter(function(a){return!c.hasOwnProperty(a)}).concat(Object.keys(c).reduce(function(a,
e){b[c[e]]&&a.push(e);return a},[]))};N.prototype.mouseMove=function(a,b,c){var f=this._scene&&this._scene.findShapeUnderPos(a,b),e=f&&f.findHotSpotUnderPos(a,b),g=this._delegate("onMouseMove",{pointerPosition:[a,b],focusedShapes:[f],activeKeys:this._updateKeyFromNativeEvent(this._activeKeys,c),hotSpot:this._hotSpot0,nativeEvent:c});if(f!==this._shape0){if(this._shape0&&(this._hotSpot0&&this._onMouseLeaveHotSpot(this._hotSpot0),this._onMouseLeaveShape(this._shape0,f,g)),this._formatedTooltip=[],f&&
(this._onMouseEnterShape(this._shape0,f,g),e&&this._onMouseEnterHotSpot(e),e=this._scene&&this._scene.get("dataFormatter"),(f=f.get("data"))&&f.row&&e&&e.hasTooltip()))this._formatedTooltip=e.formatTooltipWithColumns(f.row,f.columns)}else{if(f)this._sceneInteractionDelegate.onTooltipMove(f);e!==this._hotSpot0&&(this._hotSpot0&&this._onMouseLeaveHotSpot(this._hotSpot0),e&&this._onMouseEnterHotSpot(e))}this.render({duration:p.ANIM_DURATION.HOVER});this._trigger(p.UNDOCUMENTED_EVENTS.MOUSE_MOVE,{x:a,
y:b,lines:this._formatedTooltip,shape:this._shape0,hotSpot:this._hotSpot0,nativeEvent:c});return this};N.prototype.mouseDown=function(a,b,c){this._delegate("onMouseDown",{pointerPosition:[a,b],focusedShapes:[this._scene&&this._scene.findShapeUnderPos(a,b)],activeKeys:this._updateKeyFromNativeEvent(this._activeKeys,c),hotSpot:this._hotSpot0,nativeEvent:c});this.render({duration:0});this._trigger(p.UNDOCUMENTED_EVENTS.MOUSE_DOWN,{x:a,y:b,shape:this._shape0,hotSpot:this._hotSpot0,nativeEvent:c});return this};
N.prototype.mouseUp=function(a,b,c){this._delegate("onMouseUp",{pointerPosition:[a,b],focusedShapes:[this._scene&&this._scene.findShapeUnderPos(a,b)],activeKeys:this._updateKeyFromNativeEvent(this._activeKeys,c),hotSpot:this._hotSpot0,nativeEvent:c});this.render({duration:this._durations.select});this._trigger(p.UNDOCUMENTED_EVENTS.MOUSE_UP,{x:a,y:b,shape:this._shape0,hotSpot:this._hotSpot0,nativeEvent:c});return this};N.prototype.mouseClick=function(a,b){var c=this._scene&&this._scene.findShapeUnderPos(a,
b);this._delegate("onMouseDown",{pointerPosition:[a,b],focusedShapes:[c],activeKeys:this._activeKeys,hotSpot:this._hotSpot0});this._delegate("onMouseUp",{pointerPosition:[a,b],focusedShapes:[c],activeKeys:this._activeKeys,hotSpot:this._hotSpot0});this.render({duration:this._durations.select});return this};N.prototype.mouseLeave=function(a,b,c){var f=!1;this._hotSpot0&&(f=this._onMouseLeaveHotSpot(this._hotSpot0)||f);this._shape0&&(f=this._onMouseLeaveShape(this._shape0,null)||f);(f=this._delegate("onMouseLeave",
{pointerPosition:[a,b],nativeEvent:c})||f)&&this.render({duration:p.ANIM_DURATION.HOVER});this._trigger(de.MOUSE_LEAVE,{x:a,y:b,nativeEvent:c});return this};N.prototype.tabOnShape=function(a){return this};N.prototype.tabOffShape=function(a){return this};N.prototype.keyDown=function(a,b){-1===this._activeKeys.indexOf(a)&&this._activeKeys.push(a);this._delegate("onKeyDown",{activeKeys:this._activeKeys})&&this.render({duration:0});this._trigger(de.KEY_DOWN,{nativeEvent:b});return this};N.prototype.keyUp=
function(a,b){this._activeKeys.splice(this._activeKeys.indexOf(a),1);this._delegate("onKeyUp",{activeKeys:this._activeKeys})&&this.render({duration:this._durations.select});this._trigger(de.KEY_UP,{nativeEvent:b});return this};N.prototype.setAnnotations=function(a){void 0===a&&(a=[]);this._annotationDelegate&&this._annotationDelegate.setAnnotations(a);return this};N.prototype.getAnnotations=function(){return this._annotationDelegate?this._annotationDelegate.getAnnotations():[]};N.prototype.hideTooltip=
function(){this._sceneInteractionDelegate.onTooltipStateChange(!1);return this};N.prototype.showTooltip=function(a,b,c,f,e){f=this._scene&&this._scene.get("dataFormatter");if(!f)return this;if(!c){if(this._sceneInteractionDelegate.isRemoved()||!a||!a.get("data")||!f)return this;c=a.get("data").row}if((!c||!f.hasTooltip())&&!this._tooltipRenderer)return this;a&&(e=a.get("data").columns);this._sceneInteractionDelegate.onTooltipStateChange(!0,f.formatTooltipWithColumns(c,e),a,b,this._tooltipRenderer,
this._canRemoveTooltip,this._removeTooltip);return this};N.prototype.getScene=function(){return this._scene};N.prototype.getPadding=function(){return this._sceneInteractionDelegate.getPadding()};N.prototype.getAnnotation=function(){return this._sceneInteractionDelegate.getAnnotation()};N.prototype.onEvent=function(a,b){this._sceneInteractionDelegate.onEvent(a,b)};N.prototype.onSelect=function(a,b,c){this._sceneInteractionDelegate.onSelect(a,b,c)};N.prototype.onCursorChange=function(a){this._sceneInteractionDelegate.onCursorChange(a)};
N.prototype.onTooltipStateChange=function(a,b,c){a?this.showTooltip(b,c):this.hideTooltip()};N.prototype._onMouseEnterHotSpot=function(a){this._hotSpot0=a;this._trigger(de.MOUSE_ENTER_HOTSPOT,{shape:this._shape0,hotSpot:a});return a.hover()};N.prototype._onMouseLeaveHotSpot=function(a){this._hotSpot0=null;this._trigger(de.MOUSE_LEAVE_HOTSPOT,{shape:this._shape0,hotSpot:a});return a.unhover()};N.prototype._onMouseEnterShape=function(a,b,c){if("Text"===b.getType()&&b.isTruncated()){if(this._sceneInteractionDelegate.isRemoved())return;
var f=b.getRotation(),f=f?f.angle:0;this._sceneInteractionDelegate.onShowTruncationTooltip(b.get("text"),f,b.truncationTooltipPositions(),b.totalTranslation(!0,!0))}this._shape0=b;this._trigger(de.MOUSE_ENTER_SHAPE,{shape:b});return this._delegate("onMouseEnterShape",{focusedShapes:[b],blurredShapes:[a],states:c&&c.states||[]})};N.prototype._onMouseLeaveShape=function(a,b,c){this._shape0=null;this._trigger(de.MOUSE_LEAVE_SHAPE,{shape:a});return this._delegate("onMouseLeaveShape",{focusedShapes:[b],
blurredShapes:[a],states:c&&c.states||[]})};N.prototype._trigger=function(a,b){if(this._scene){var c=b.x,f=b.y;if(null!=c){var e=this._scene.get("position"),g=e[1];b.x=e[0]+c;b.y=g+f}this._sceneInteractionDelegate.onEvent(a,b)}};N.prototype._delegate=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];return this._action[a].apply(this._action,b)};var Vk=p.ACCESSIBILITY,Sw=td.getInstance(),Tw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.renderAccessibilityTable=function(a){if(this._scene)this._sceneInteractionDelegate.onRenderAccessibilityTable(this._getTable(a,this._scene.get("rowsMetadata")));return this};b.prototype.renderAccessibilityTabbableItems=function(){var a=this;return this._sceneInteractionDelegate.onRender(this._scene,{duration:0,forcedFullRender:!0}).then(function(){return a._sceneInteractionDelegate.onRenderAccessibilityTabbableItems()})};b.prototype.getTooltipWithPath=
function(a){var b=this._scene;if(b){a=this._getHoverEntityWithPath(b,a);var b=b.get("dataFormatter"),e=a.getModelProps().accessibility.type;return e===Vk.TYPE.DATA&&a&&a.get("data")&&a.get("data").row&&null!=b&&b.hasTooltip()?{lines:b.formatTooltip(a.get("data").row),info:a.getInfo(),text:a.getModelProps().text}:e===Vk.TYPE.AXIS?{lines:[{label:W.getLabel("@salesforce/charts","sortAssistiveText",[a.getModelProps().text]),type:"text"}]}:{lines:[]}}return{lines:[]}};b.prototype.toTable=function(a){if(!a.length)return{titleRow:[],
dataRows:[]};var b=[],e=new Set;a=a.map(function(a,c){return a.reduce(function(a,c){var g=c.type,k=c.label,p=c.value;void 0!==g&&(e.has(k)||(b.push({label:k,type:g}),e.add(k)),a.push(p));return a},[])});return{titleRow:b,dataRows:null==r.find(b,function(a){return a.type===Vk.CELL_TYPE.DIMENSION})?a.slice(0,1):a}};b.prototype.getRows=function(a,b){return a.map(function(a){return Sw.formatRow(a,b)})};b.prototype._getTable=function(a,b){void 0===a&&(a=[]);return this.toTable(this.getRows(a,b))};b.prototype._getHoverEntityWithPath=
function(a,b){var e=Ud.getModelNode(a,b,!0);return e?e:this._getShapeGroupNodeWithPath(a,b)};b.prototype._getShapeGroupNodeWithPath=function(a,b){var e="",g=b[b.length-1];g&&(e=g.replace(/(^.*)\/[0-9]+$/,function(a,b){return b}));if(e!==g)return Ud.getModelNode(a,b.slice(0,-1).concat(e))};b.prototype._delegateAndRenderOnKeyDown=function(a,b,e){var g=this._scene;if(g&&(a=Ud.getModelNode(g,a,!0)))this._delegate("onKeyDown",{focusedShapes:[a],activeKeys:[b]}),this._sceneInteractionDelegate.onRender(this._scene,
{duration:p.ANIM_DURATION.TAB,forcedFullRender:!0},!1,e),this._shape0=a;return this};b.prototype.tabOnShape=function(a){this._delegateAndRenderOnKeyDown(a,p.KEYBOARD_KEY.TAB,"tab")};b.prototype.tabOffShape=function(a){var b=this._scene;if(b&&(a=Ud.getModelNode(b,a,!0)))this._delegate("onKeyDown",{blurredShapes:[a],activeKeys:[p.KEYBOARD_KEY.TAB]}),this._sceneInteractionDelegate.onRender(this._scene,{duration:p.ANIM_DURATION.TAB,forcedFullRender:!0},!1,"tab"),this._shape0=null;return this};b.prototype.spaceKeyDownOnShape=
function(a){this._delegateAndRenderOnKeyDown(a,p.KEYBOARD_KEY.SPACE,"space")};b.prototype.keyDown=function(b,f){return b===p.KEYBOARD_KEY.ENTER&&this._shape0?(this._delegate("onMouseDown",{pointerPosition:[0,0],focusedShapes:[this._shape0]}),this._delegate("onMouseUp",{pointerPosition:[0,0],focusedShapes:[this._shape0]}),this.render({duration:this._durations.select},!1,p.EVENT_NAME.MOUSE_CLICK),this):a.prototype.keyDown.call(this,b,f)};return b}(N),Ib=function(){};Ib.prototype.cleanModel=function(a){return JSON.stringify(this._recurse(a))||
"{}"};Ib.prototype.cleanOptions=function(a){return JSON.stringify(a)};Ib.prototype._recurse=function(a){var b=this;return Array.isArray(a)?a.map(function(a){return b._recurse(a)}):r.isObject(a)?Object.keys(a).filter(function(b){return Ib._validKeys.hasOwnProperty(b)&&null!=a[b]}).reduce(function(c,f){var e;e=a[f];e=Ib._colorKeys.hasOwnProperty(f)?b._colorsFromNode(e):b._recurse(e);null!=e&&(c[f]=e);return c},{}):a};Ib.prototype._colorsFromNode=function(a){var b=this,c=function(a){if(b._hasGradientColor(a))return b._gradientColorsFromNode(a);
if(b._hasCssColor(a))return b._cssColorFromRGBA(a)};return Array.isArray(a)?a.filter(function(a){return null!=a}).map(function(a){return c(a)}).filter(function(a){return null!=a}):c(a)};Ib.prototype._hasGradientColor=function(a){return null!=a._colorStops&&null!=a._direction};Ib.prototype._gradientColorsFromNode=function(a){var b=this;return{direction:a._direction,colors:a._colorStops.map(function(a){return a[0]}).map(function(a){return b._colorsFromNode(a)})}};Ib.prototype._hasCssColor=function(a){return null!=
a._colorRGBA};Ib.prototype._cssColorFromRGBA=function(a){a=a._colorRGBA;return"rgba("+a.r+","+a.g+","+a.b+","+a.a+")"};Ib._validKeys=A.setFromValues("props tweens type _children size position fullSize scrollOffset key tx ty scrollX scrollY viewport text NumberText x y r fill stroke bg w h dx dy opacity rotation textRotation angle fillOpacity startAngle r1 r2 barText texture url fit shade textX textY textR textColor color bb maxWidth number format compact points_x points_y cornerRadius lineWidth roundedCornerStart roundedCornerEnd dashed box fontSize Rect canScroll vertical baseX baseY formattedNumber closePath lineJoin curve halign valign".split(" "));
Ib._colorKeys=A.setFromValues(["fill","stroke","textColor","color"]);var Uw=p.UPDATE_STATE,ca=function(a,b){var c=b.rendererConfig,f=b.getTooltipInstance,e=b.padding,g=b.name,k=b.isLegend;this._removed=!1;this._padding=e;this._isLegend=k;this._renderer=mb.getDelegate().getRenderer({processor:a,config:c,padding:e,getTooltipInstance:f,name:g,isLegend:k});"function"===typeof this._renderer.requestSerializedModels&&this._renderer.requestSerializedModels()&&(this._cleaner=new Ib)};ca.prototype.createCustomDOM=
function(){return this._renderer.createCustomDOM()};ca.prototype.removeCustomDOM=function(a){return this._renderer.removeCustomDOM(a)};ca.prototype.toggleAccessibility=function(a){this._renderer.toggleAccessibility(a)};ca.prototype.render=function(a,b){var c=this;void 0===b&&(b={duration:0,forcedFullRender:!1,disableMorphing:!1});var f=this._model;return this.isRemoved()?Promise.resolve((new P({name:"scene"})).start()):new Promise(function(e,g){var k=b||{},m=k.forcedFullRender;void 0===m&&(m=!1);
k=k.disableMorphing;void 0===k&&(k=!1);var n=(new P({name:"scene"})).start();if(!m&&(a&&a.getUpdateState()===Uw.UPDATED||!a&&!f))return e(n);c.reset(c._model);n.mark("diffToModel");c._model=c._updateModel(c._model,a,m,k);n.endMark("diffToModel");ta.animation&&console.log((c._isLegend?"legend":"chart")+" renderer.update");c._model?(m=c._processModel(c._model,b),c._renderer.update(m.renderModel,m.renderOptions,function(a){n.end();a&&n.merge(a.toJson());e(n)})):(n.end(),e(n))})};ca.prototype.updateScrollPosition=
function(a,b){var c=this._model;c&&(c.props.scrollOffset=[a,b]);return this};ca.prototype._updateModel=function(a,b,c,f){void 0===f&&(f=!1);return Vd.update(this._model,b,void 0,{disableMorphing:f})};ca.prototype.setCursorType=function(a){if(this.isRemoved())return this;this._renderer.setCursorType(a);return this};ca.prototype.getElement=function(){return this._renderer.getElement()};ca.prototype.getPadding=function(){return this._padding};ca.prototype.getChartOffsetXY=function(){return this._renderer.chartOffsetXY()};
ca.prototype.isInViewport=function(a){return this._renderer.isInViewport(a)};ca.prototype.screenshot=function(){if(!this.isRemoved()){var a=this._renderer.screenshot(),b=this._renderer.getElementOffset(),c=b[0],b=b[1];return"data:,"===a?void 0:{left:c,top:b,src:a}}};ca.prototype.reset=function(a){a&&this._resetModel(a);this._renderer.reset();return this};ca.prototype._resetModel=function(a){if(a){if(a.props){var b=a.props,c=b.opacity,b=b.isAccessible;delete a.props.animate_points_x;delete a.props.animate_points_y;
0===c&&!b&&a.removeFromParent();this._toEndProps(a)}c=a.getChildren();for(b=c.length-1;0<=b;--b)this._resetModel(c[b]);delete a.tweens;delete a.rendererCache}return!0};ca.prototype._toEndProps=function(a){var b=a.props,c=a.tweens;c&&(Object.keys(c).forEach(function(a){b[a]=c[a][1]}),delete a.tweens);return a};ca.prototype.show=function(){this._renderer.show();return this};ca.prototype.hide=function(){this._renderer.hide();return this};ca.prototype.remove=function(){if(this.isRemoved())return this;
this.hideTooltip();"function"===typeof this._renderer.remove&&this._renderer.remove();this._removed=!0;return this};ca.prototype.isRemoved=function(){return this._removed};ca.prototype.renderAccessibilityTable=function(a){this._renderer.renderAccessibilityTable(a);return this};ca.prototype.renderAccessibilityTabbableItems=function(){this._renderer.renderAccessibilityTabbableItems();return this};ca.prototype.updateAccessibilityDataItems=function(){this._renderer.updateAccessibilityDataItems();return this};
ca.prototype.getAnnotation=function(){return this._renderer.getAnnotation()};ca.prototype.startInteraction=function(){"function"===typeof this._renderer.startMouseInteraction&&this._renderer.startMouseInteraction();return this};ca.prototype.stopInteraction=function(){"function"===typeof this._renderer.stopMouseInteraction&&this._renderer.stopMouseInteraction();return this};ca.prototype.showTooltip=function(a,b,c,f,e,g){if(this.isRemoved())return this;this._renderer.showTooltip(a,b,c,f,e,g);return this};
ca.prototype.showTruncationTooltip=function(a,b,c,f){if(this.isRemoved())return this;this._renderer.showTruncationTooltip(a,b,c,f);return this};ca.prototype.hideTooltip=function(){if(this.isRemoved())return this;this._renderer.hideTooltip();return this};ca.prototype.moveTooltip=function(a){this._renderer.moveTooltip(a);return this};ca.prototype.runAnimation=function(a){var b=a.getScene(),c=a.getOptions();a.start();this.render(b,c).then(function(b){return a.end(b)});return this};ca.prototype.cancelAnimation=
function(a){a.isRunning()||a.end();return this};ca.prototype.deferAnimation=function(a){a.defer();return this};ca.prototype._processModel=function(a,b){return this._cleaner?{renderModel:this._cleaner.cleanModel(a),renderOptions:this._cleaner.cleanOptions(b)}:{renderModel:a,renderOptions:b}};var Vw=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype._updateModel=function(a,b,e,g){void 0===e&&(e=!1);void 0===
g&&(g=!1);a=b&&b.get("size");var k=b&&b.get("scrollOffset");return a&&k&&!e?Vd.update(this._model,b,new D({x:0,y:0,w:a[0],h:a[1]}),{disableMorphing:g}):Vd.update(this._model,b,void 0,{disableMorphing:g})};b.prototype._toEndProps=function(a){return a};return b}(ca),Qp=function(){};Qp.makeSceneRenderer=function(a,b){return new (Cc.inBrowser()?Vw:ca)(a,b)};var J=function(a){this._name=a.name;this._isLegend=!!a.isLegend;this._sceneRenderer=Qp.makeSceneRenderer(this,r.extend({},a,{isLegend:this._isLegend}));
this._animationQueue=new ae(this._sceneRenderer);this._sceneInteractionManager=new Tw(this,a)};J.prototype.createCustomDOM=function(){return this._sceneRenderer.createCustomDOM()};J.prototype.removeCustomDOM=function(a){return this._sceneRenderer.removeCustomDOM(a)};J.prototype.toggleAccessibility=function(a){this._sceneRenderer.toggleAccessibility(a)};J.prototype.setScene=function(a){this._sceneInteractionManager.setScene(a);return this};J.prototype.setChartDelegate=function(a){this._chartInteractionDelegate=
a;return this};J.prototype.render=function(a,b,c){return this._sceneInteractionManager.render(a,b,c)};J.prototype.getElement=function(){return this._sceneRenderer.getElement()};J.prototype.getName=function(){return this._name};J.prototype.getChartOffsetXY=function(){return this._sceneRenderer.getChartOffsetXY()};J.prototype.isInViewport=function(a){return this._sceneRenderer.isInViewport(a)};J.prototype.screenshot=function(){return this._sceneRenderer.screenshot()};J.prototype.reset=function(){this._animationQueue.reset();
return this};J.prototype.getAutoFitRatio=function(){return this._sceneInteractionManager.getAutoFitRatio()};J.prototype.startInteraction=function(){this._sceneRenderer.startInteraction();return this};J.prototype.stopInteraction=function(){this._sceneRenderer.stopInteraction();return this};J.prototype.show=function(){this._sceneRenderer.show();return this};J.prototype.hide=function(){this._sceneRenderer.hide();return this};J.prototype.remove=function(){this._sceneRenderer.remove();return this};J.prototype.isRemoved=
function(){return this._sceneRenderer.isRemoved()};J.prototype.scrollTo=function(a,b,c){void 0===c&&(c=0);return this._sceneInteractionManager.scrollTo(a,b,c)};J.prototype.renderAccessibilityTable=function(a){this._sceneInteractionManager.renderAccessibilityTable(a);return this};J.prototype.updateAccessibilityDataItems=function(){this._sceneRenderer.updateAccessibilityDataItems();return this};J.prototype.getSelection=function(){return this._sceneInteractionManager.getSelection()};J.prototype.setSelection=
function(a,b){void 0===b&&(b={});this._sceneInteractionManager.setSelection(a,b);return this};J.prototype.select=function(a,b){void 0===b&&(b={});this._sceneInteractionManager.select(a,b);return this};J.prototype.unselect=function(a,b){void 0===b&&(b={});this._sceneInteractionManager.unselect(a,b);return this};J.prototype.setAnnotations=function(a){void 0===a&&(a=[]);this._sceneInteractionManager.setAnnotations(a);return this};J.prototype.getAnnotations=function(){return this._sceneInteractionManager.getAnnotations()};
J.prototype.hideTooltip=function(){this._sceneInteractionManager.hideTooltip();return this};J.prototype.getPadding=function(){return this._sceneRenderer.getPadding()};J.prototype.getAnnotation=function(){return this._sceneRenderer.getAnnotation()};J.prototype.onRender=function(a,b,c,f){var e=this;a=new Ec({scene:a,options:b,interrupt:c,name:f});this._chartInteractionDelegate.onEvent(p.EVENT_NAME.RENDER_BEGIN,{type:f});this._animationQueue.run(a);return a.getPromise().then(function(a){e._chartInteractionDelegate.onEvent(p.EVENT_NAME.RENDER_END,
{type:f});return a})};J.prototype.onRenderAccessibilityTable=function(a){this._sceneRenderer.renderAccessibilityTable(a)};J.prototype.onRenderAccessibilityTabbableItems=function(){return this._sceneRenderer.renderAccessibilityTabbableItems()};J.prototype.onEvent=function(a,b){this._chartInteractionDelegate.onEvent(a,b)};J.prototype.onSelect=function(a,b,c){this._chartInteractionDelegate.onSelect(a,b,c)};J.prototype.onCursorChange=function(a){this._sceneRenderer.setCursorType(a)};J.prototype.onTooltipStateChange=
function(a,b,c,f,e,g,k){a?this._sceneRenderer.showTooltip(b,c,f,e,g,k):this._sceneRenderer.hideTooltip()};J.prototype.onTooltipMove=function(a){this._sceneRenderer.moveTooltip(a)};J.prototype.onShowTruncationTooltip=function(a,b,c,f){this._sceneRenderer.showTruncationTooltip(a,b,c,f)};J.prototype.getTooltipWithPath=function(a){return this._sceneInteractionManager.getTooltipWithPath(a)};J.prototype.onScroll=function(a,b,c){this._sceneInteractionManager.scrollTo(a,b)};J.prototype.didScroll=function(a,
b){this._sceneRenderer.updateScrollPosition(a,b);this._sceneInteractionManager.updateScrollPosition(a,b)};J.prototype.onShowTable=function(){this._chartInteractionDelegate.onShowTable()};J.prototype.onShowAccessibilityTabbableItems=function(){return this._sceneInteractionManager.renderAccessibilityTabbableItems()};J.prototype.onMouseMove=function(a,b,c){this._sceneInteractionManager.mouseMove(a,b,c)};J.prototype.onMouseDown=function(a,b,c){this._sceneInteractionManager.mouseDown(a,b,c)};J.prototype.onMouseUp=
function(a,b,c){this._sceneInteractionManager.mouseUp(a,b,c)};J.prototype.onMouseClick=function(a,b){this._sceneInteractionManager.mouseClick(a,b)};J.prototype.onMouseLeave=function(a,b,c){this._sceneInteractionManager.mouseLeave(a,b,c)};J.prototype.onTabOnShape=function(a){this._sceneInteractionManager.tabOnShape(a)};J.prototype.onTabOffShape=function(a){this._sceneInteractionManager.tabOffShape(a)};J.prototype.onSpaceKeyDownOnShape=function(a){this._sceneInteractionManager.spaceKeyDownOnShape(a)};
J.prototype.onKeyDown=function(a,b){this._sceneInteractionManager.keyDown(a,b)};J.prototype.onKeyUp=function(a,b){this._sceneInteractionManager.keyUp(a,b)};J.prototype._trigger=function(a,b){this._chartInteractionDelegate.onEvent(a,b)};var Ww=function(a){function b(b){b.rendererConfig.accessible=!1;a.call(this,r.extend({},b,{isLegend:!0}));this._sceneRenderer.hide();this._isShowing=!1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function(b,
f,e){var g=this;void 0===b&&(b={duration:0});void 0===f&&(f=!1);return this.isRemoved()?Promise.resolve():this._sceneInteractionManager.hasScene()?(this._isShowing||(this._sceneRenderer.show(),this._isShowing=!0),a.prototype.render.call(this,b,!0,e)):this._isShowing?(this._isShowing=!1,a.prototype.render.call(this,b,!0,e).then(function(a){g._isShowing||g._sceneRenderer.hide();return a})):Promise.resolve()};return b}(J),ra=function(a){this._chart=a};ra.prototype.remove=function(){this._chart.remove();
return this};ra.prototype.isRemoved=function(){return this._chart.isRemoved()};ra.prototype.resize=function(a,b,c){this._chart.resize(a,b,c)};ra.prototype.render=function(a,b,c,f,e,g){var k=this;return this._chart.render(a,b,c,f,e,g).then(function(){return k})};ra.prototype.isInViewport=function(){return this._chart.isInViewport()};ra.prototype.forceOutOfViewport=function(a){this._chart.forceOutOfViewport(a);return this};ra.prototype.setSelection=function(a,b){this._chart.setSelection(a,b);return this};
ra.prototype.moveSelection=function(a,b){this._chart.moveSelection(a,b);return this};ra.prototype.getSelection=function(){return this._chart.getSelection()};ra.prototype.setAnnotations=function(a){this._chart.setAnnotations(a);return this};ra.prototype.getAnnotations=function(){return this._chart.getAnnotations()};ra.prototype.on=function(a,b){var c=cn(b);b.__adapter=c;this._chart.on(a,c);return this};ra.prototype.one=function(a,b){var c=cn(b);b.__adapter=c;this._chart.one(a,c);return this};ra.prototype.off=
function(a,b){this._chart.off(a,b?b.__adapter:null);return this};ra.prototype.startMouseInteraction=function(){this._chart.startMouseInteraction();return this};ra.prototype.stopMouseInteraction=function(){this._chart.stopMouseInteraction();return this};ra.prototype.hideTooltip=function(){this._chart.hideTooltip();return this};ra.prototype.getEvents=function(){return La};ra.prototype.__getPrivateApi=function(){return this._chart};var Xw=Fe.init("Chart"),Rp=Fe.init("Render"),S=function(a,b,c,f){var e,
g,k;this._getTooltipInstance=f;this._tooltip=f(!1);null==a&&(a={});a.chartCache=b;a.getTooltipInstance=this._getTooltip.bind(this);a.scriptRunFct=c;b=null!=a.durations&&null!=a.durations["default"]?a.durations["default"]:p.ANIM_DURATION.DEFAULT;this._durations=r.extend({"default":b,select:b/2,scroll:b/2,firstRender:b/2,resize:b/2,resizeDebounce:p.ANIM_DURATION.RESIZE_DEBOUNCE},a.durations);this._forceOutOfViewport=!1;this._firstRender=!0;this._skippedRender=!1;this.renderOnDemand=!0;this._lastRenderParams=
null;this._currentRenderId=Rp.next();this._runtimeChart=this._currentRenderPromise=null;this._context=new vb;a.name=a.name||"chart_"+Xw.next();r.extend(this,a);this.padding=Math.max(null!=this.padding?this.padding:0,0);this.padding={top:this.padding,bottom:this.padding,left:this.padding,right:this.padding};Dc.prototype.mixin(this,this.name);null!=this.rendererConfig&&(e=this.rendererConfig,g=e.tooltipCSSClass,k=e.wheelPropagation,e=e.swipePropagation);this._sceneProcessors={main:new J({rendererConfig:this.rendererConfig,
padding:this.padding,name:this.name,getTooltipInstance:this._getTooltip.bind(this),durations:this._durations,tooltipRenderer:a.tooltipRenderer,canRemoveTooltip:a.canRemoveTooltip,removeTooltip:a.removeTooltip}),legend:new Ww({rendererConfig:{tooltipCSSClass:g,wheelPropagation:k,swipePropagation:e},name:"legend_"+this.name,getTooltipInstance:this._getTooltip.bind(this),durations:this._durations})};Cc.inBrowser()&&(this._sceneProcessors.main.getElement().appendChild(this._sceneProcessors.legend.getElement()),
this.annotationsContainerEl=document.createElement("div"),this.annotationsContainerEl.className="ng-annotations-container",va.setStyles(this.annotationsContainerEl,{marginTop:this.padding.top+"px",marginBottom:this.padding.bottom+"px",marginLeft:this.padding.left+"px",marginRight:this.padding.right+"px"}),this._sceneProcessors.main.getElement().appendChild(this.annotationsContainerEl));this._chartInteractionManager=new Ha(this._sceneProcessors,this);this.chartCache.add(this.name,this);this._moduleDelegate=
this._getModuleDelegate()};S.prototype._getModuleDelegate=function(){var a=this,b=this._chartInteractionManager._getChartDelegate("main");return r.extend({createCustomDOM:function(){return a._sceneProcessors.main.createCustomDOM()},removeCustomDOM:function(b){return a._sceneProcessors.main.removeCustomDOM(b)},showTooltip:function(b,f,e){a._sceneProcessors.main._sceneInteractionManager.showTooltip(null,!1,b,f,e)},moveTooltip:function(){a._sceneProcessors.main._sceneRenderer.moveTooltip()},hideTooltip:function(){a._sceneProcessors.main._sceneInteractionManager.hideTooltip()},
renderEnd:function(){a.trigger(p.EVENT_NAME.RENDER_END,{type:p.RENDER_TYPE.UPDATE})}},b)};S.prototype.getContext=function(){return this._context};S.prototype.remove=function(){this._removeRuntimeChart();this._chartInteractionManager.setAnnotations([]);this._sceneProcessors.main.remove();this._sceneProcessors.legend.remove();this.annotationsContainerEl&&this.annotationsContainerEl.parentElement.removeChild(this.annotationsContainerEl);this.off();this.chartCache.remove(this.name)};S.prototype.isRemoved=
function(){return this._chartInteractionManager.isRemoved()};S.prototype.getSceneProcessors=function(){return this._sceneProcessors};S.prototype.resize=function(a,b,c){if(a===(null!=this.size?this.size[0]:void 0)&&b===(null!=this.size?this.size[1]:void 0))return Promise.resolve();this.size=[a,b];return this.scriptPath?(a={duration:null!=c?c:this._durations.resize,selection:this.getSelection(),annotations:this.getAnnotations(),version:this.options.version},this.render(this.scriptPath,this.config,this.rows,
this.rowsMetadata,a,null,!0)):Promise.resolve()};S.prototype.render=function(a,b,c,f,e,g,k){var m=this;this.scriptPath=a;this.config=b;this.rows=c;this.rowsMetadata=f;null==e&&(e={});this.options=e;null==g&&(g=!1);this.config.tooltip&&(this._tooltip=this._getTooltipInstance(this.config.tooltip.isInteractiveTooltip));if(this.isRemoved()||!this.size)return Promise.resolve();A.isPlainObject(this.rowsMetadata)&&(this.options=this.rowsMetadata,this.rowsMetadata=void 0);if(!this._isSizeValid(this.size))return g=
this.name+" ("+this.scriptPath+") -\x3e invalid size: "+this.size,this.trigger(p.EVENT_NAME.ERROR,g),console.error(g),Promise.reject(g);if(!this._shouldRenderWithSize(this.size))return Promise.resolve();var n=this._perfStart({chartScript:this.scriptPath,numRows:this.rows.length,isTrellis:Wb.isTrellis(this.config),renderStatus:p.RENDER_STATUS.OK});if(this._skippedRender=this.renderOnDemand&&!this.isInViewport()&&!g)return ta.rendering&&console.debug("Not in view -\x3e skipped rendering "+this.name),
this._renderSkipped(n,p.RENDER_SKIPPED_REASON.NOT_IN_VIEWPORT),Promise.resolve();this._firstRender?(this._firstRender=!1,this.resize=dk(this.resize,this._durations.resizeDebounce),this.options.duration=this._durations.firstRender,this.options.disableMorphing=this.options.disableMorphingOnFirstRender):(null==this.options.duration&&(this.options.duration=this._durations["default"]),this.options.disableMorphing=!1);this.config.size=this.size;this.config.padding=this.padding;this.annotationsContainerEl&&
va.setStyles(this.annotationsContainerEl,{width:this.size[0]-this.padding.left-this.padding.right+"px",height:this.size[1]-this.padding.top-this.padding.bottom+"px"});null==this.config.transforms&&(this.config.transforms={});this.rows||(this.rows=[]);if(g)ta.rendering&&console.debug("Force rendering "+this.name);else if(this._hasChartStructureChanged())ta.rendering&&console.debug("Some params changed -\x3e rendering "+this.name);else{if(this._hasDecorationChanged())return ta.rendering&&console.debug("Decorations changed -\x3e setting decorations for "+
this.name),this.setAnnotations(this.options.annotations),this.setSelection(this.options.selection,{silent:!0}),this._renderSkipped(n,p.RENDER_SKIPPED_REASON.NO_CHANGE),Promise.resolve();if(this._hasAccessibleChanged())this._chartInteractionManager.toggleAccessibility(this.options.isAccessible);else return ta.rendering&&console.debug("No params changed -\x3e skipped rendering "+this.name),this._renderSkipped(n,p.RENDER_SKIPPED_REASON.NO_CHANGE),Promise.resolve()}this._saveRenderParams();ta.debugParams&&
console.log((new Date).toLocaleTimeString()+"|rendering "+this.name,this._lastRenderParams);var q=null,s=null,r=null,x=this._currentRenderId=Rp.next(),t=this._currentRenderPromise=this._chartInteractionManager.scrollTo(0,0,this._durations.scroll).then(function(g){var p=g[0];g=g[1];p&&n.merge(p.toJson(),"resetScroll");g&&n.merge(g.toJson(),"resetScroll");if(x!==m._currentRenderId)throw new Wk;q=A.deepCopy(b);s=A.deepCopy(c);r=A.deepCopy(f);n.endMark("resetScroll");var t;m._sceneProcessors.main&&m._sceneProcessors.main.scene&&
(t=m._sceneProcessors.main.scene.state);m._context&&m._context.setIsResize(k);return m.scriptRunFct({moduleName:a,moduleVersion:e.version,config:q,rows:s,rowsMetadata:r,perf:n,props:t,delegate:m._moduleDelegate,context:m._context,runtimeChart:m._runtimeChart})}).then(function(a){var b=a.chart,c=a.scene,f=a.moduleLoader;n.merge(a.scriptPerf);if(x!==m._currentRenderId)throw b.remove(),new Wk;m._setRuntimeChart(b);if(f&&(!f.isTrusted()||e.version&&e.version!==Ld.version))a=f.evaluate(JSON.stringify(c.toJson())),
c=lg.getInstance().fromJson(a,!0),c._props.dataFormatter=null;c.legend&&c.legend.postProcess();c.postProcess();m._chartInteractionManager.onNewScenes({main:c,legend:c.legend},q,s,b).setSelection(m.options.selection,{silent:!0,skipRender:!0}).setAnnotations(m.options.annotations);return Promise.all([m._sceneProcessors.main.render(e,!1,p.RENDER_TYPE.UPDATE),m._sceneProcessors.legend.render(e,!1,p.RENDER_TYPE.UPDATE)])}).then(function(a){var b=a[0];a=a[1];m.onAfterRender();b&&n.merge(b.toJson());a&&
n.merge(a.toJson(),"legend");t=null;return m._perfEnd(n)}).catch(function(b){t=null;if(b instanceof Wk)return ta.rendering&&console.debug(m.name+" ("+a+") -\x3e rendering is outdated: skipped rendering"),n.updateInfo({renderStatus:p.RENDER_STATUS.SKIPPED}),m._renderSkipped(n,p.RENDER_SKIPPED_REASON.SUPERSEDED,!0);m.trigger(p.EVENT_NAME.ERROR,b);console.error(m.name+" ("+a+") -\x3e",b);console.error(b.stack);throw b;});return t};S.prototype.getScreenShot=function(a){if(!this.isRemoved())return this._chartInteractionManager.screenshot(a,
this.size)};S.prototype.stopMouseInteraction=function(){if(!this.isRemoved())return this._chartInteractionManager.stopInteraction()};S.prototype.startMouseInteraction=function(){if(!this.isRemoved())return this._chartInteractionManager.startInteraction()};S.prototype.hideTooltip=function(){if(!this.isRemoved())return this._chartInteractionManager.hideTooltip()};S.prototype.onAfterRender=function(){this._chartInteractionManager.updateAccessibilityDataItems()};S.prototype.onMouseLeave=function(){if(!this.isRemoved())return this._chartInteractionManager.onMouseLeave()};
S.prototype.onShowTable=function(){this._chartInteractionManager.renderAccessibilityTable(this.rows)};S.prototype.getAutoFitRatio=function(){return this._chartInteractionManager.getAutoFitRatio()};S.prototype.getEvents=function(){return ra.EVENTS};S.prototype.forceOutOfViewport=function(a){this._forceOutOfViewport=a};S.prototype._hasChartStructureChanged=function(){if(!this._lastRenderParams)return!0;var a=this._getRenderParams(),b=a.size,c=a.config,f=a.rows,e=a.rowsMetadata;return!(a.scriptPath===
this._lastRenderParams.scriptPath&&A.deepEqual(b,this._lastRenderParams.size)&&A.deepEqual(c,this._lastRenderParams.config)&&A.deepEqual(e,this._lastRenderParams.rowsMetadata)&&A.deepEqual(f,this._lastRenderParams.rows))};S.prototype._hasDecorationChanged=function(){if(!this._lastRenderParams)return!0;var a=this._getRenderParams(),b=a.selection;return!A.deepEqual(a.annotations,this._lastRenderParams.annotations)||!A.deepEqual(b,this._lastRenderParams.selection)};S.prototype._hasAccessibleChanged=
function(){return!this._lastRenderParams?!0:this._getRenderParams().isAccessible!==this._lastRenderParams.isAccessible};S.prototype._getRenderParams=function(){return{scriptPath:this.scriptPath,config:this.config,rows:this.rows,rowsMetadata:this.rowsMetadata,selection:this.options.selection,size:this.size,annotations:this.options.annotations,isAccessible:this.options.isAccessible}};S.prototype._saveRenderParams=function(){var a=this._getRenderParams(),b=a.rows;this._lastRenderParams=A.deepCopy({scriptPath:a.scriptPath,
size:a.size,config:a.config,selection:a.selection,rowsMetadata:a.rowsMetadata,annotations:a.annotations,isAccessible:a.isAccessible});this._lastRenderParams.rows=b;return this._lastRenderParams};S.prototype.isInViewport=function(){return this._forceOutOfViewport||this.isRemoved()||!this.size||!this._shouldRenderWithSize(this.size)?!1:this._chartInteractionManager.isInViewport(this.size)};S.prototype.hasSkippedRender=function(){return this._skippedRender};S.prototype.forceRender=function(){return this.render(this.scriptPath,
this.config,this.rows,this.rowsMetadata,this.options,!0)};S.prototype.setSelection=function(a,b){if(this.isRemoved())return this;r.extend(this._lastRenderParams,A.deepCopy({selection:a}));this._chartInteractionManager.setSelection(a,b);return this};S.prototype.moveSelection=function(a,b){if(this.isRemoved())return this;this._chartInteractionManager.moveSelection(a,b);r.extend(this._lastRenderParams,A.deepCopy({selection:this.getSelection()}));return this};S.prototype.getSelection=function(){return this.isRemoved()?
[]:this._chartInteractionManager.getSelection()};S.prototype.setAnnotations=function(a){if(this.isRemoved())return this;r.extend(this._lastRenderParams,A.deepCopy({annotations:a}));this._chartInteractionManager.setAnnotations(a);return this};S.prototype.getAnnotations=function(){return this.isRemoved()?[]:this._chartInteractionManager.getAnnotations()};S.prototype.getRuntimeChart=function(){return this._runtimeChart};S.prototype._getTooltip=function(){return this._tooltip};S.prototype._setRuntimeChart=
function(a){this._runtimeChart=a;return this};S.prototype._removeRuntimeChart=function(a){this._runtimeChart&&(this._runtimeChart.remove(this._context,a),this._runtimeChart=null)};S.prototype._isSizeValid=function(a){return r.isArray(a)&&2===a.length&&0<=a[0]&&0<=a[1]};S.prototype._shouldRenderWithSize=function(a){return 0<a[0]&&0<a[1]};S.prototype._perfStart=function(a){return(new P({name:"render"})).start(a)};S.prototype._syncDuration=function(a){if(a&&!a.marks["animate-defer"]){var b=a.marks;return["animate-scene-diff",
"animate-scene-toModel","animate-scene-rendering"].reduce(function(a,f){return a+(b[f]&&b[f].duration||0)+(b["legend-"+f]&&b["legend-"+f].duration||0)},0)+this._getDuration(a,"script")+this._getDuration(a,"resetScroll-rendering")}};S.prototype._getDuration=function(a,b){return a.marks[b]&&a.marks[b].duration||0};S.prototype._perfEnd=function(a){a.end();a=a.toJson();a.syncDuration=this._syncDuration(a);this.trigger(p.UNDOCUMENTED_EVENTS.PERF_READY,a);if(ta.perf)return P.prettyPrint(a)};S.prototype._renderSkipped=
function(a,b,c){var f=this,e=function(){f.trigger(p.EVENT_NAME.RENDER_SKIPPED,{type:p.RENDER_TYPE.UPDATE,reason:b});f._perfEnd(a)};a.end().updateInfo({renderStatus:p.RENDER_STATUS.SKIPPED});this._currentRenderPromise&&!c?this._currentRenderPromise.finally(e):setTimeout(e,1)};var Wk=function(){},Yw=function(a,b){return(new Function("register",a))(b)},Zw=function(a){return mb.getDelegate().require(a)},Jc=function(){this._pending={};this._resourceLoader=Zw;this._prefix="";this._scriptEvaluator=Yw;this._isTrusted=
!1};Jc.prototype.configure=function(a){var b=a.prefix,c=a.resourceLoader,f=a.scriptEvaluator;a=a.isTrusted;null!=b&&(this._prefix=b);null!=c&&(this._resourceLoader=c);null!=f&&(this._scriptEvaluator=f);null!=a&&(this._isTrusted=a);return this};Jc.prototype.hasModule=function(a,b){throw"Not Implemented";};Jc.prototype.require=function(a,b,c){throw"Not Implemented";};Jc.prototype.isTrusted=function(){return this._isTrusted};Jc.prototype.getScriptEvaluator=function(){return this._scriptEvaluator};Jc.prototype.evaluate=
function(a){return this._scriptEvaluator("return "+a+";")};Jc.prototype.getResourceLoader=function(){return this._resourceLoader};Jc.prototype._log=function(a,b){ta.moduleLoader&&console.log("%cModuleLoader: ["+a+"] "+b,"color: green")};Jc.prototype._getModuleKey=function(a,b){return b+"/"+a};var Sp=function(a){function b(){a.call(this);this._modules={};this._moduleDefinitions={};this._buildVersion="dev";this._supportVersionedUrls=!0;this._register=this._register.bind(this)}a&&(b.__proto__=a);b.prototype=
Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.configure=function(b){var f=b.buildVersion,e=b.supportVersionedUrls;a.prototype.configure.call(this,{prefix:b.prefix,resourceLoader:b.resourceLoader,scriptEvaluator:b.scriptEvaluator,isTrusted:b.isTrusted});f&&(this._buildVersion=f);null!=e&&(this._supportVersionedUrls=e);this.isTrusted()&&(this._modules[this._getModuleKey("lodash/core","4.17.19")]=r,this._modules[this._getModuleKey("@salesforce/charts/sdk",hi.VERSION)]=hi);return this};
b.prototype.hasModule=function(a,b){var e=this._getModuleKey(a,b);return null!=this._modules[e]};b.prototype.require=function(a,b,e){var g=this,k=this._getModuleKey(a,b);this._log(k,"Module required");if(this._pending[k])return this._log(k,"Module load already in-flight"),this._pending[k];if(this.hasModule(a,b))return this._log(k,"Module already loaded"),Promise.resolve(this._modules[k]);a=this._getModuleUrl(a,b);this._log(k,"Loading module");var m=new $w(k,a,e);return this._pending[k]=this._fetch(m).then(function(){return g._instantiate(m)}).then(function(){g._log(m.key,
"Successfully loaded module");return g._modules[m.key]}).catch(function(a){console.error("Failed to load module: "+k);console.error("Have you run 'make platform_modules'?");throw a;}).finally(function(){delete g._pending[k]})};b.prototype._getModuleUrl=function(a,b){var e;e="lodash/core"===a?this._prefix+"/node_modules/lodash/core.js":this._prefix+"/runtime-modules/"+a+"/index.bundle.js";this._supportVersionedUrls&&(e=e+"?v\x3d"+this._buildVersion);return e};b.prototype._fetch=function(a){if(!a.source){var b=
a.perf;b&&b.mark("moduleLoad");return Promise.all([this._resourceLoader(a.url)]).then(function(e){b&&b.endMark("moduleLoad");a.source=e[0]})}};b.prototype._instantiate=function(a){var b=a.perf;b&&b.mark("moduleEval");var e=a.source;"lodash/core"===this._parseModuleVersionAndName(a.key)[1]&&(e="\n\t\t\tregister('"+a.key+"', [], function() {\n\t\t\t\tvar exports \x3d {};\n\t\t\t\tvar module \x3d {exports: exports};\n\t\t\t\t"+e+"\n\t\t\t\treturn module.exports;\n\t\t\t});\n\t\t\t");this._scriptEvaluator(e,
this._register);b&&b.endMark("moduleEval");return this._instantiateHelper(a.key,b)};b.prototype._parseModuleVersionAndName=function(a){var b=a.indexOf("/");return[a.substring(0,b),a.substring(b+1)]};b.prototype._instantiateHelper=function(a,b){var e=this,g=this._moduleDefinitions[a];g.isInstantiating=!0;g=g.dependencies.filter(function(a){return!e._moduleDefinitions[a]||!e._moduleDefinitions[a].isInstantiating}).map(function(a){if(e._modules[a])return Promise.resolve(e._modules[a]);if(e._moduleDefinitions[a])return e._instantiateHelper(a,
b);a=e._parseModuleVersionAndName(a);return e.require(a[1],a[0],b)});return Promise.all(g).then(function(){e._modules[a]=e._moduleDefinitions[a].defineFunction.call(window,e._modules);if("@salesforce/charts/sdk"===e._parseModuleVersionAndName(a)[1]){var b=e._modules[a];b.init({Perf:P,delegate:mb.getDelegate(),scriptEvaluatorFct:e._scriptEvaluator});e._modules[a]=b["default"]}e._modules[a].moduleLoader=e;delete e._moduleDefinitions[a]})};b.prototype._register=function(a,b,e){this._moduleDefinitions[a]=
{dependencies:b,defineFunction:e,isInstantiating:!1}};return b}(Jc),$w=function(a,b,c){this.key=a;this.url=b;this.perf=c;this.source=""};r.extend(Hh.prototype,{_originalZIndex:void 0,isUnderCursor:function(a,b){return!1},findShapeUnderPos:function(a,b){},isInArea:function(a,b,c,f){return!1},findShapesInArea:function(a,b,c,f){return[]},getModelProps:function(){return{}},toModel:function(a,b){this._roundFields();var c=this.getModelProps();a||(a=Vd);return new a(c)},clone:function(){return this.constructor.fromJson(this.toJson(),
!1)},_roundFields:function(){var a=this;this.constructor._roundProps&&this.constructor._roundProps.array.forEach(function(b){var c=a._props[b];null!=c&&(a._props[b]=Math.round(c))})}});Hh.fromJson=function(a,b){void 0===b&&(b=!0);b&&(a=A.deepCopy(a));return new this(a.props,!0)};var ax=Object.getPrototypeOf(He.prototype);r.extend(He.prototype,{select:function(){return this},unselect:function(){return this},resetSelect:function(){return this},isSelected:function(){return!1}});He.fromJson=function(a,
b){void 0===b&&(b=!0);return ax.constructor.fromJson.call(this,a,b)};r.noConflict();ab.setHotSpotManagerImpl(Ke);od.setNodeFactoryImpl(lg.getInstance());eg.setNodeModelFactoryImpl(Zh.getInstance());var Tp=nd.getInstance(),bx=Qh.getInstance(),T=function(){this.sdk=hi;this.Settings=Db;this.constants=p;this._renderChartsIfVisible=this._renderChartsIfVisible.bind(this);this._protected_renderChart=this._protected_renderChart.bind(this);this.ready=this.ready.bind(this);this.registerDefaultMaps=this.registerDefaultMaps.bind(this);
this._didInit=!1;this.log=ta;this._extensions={};this._bundledModulesMap={};this._getTooltipInstance=this._getTooltipInstance.bind(this)};T.prototype.registerDefaultMaps=function(a){null==a&&(a={});return this._defaultMaps=Fv.registerDefaultMaps(this,a)};T.prototype.registerImageValidator=function(a){bx.setImageValidator(a);return this};T.prototype.registerSchemaValidator=function(a){this._schemaValidator=a;return this};T.prototype.registerModule=function(a){this._bundledModulesMap[a.getMetadata().moduleName]=
a};T.prototype.configureModuleLoader=function(a){var b=a.prefix,c=a.resourceLoader,f=a.scriptEvaluator;a=a.supportVersionedUrls;this._moduleLoader=(new Sp).configure({isTrusted:!0,prefix:b,resourceLoader:c,scriptEvaluator:f,buildVersion:"c7fe165f20a91b33e4f0cf3b838bbd06bd6a12fb",supportVersionedUrls:a});this._customModuleLoader=(new Sp).configure({isTrusted:!1,prefix:b,resourceLoader:c,scriptEvaluator:f,buildVersion:"c7fe165f20a91b33e4f0cf3b838bbd06bd6a12fb",supportVersionedUrls:a});return this};
T.prototype.chart=function(a){a=a||{name:null,size:null,renderOnDemand:!0,rendererConfig:null,durations:null,padding:null,tooltipRenderer:null,canRemoveTooltip:null,removeTooltip:null,isInteractiveTooltip:!1};this._init();return new S(a,this._chartCache,this._protected_renderChart,this._getTooltipInstance)};T.prototype.ready=function(a){this._readyPromise||(this._readyPromise=Promise.resolve().then(mb.getDelegate().ready));var b={Perf:P,delegate:mb.getDelegate()},c=b.Perf,f=b.scriptEvaluatorFct;yc.init({delegate:b.delegate,
scriptEvaluatorFct:f});Pd.init({Perf:c,scriptEvaluatorFct:f});return this._readyPromise.then(a)};T.prototype.setLabels=function(a){W.setCustomLabels(a);return this};T.prototype.setLocale=function(a){G.Settings.defaultLocale=a;return this};T.prototype.getDefaultZoneName=function(){return G.Settings.defaultZoneName};T.prototype.setDefaultZoneName=function(a){G.Settings.defaultZoneName=a};T.prototype.getSettings=function(){return this.Settings};T.prototype.registerMap=function(a){return a.zoomable?new Gv(a):
new ua(a)};T.prototype.unregisterMap=function(a){return ua.delete(a)};T.prototype.getMaps=function(){return ua.getMaps()};T.prototype.getMap=function(a){return r.find(this.getMaps(),function(b){return b.name===a})};T.prototype.getDefaultMaps=function(){return this._defaultMaps};T.prototype.registerTheme=function(a){Tp.registerTheme(a);return this};T.prototype.getAllThemeNames=function(){return Tp.getAllThemeNames()};T.prototype.getAllChartNames=function(){return(null!=this._chartCache?this._chartCache.keys():
void 0)||[]};T.prototype.getChartByName=function(a){return null!=this._chartCache?this._chartCache.get(a):void 0};T.prototype.getSdk=function(){return this.sdk};T.prototype.setDelegate=function(a){if(this._readyPromise)throw"Can't set delegate after ready() has been called";mb.setDelegate(a)};T.prototype.resetTextCache=function(){return wc.getInstance().reset()};T.prototype.getModule=function(a,b,c){var f=this;void 0===b&&(b=Ld.version);this._init();return this.ready().then(function(){var e=f._bundledModulesMap,
g=e[a];b===Ld.version&&(g=e[a]);return null!=g?Promise.resolve(g):f._getModuleLoader(a,b).require(a,b,c)})};T.prototype._getModuleLoader=function(a,b){return 0===a.indexOf("wave-")||0===a.indexOf("lightning-")||0===a.indexOf("sfdc-")?this._moduleLoader:this._customModuleLoader};T.prototype.getRecommender=function(a){return new nc(a,this.getModule.bind(this),this._defaultMaps)};T.prototype._renderChartsIfVisible=function(){this._chartCache.values().forEach(function(a){a.hasSkippedRender()&&a.isInViewport()&&
a.forceRender()})};T.prototype._setupOnDemandRendering=function(){var a=this,b=void 0;this._chartCache.on("addFirst",function(){ta.rendering&&console.debug("enabling on demand monitoring");b=setInterval(a._renderChartsIfVisible,p.ANIM_DURATION.ONDEMAND_RENDER);ta.rendering&&console.debug("enabling tooltip events");a._tooltip.addGlobalEventListeners();a._interactiveTooltip.addGlobalEventListeners()});this._chartCache.on("removeLast",function(){ta.rendering&&console.debug("removing on demand monitoring");
clearInterval(b);b=void 0;ta.rendering&&console.debug("removing tooltip events");a._tooltip.removeGlobalEventListeners();a._interactiveTooltip.removeGlobalEventListeners()})};T.prototype._protected_renderChart=function(a){var b=this,c=a.moduleName,f=a.moduleVersion,e=a.config,g=a.rows,k=a.rowsMetadata,m=a.perf,n=a.props,q=a.delegate,p=a.context,r=a.runtimeChart;this._init();null!=m&&m.mark("moduleImport");f=f||Ld.version;return this.getModule(c,f,m).then(function(a){null!=m&&m.endMark("moduleImport");
ta.scripts&&console.info("EclairNG:: running chart script "+c+" with args",e,g,k);b._validateConfig(a,e);return b._chartModuleRunner.renderChart({module:a,config:e,rows:g,rowsMetadata:k,props:n,delegate:q,context:p,runtimeChart:r})})};T.prototype._validateConfig=function(a,b){if(this._schemaValidator){var c=a.getMetadata().schema;if(c){var f=A.deepCopy(b);delete f.size;delete f.padding;c=this._schemaValidator.validate(c,f);if(0<c.length)throw console.log("Schema Validation Errors:"),console.log(c),
"Schema validation failed";}}};T.prototype._init=function(){if(!this._didInit&&(this._didInit=!0,this._chartCache=new yv("ChartCache"),this._chartModuleRunner=new gp,Cc.inBrowser()))return this._setupOnDemandRendering(),this._interactiveTooltip=new fa(!0),this._tooltip=new fa};T.prototype._mergeRows=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];return r.extend.apply(r,[{}].concat(a))};T.prototype._getTooltipInstance=function(a){return a?this._interactiveTooltip:this._tooltip};
var Rc=new T,Zc=function(){};Zc.prototype.chart=function(a){return new ra(Rc.chart({name:a.name,size:a.size,renderOnDemand:a.renderOnDemand,rendererConfig:a.rendererConfig,durations:a.durations,padding:a.padding,tooltipRenderer:a.tooltipRenderer,canRemoveTooltip:a.canRemoveTooltip,removeTooltip:a.removeTooltip,isInteractiveTooltip:a.isInteractiveTooltip}))};Zc.prototype.ready=function(){var a=this;return Rc.ready().then(function(){return a})};Zc.prototype.configureModuleLoader=function(a){Rc.configureModuleLoader({prefix:a.prefix,
resourceLoader:a.resourceLoader,scriptEvaluator:a.scriptEvaluator,supportVersionedUrls:a.supportVersionedUrls});return this};Zc.prototype.registerTheme=function(a){Rc.registerTheme(a);return this};Zc.prototype.setLabels=function(a){Rc.setLabels(a);return this};Zc.prototype.setLocale=function(a){Rc.setLocale(a);Db.setLocale(a);return this};Zc.prototype.getSettings=function(){return Xn.getInstance()};Zc.prototype.__getPrivateApi=function(){return Rc};var Up=new Zc,O=Up.__getPrivateApi().getSdk(),ji=
{moduleName:"sfdc-title-utils",version:"44.0",dependencies:{"@salesforce/charts/sdk":"44.0"}},rg={};"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.getMetadata=void 0;var ki=O&&O.__esModule?O:{"default":O},cx=ji&&ji.__esModule?ji:{"default":ji},Xk=ki.default.runtime,Vp=ki.default.utils,dx=Vp.configUtils,$c=Vp.constants,Wp=ki.default.shapes,Xp=Wp.Text,ex=Wp.Layer,fx=ki.default.scene.model.Cell;rg.default={getTitleSize:function(a){var b=0;a.label&&(b+=Xk.getDelegate().getRealFontSize(a.fontSize)+
(a.subtitleLabel?$c.TITLE.PADDING_BETWEEN_SUBTITLE:$c.TITLE.PADDING_BOTTOM));a.subtitleLabel&&(b+=Xk.getDelegate().getRealFontSize(a.subtitleFontSize)+$c.TITLE.PADDING_BOTTOM);return b},adjustChartPaddingForTitle:function(a,b){0<b&&(a.top+=b);return a},getTitleCell:function(a,b,c,f,e,g){var k=dx.isTrellis(a)?null:a.transforms,m=a.padding;a=new fx({key:"chartTitle",skipTransforms:!0,w:k&&a.transforms.rotate?e[1]-g.right-g.left:e[0]-g.right-g.left,h:b,x:m.left?-m.left+g.left:0,y:m.top?-m.top+g.top:
-b});b=new ex({cell:a,key:"chart-title"});e=$c.PADDING;g=c.align;m=k=0;switch(g){case "right":k=a.get("w");break;case "center":k=a.get("w")/2}c.label&&(new Xp({valign:"top",halign:g,maxWidth:a.get("w"),padding:{top:e},layer:b,accessibility:{type:$c.ACCESSIBILITY.TYPE.CAPTION,key:$c.ACCESSIBILITY.CAPTION_KEY.TITLE,value:c.label},key:"chart-title-text",text:c.label,x:k,y:m,stroke:f.getChartTitleColor(),size:c.fontSize}),m+=Xk.getDelegate().getRealFontSize(c.fontSize)+$c.TITLE.PADDING_BETWEEN_SUBTITLE);
c.subtitleLabel&&new Xp({valign:"top",halign:g,maxWidth:a.get("w"),padding:{top:c.label?0:e},layer:b,key:"chart-subtitle-text",x:k,y:m,text:c.subtitleLabel,stroke:f.getChartSubtitleColor(),size:c.subtitleFontSize,accessibility:{type:$c.ACCESSIBILITY.TYPE.CAPTION,key:$c.ACCESSIBILITY.CAPTION_KEY.SUBTITLE,value:c.subtitleLabel}});return a}};rg.getMetadata=function(){return cx.default};var ad={};"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.getMetadata=void 0;var li=Ij(Q),mi=Ij(O),
gx=Ij({moduleName:"sfdc-abstract-legend"}),Yp=mi.default.layoutBuilder,Yk=mi.default.utils,vd=Yk.constants,hx=Yk.plotUtils,Zp=Yk.configUtils,Zk=mi.default.shapes,ix=Zk.Text,jx=Zk.Layer,kx=Zk.Line,$k=mi.default.ThemeFactory.getInstance().getDefaultTheme(),oc=function(a,b){this.config=a;this.rows=b||[];Zp.convertConfigColors(a);li.default.defaults(a,this.getDefaultConfig());this.sanitizeConfig()};oc.prototype.sanitizeConfig=function(){};oc.prototype.extendConfig=function(a){li.default.extend(this.config,
a);Zp.convertConfigColors(this.config);this.sanitizeConfig()};oc.prototype.getConfig=function(){return this.config};oc.prototype.getDefaultConfig=function(){return{swatchSize:vd.COLOR_LEGEND.SWATCH.SIZE,swatchPadding:vd.COLOR_LEGEND.SWATCH.PADDING,fitWidth:!0,fitHeight:!0,showHeader:!0,showBackground:!1,headerAlign:"left",theme:$k,selectMode:vd.SELECTMODE.NONE,transforms:{}}};oc.prototype.getHeaderSize=function(a){var b=this.config,c=b.headerText,f=0,e=0;b.showHeader&&c&&(f=hx.getTextWidth(c)+vd.LEGEND.PADDING,
e=vd.LEGEND.TEXT.SIZE+(a?vd.LEGEND.PADDING:2*vd.LEGEND.PADDING));return[f,e]};oc.prototype.render=function(){var a=this.config,b=a.swatchSize,c=a.showHeader,f=a.showBackground,e=a.headerText,g=this.rows,k=a.theme,m=a.transforms.rotate,n=Yp.build({layout:"Legend",size:a.size,position:a.position,transforms:a.transforms,selectMode:a.selectMode,selectionKeyFct:a.selectionKeyFct}),q=n.cellByKey("plot"),p=n.cellByKey("header"),r=a.swatchPadding,x,t;c&&e&&(x=this.plotHeader({cell:p,text:e,horizontalLayout:m,
padding:r,dx:m?p.get("w")/2:b/2+r,theme:k}),t=x.boundingBox());n.adjustRowToFit(p.get("row"));b=c&&!m&&t?t.w+r:q.get("w");t=q.get("h");if(!this.plotFunction)throw"'plotFunction' is not defined for for your legend subclass.";this.plotFunction(q,g,b,t);if(0===q.getLayers().length)return this.emptyLegend(a);c&&e&&(this.plotHeaderLine(x,r,m,Math.max(p.get("w"),q.get("w")),null,k),"center"===a.headerAlign&&!m&&x.getShapes()[0].set({x:q.get("w")/2+3,halign:"center"}));f&&n.set({background:k.getLegendBGColor()});
n.set({config:this.config});return n};oc.prototype.emptyLegend=function(a){return Yp.build({layout:"Legend",size:a.size,transforms:a.transforms,selectMode:a.selectMode})};oc.prototype.plotHeader=function(a){var b=a.theme||$k,c=a.cell,f=a.text,e=a.horizontalLayout,g=a.padding,k=a.halign||"left",m=a.valign||"top",n=a.dx;a=new jx({cell:c,key:"header"});c=e?{x:n,valign:"middle",halign:"right",maxWidth:c.get("h"),vertical:!0,padding:{left:0,right:g}}:{valign:m,halign:k,maxWidth:c.get("w"),padding:{left:g/
2,right:g/2,top:3,bottom:g-2}};new ix(li.default.extend({layer:a,key:"header-text",text:f,stroke:b.getLegendHeaderColor()},c));return a};oc.prototype.plotHeaderLine=function(a,b,c,f,e,g){g=g||$k;var k=a.getCell();if(k){var m=a.boundingBox();e=e?e:{};li.default.defaults(e,{layer:a,key:"line",x0:c?m.x-b/2:0,y0:k.get("h")-1,x1:c?m.x+vd.LEGEND.TEXT.SIZE+b/2:f,y1:k.get("h")-1,lineWidth:2,stroke:g.getLegendHeaderLineColor()});return new kx(e)}};oc.prototype.isEmpty=function(a){return!1};ad.default=oc;ad.getMetadata=
function(){return gx.default};var sg={};"use strict";Object.defineProperty(sg,"__esModule",{value:!0});sg.getMetadata=void 0;var lx=Jj(O),mx=Jj(ad),nx=Jj({moduleName:"sfdc-multiple-legends"}),ox=lx.default.layoutBuilder,px=function(a){function b(b,f){a.call(this,b);this._legends=f}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getLegends=function(){return this._legends};b.prototype.getHorizontalSize=function(a){var b=0,e=0;this._legends.forEach(function(g){g=
g.getHorizontalSize(a);b+=g[0];e=Math.max(e,g[1])});return[b,e]};b.prototype.getVerticalSize=function(){var a=0,b=0;this._legends.forEach(function(e){e=e.getVerticalSize();a=Math.max(e[0],a);b+=e[1]});return[a,b]};b.prototype._adjustLegends=function(a){a=this.config;var b=a.transforms,e=a.size,g=b.rotate;this._legends.forEach(function(a){var c=g?a.getHorizontalSize():a.getVerticalSize();a.extendConfig({headerAlign:"left",isCombo:!0,size:g?[c[0],e[1]]:[e[0],c[1]],transforms:b})})};b.prototype.render=
function(){var a=this.config,b=a.transforms,e=a.fitHeight,g=a.fitWidth,k=b.rotate,a=ox.build({layout:"MultipleLegends",size:a.size,position:a.position,transforms:b,selectMode:a.selectMode,selectionKeyFct:a.selectionKeyFct}),b=k?e:g,e=k?g:e,m=a.cellByKey("legends");this._adjustLegends(m);var n=m.getChildren(),q=0;this._legends.forEach(function(a,b){var c=a.render();c&&(c.exportIntoCell(m,{keyPrefix:a.getConfig().legendName}),n[2*b].offsetY(q),n[2*b+1].offsetY(q),q+=k?a.getHorizontalSize()[0]:a.getVerticalSize()[1])});
e&&a.adjustRowToFit(m.get("row"));b&&a.adjustColumnToFit(m.get("column"));return a};return b}(mx.default);sg.default=px;sg.getMetadata=function(){return nx.default};var tg={};"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.getMetadata=void 0;var qx=Kj(O),rx=Kj(ad),sx=Kj({moduleName:"sfdc-combo-legend"}),tx=qx.default.layoutBuilder,ux=function(a){function b(b,f,e){a.call(this,b);this._topLegend=f;this._bottomLegend=e}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=
b;b.prototype.getTopLegend=function(){return this._topLegend};b.prototype.getBottomLegend=function(){return this._bottomLegend};b.prototype.getLegends=function(){return[this._topLegend,this._bottomLegend]};b.prototype.getVerticalSize=function(){var a=0,b=0;[this._topLegend.getVerticalSize(),this._bottomLegend.getVerticalSize()].forEach(function(e){a=Math.max(e[0],a);b+=e[1]});return[a,b]};b.prototype.getHorizontalSize=function(a){var b=0,e=0;[this._topLegend.getHorizontalSize(a),this._bottomLegend.getHorizontalSize(a)].forEach(function(a){b+=
a[0];e=Math.max(e,a[1])});return[b,e]};b.prototype.render=function(){var a=this.config,b=a.transforms,e=a.size,g=a.showBackground,k=a.theme,a=tx.build({layout:"ComboLegend",size:e,position:a.position,transforms:b,selectMode:a.selectMode,selectionKeyFct:a.selectionKeyFct}),m=b.rotate,b=a.cellByKey("topLegend"),n=a.cellByKey("bottomLegend");this._adjustSubLegendSize();var q=this._topLegend.render();q&&q.exportIntoCell(b,{keyPrefix:"top"});a.adjustRowToFit(b.get("row"));m?this._bottomLegend.config.size[0]=
e[0]-b.get("h"):this._bottomLegend.config.size[1]=e[1]-b.get("h");(e=this._bottomLegend.render())&&e.exportIntoCell(n,{keyPrefix:"bottom"});a.adjustRowToFit(n.get("row"));a.adjustColumnToFit(n.get("column"));a.adjustRowToFit(b.get("row"));a.adjustColumnToFit(b.get("column"));g&&a.set({background:k.getLegendBGColor()});return a};b.prototype._adjustSubLegendSize=function(){var a=this.config,b=a.size,a=a.transforms;if(a.rotate){var e=this._topLegend.getHorizontalSize()[0],g=this._bottomLegend.getHorizontalSize()[0],
g=b[0]/((e+g>b[0]?1:e/g)+1),e=b[0]-g;this._topLegend.extendConfig({size:[e,b[1]],transforms:a,isCombo:!0});this._bottomLegend.extendConfig({size:[g,b[1]],transforms:a,headerAlign:"left",isCombo:!0})}else e=this._topLegend.getVerticalSize()[1],g=this._bottomLegend.getVerticalSize()[1],g=b[1]/((e+g>b[1]?1:e/g)+1),e=b[1]-g,this._topLegend.extendConfig({size:[b[0],e],transforms:a,isCombo:!0}),this._bottomLegend.extendConfig({size:[b[0],g],transforms:a,headerAlign:"left",isCombo:!0})};return b}(rx.default);
tg.default=ux;tg.getMetadata=function(){return sx.default};var ug={};"use strict";Object.defineProperty(ug,"__esModule",{value:!0});ug.getMetadata=void 0;var vg=jh(Q),al=jh(O),vx=jh(ad),wx=jh({moduleName:"sfdc-color-legend",name:"Legend",shortname:"Legend"}),Re=al.default.shapes,xx=Re.Layer,yx=Re.Rect,$p=Re.Point,aq=Re.Text,zx=Re.ShapeGroup,Ax=Re.Line,bq=al.default.utils,Kc=bq.constants,cq=bq.plotUtils,Bx=al.default.color.LinearGradient,bl=Kc.MARK_TYPE,Cx=Kc.NULL_KEY,Dx=bl.BAR,cl=bl.LINE,Ex=bl.DOT,
Fx=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return vg.default.extend(a.prototype.getDefaultConfig.call(this),{showPoints:!1,mark:Kc.MARK_TYPE.BAR,domain:[]})};b.prototype.getVerticalSize=function(){var a=this.config;if(!a)return[0,0];var b=this.getHeaderSize(!0),e=[b[0]],g=b[1];(a.labels||a.domain||[]).forEach(function(b){e.push(cq.getTextWidth(b)+a.swatchSize+2*a.swatchPadding);
g+=a.swatchSize+a.swatchPadding});return[Math.max.apply(Math,e),g]};b.prototype.getHorizontalSize=function(a){void 0===a&&(a=[0,0]);var b=this.config;if(!b)return[0,0];var e=this.getHeaderSize(!1)[0],g=b.swatchSize+b.swatchPadding,k=b.marks;(b.labels||b.domain||[]).forEach(function(a,c){e+=cq.getTextWidth(a)+b.swatchSize+3*b.swatchPadding/2;if((k&&k[c]||b.mark)===cl)e+=b.swatchPadding});e>a[0]&&(g+=15);return[e,g]};b.prototype.plotFunction=function(a){var b=this.config,e=b.hotSpots,g=b.columnName,
k=b.legendName,m=b.domain,n=b.unsortedDomain,q=b.labels,p=b.colors,r=b.marks,x=b.showPoints,t=b.selectMode,v=b.swatchSize,z=b.fitHeight,w=b.fitWidth,y=b.theme,H=b.sorting,I=b.swatchPadding,V=b.transforms.rotate,A=new xx({cell:a,key:"plot",canHover:!0,canSelect:t&&t!==Kc.SELECTMODE.NONE}),t=a.getScene(),B=V?z:w,z=V?w:z,ea=v+I;if(e)var C=y.getHotspotColors(),e=e.map(function(a){a.size=v+I;a.colors=vg.default.defaults(a.colors,C);return a});n=n||m;if(!H||H&&H.type!==Kc.SORT.TYPE.ROWS)n=n.slice().sort(),
w=n.indexOf(null),0<=w&&w!==n.length-1&&(n.splice(w,1),n.push(null));H&&H.order===Kc.SORT.ORDER.DESC&&(n=n.slice().reverse());var Za=a.get("w");n.forEach(function(n){var t,w,z=m.indexOf(n);g&&(w={row:(t={},t[g]=n,t),column:g});void 0===n&&(n=Cx);t=new zx({layer:A,key:k+"/"+n,data:w});var H=r&&r[z]||b.mark,B=p[z%p.length],B=B instanceof Bx?B.interpolate():B,z=q?q[z]:n,C=I/2;switch(H){case Ex:new $p({shapeGroup:t,key:k+"/"+n+"_dot",x:V?Za/2+C:C+v/2,y:V?C+v/2:0,r:v/2,fill:B,canHover:!1,skipInFind:!0});
break;case Dx:new yx({shapeGroup:t,key:k+"/"+n+"_bar",x:V?Za/2-v+I+1:C,y:V?C:-v/2,w:v,h:v,cornerRadius:3,fill:B,canHover:!1,skipInFind:!0});break;case cl:var E=v+I,F=I/2,D=V?{x0:Za/2+Kc.LEGEND.TEXT.SIZE/2-2,y0:Math.round(F),x1:Za/2+Kc.LEGEND.TEXT.SIZE/2-2,y1:Math.round(E+F)}:{x0:I/2,y0:0,x1:Math.round(E),y1:0};new Ax(vg.default.extend({shapeGroup:t,key:k+"/"+n+"_line",stroke:B,lineWidth:3,canHover:!1,skipInFind:!0},D));x&&(E=V?{x:Za/2+Kc.LEGEND.TEXT.SIZE/2-2,y:Math.round(F+E/2)}:{x:Math.round(-1+
(E+I/2)/2),y:0.5},new $p(vg.default.extend({shapeGroup:t,key:k+"/"+n+"_point",r:4,fill:B,canHover:!1,skipInFind:!0},E)))}B=(ea-(new aq).getH())/2;H=V?H===cl?v+2*I:v+I:v+1.5*I;E=V?{vertical:!0,valign:"middle",y:0,halign:"right"}:{maxWidth:a.get("w"),valign:"middle",y:0,halign:"left"};n=(new aq(vg.default.extend({key:k+"/"+n+"_label",x:V?Za/2-Kc.LEGEND.TEXT.SIZE+v+I/2-1:0,padding:{left:H,right:C,top:B,bottom:B},stroke:y.getLegendTextColor(),hoverStroke:y.getLegendTextHoverColor(),text:z,hotSpots:e,
canSelect:!0,data:w},E))).prependTo(t);V?t.offsetX(-I/2):(w=n.boundingBox(),n.offsetY(-w.y-w.h/2),t.offsetY(ea/2))});A.applyLayout({type:"vbox"});z&&t.adjustRowToFit(a.get("row"));B&&t.adjustColumnToFit(a.get("column"));A.forEach(function(b){b.shapeByKey(b.key+"_label").set({hoverBgColor:y.getLegendTextBGColor(),maxWidth:V?b.boundingBox().h:a.get("w")})})};return b}(vx.default);ug.default=Fx;ug.getMetadata=function(){return wx.default};var wg={};"use strict";Object.defineProperty(wg,"__esModule",
{value:!0});wg.getMetadata=void 0;var Gx=kh(Q),dl=kh(O),Hx=kh(ad),Ix=kh({moduleName:"sfdc-gradient-legend",name:"Legend",shortname:"Legend"}),en=dl.default.formatNumber,dq=dl.default.utils,ob=dq.constants,lh=dq.plotUtils,el=dl.default.shapes,eq=el.NumberText,Jx=el.Layer,Kx=el.Rect,mh=ob.LEGEND.PADDING,Lx=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);
this.config.selectMode=ob.SELECTMODE.NONE};b.prototype.getDefaultConfig=function(){return Gx.default.extend(a.prototype.getDefaultConfig.call(this),{domain:[0,0],range:this.config.theme.getGradientLegendColor(),headerAlign:"center",maxLength:200,width:ob.GRADIENT_LEGEND.GRADIENT.WIDTH})};b.prototype.getVerticalSize=function(){var a=this.config;if(!a)return[0,0];var b=a.domain,e=a.format,g=a.maxLength,k=this.getHeaderSize(!0),g=k[1]+(g||200)+2*(ob.LEGEND.TEXT.SIZE+2*mh),b=dn(b,e);return[Math.max.apply(Math,
[k[0],b[0],b[1],a.width||ob.GRADIENT_LEGEND.GRADIENT.WIDTH]),g]};b.prototype.getHorizontalSize=function(){var a=this.config;if(!a)return[0,0];var b=a.domain,e=a.format,a=a.maxLength,g=this.getHeaderSize(!1),k=ob.LEGEND.TEXT.SIZE+mh,b=dn(b,e);return[g[0]+(a||200)+b[0]+b[1],k]};b.prototype.plotFunction=function(a,b,e,g){var k=this.config,m=k.theme,n=k.domain,q=k.range,p=k.format,r=k.maxLength,x=k.sorting,t=!!k.transforms.rotate,v=en(p,!0);b=new Jx({cell:a,key:"plot",canHover:!1,canSelect:!1});var z=
a.getScene(),w=ob.LEGEND.PADDING,y=r||Number.POSITIVE_INFINITY,r=n[1],n=n[0];if(!(Infinity===n||-Infinity===r)){if(!x&&!t||x&&x.order===ob.SORT.ORDER.DESC)var H=n,n=r,r=H;if(n!==r&&(t&&x&&x.order===ob.SORT.ORDER.DESC||!t&&x&&x.order===ob.SORT.ORDER.ASC))q=q.reverse();var H=lh.getTextWidth(v(n)),I=lh.getTextWidth(v(r)),v=Math.min(H,120),x=Math.min(I,240-v),A=t?v+x+10:40,B=g-w/2;g=k.width;g=Math.max(Math.min(g,e-w),ob.GRADIENT_LEGEND.GRADIENT.MIN_WIDTH);y=Math.min(B-w-A,y);y=Math.max(y,g*ob.GRADIENT_LEGEND.GRADIENT.MIN_RATIO);
A=e/2-g/2;H=k.isCombo?-(k.showHeader?e:Math.max(v,x))/2+Math.max(H,I,g)/2+w:0;new eq({key:"minval",layer:b,x:t?A+Math.max(g,ob.LEGEND.TEXT.SIZE)/2:H,y:t?5:w,valign:"middle",halign:t?"right":"center",vertical:t,stroke:m.getGradientLegendTextColor(),format:p,compact:!0,number:n,padding:t?{bottom:w/2}:{right:w/2,left:w/2},maxWidth:120});new Kx({key:"gradient",layer:b,x:t?A:H-g/2,w:g,h:t?y:-y,vertical:!0,cornerRadius:g/2,fill:n===r?q.toRepresentativeColor():q});new eq({key:"maxval",layer:b,x:t?A+Math.max(g,
ob.LEGEND.TEXT.SIZE)/2:H,valign:"middle",halign:t?"left":"center",vertical:t,stroke:m.getGradientLegendTextColor(),format:p,compact:!0,number:r,padding:t?{right:w,bottom:w/2}:{bottom:w,right:w/2,left:w/2},maxWidth:t?240-v:120});b.applyLayout({type:"vbox",spacer:ob.GRADIENT_LEGEND.TEXT.PADDING});m=b.boundingBox();!t&&m&&(e=Math.max(m.w+w,k.showHeader?e:Math.max(v,x)),b.set({x:e/2-w/2}));z.adjustRowToFit(a.get("row"));z.adjustColumnToFit(a.get("column"))}};return b}(Hx.default);wg.default=Lx;wg.getMetadata=
function(){return Ix.default};var xg={};"use strict";Object.defineProperty(xg,"__esModule",{value:!0});xg.getMetadata=void 0;var Mx=nh(Q),fq=nh(O),Nx=nh(ad),Ox=nh({moduleName:"sfdc-radial-legend",name:"Legend",shortname:"Legend",config:[{type:"MEASURE",label:"Measure",min:1,max:1,property:"measure",colorable:!0},{type:"INTEGER",label:"Swatch Size",min:1,max:1,property:"swatchSize",defaults:[32]},{type:"INTEGER",label:"Swatch Padding",min:1,max:1,property:"swatchPadding",defaults:[4]}]}),gq=fq.default.utils,
Cb=gq.constants,fn=gq.scales,yg=fq.default.shapes,Cs=yg.Text,gn=yg.NumberText,Px=yg.Layer,hn=yg.Point,Ds=yg.ShapeGroup,hq=Cb.LEGEND.PADDING,Lj=Cb.MARK.POINT.MAX_RADIUS,Qx=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return Mx.default.extend(a.prototype.getDefaultConfig.call(this),{maxValue:0,maxRadius:Cb.MARK.POINT.MAX_RADIUS,selectMode:Cb.SELECTMODE.NONE})};b.prototype.sanitizeConfig=
function(){a.prototype.sanitizeConfig.call(this);var b=this.config;b.maxRadius=Math.max(0,b.maxRadius)};b.prototype.getVerticalSize=function(){var a=this.config;if(!a)return[0,0];var b=a.maxRadius,e=a.swatchSize,a=a.swatchPadding,g=this.getHeaderSize(!0),k=2*Math.min(b,Lj)+hq,b=Math.max(g[0],2*e+a+40,k),e=g[1]+Math.max(3*(2*e+a),k);return[b,e]};b.prototype.getHorizontalSize=function(){var a=this.config;if(!a)return[0,0];var b=a.swatchSize,e=a.swatchPadding,g=2*Math.min(a.maxRadius,Lj)+hq,k=this.getHeaderSize(!1),
a=k[0]+Math.max(3*(2*b+e+40),g),b=Math.max(2*b+e,k[1],g);return[a,b]};b.prototype.plotFunction=function(a){var b=this.config,e=b.maxRadius,g=b.transforms,k=b.fitHeight,m=b.fitWidth,n=new Px({cell:a,key:"plot",canHover:!1,canSelect:!1}),q=a.getScene(),g=g.rotate,p=[a.get("w"),a.get("h")];50<p[0]&&50<p[1]&&20<e?Es(n,b):Bs(n,b);b=g?k:m;(g?m:k)&&q.adjustRowToFit(a.get("row"));b&&q.adjustColumnToFit(a.get("column"))};return b}(Nx.default);xg.default=Qx;xg.getMetadata=function(){return Ox.default};var Se=
{};"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.getMetadata=void 0;var bd=ld(Q),fl=ld(O),Rx=ld(sg),iq=ld(tg),jq=ld(ug),gl=ld(wg),Sx=ld(xg),Tx=ld({moduleName:"sfdc-legend-utils"}),Te=fl.default.utils,Ux=Te.Padding,Df=Te.dataUtils,Ua=Te.constants,Vx=Te.configUtils,Ue=Te.columnUtils,Wx=Te.valueFctUtils,Xx=fl.default.LOC,Mj=Ua.CHART_LAYOUT.COLOR_TYPE,Yx=fl.default.color.colorUtils;Se.default={santizeLegendChartConfig:function(a,b){var c=a.size,f=b.getHorizontalSize(c),e=b.getVerticalSize(),
g=a.legend,k=Math.max(Ua.LEGEND.MIN_PADDING,g.vPad),m=Math.max(Ua.LEGEND.MIN_PADDING,g.hPad),n=g.inside,q=Vx.getCustomCellSize(g),p=a.padding,r=c[0]-p.left-p.right,x=c[1]-p.top-p.bottom,t=this.sanitizeLegendPosition(g.position),v=t.area,t=t.alignment,z=!0,w=!0,y="full"===t;"left"===v||"right"===v||y?(f=[e[0],Math.min(e[1],x)],z=y?r:q?r*q/100:Math.min(f[0],0.4*r),q=y?q?r*q/100:Math.min(f[1],0.4*x):f[1],q=[z,q],z=!y):(w=[Math.min(f[0],r),f[1]],q=q?x*q/100:Math.min(w[1],0.3*x),q=[w[0],q],w=!1);x=b instanceof
iq.default?b.getLegends().some(function(a){return a instanceof gl.default}):b instanceof gl.default;this.defaultLegendSortingConfig(g,a.color,x,w);if(0>=q[0]||0>=q[1])return!1;q=[Math.ceil(q[0]),Math.ceil(q[1])];c=this.computeLegendInfo(c,p,q,v,t,n,k,m);a.padding=c.chartPadding;a.legend=g;return{size:q,fitWidth:z,showBackground:n,position:c.legendPosition,transforms:{rotate:!w,flipX:"right"===v}}},defaultLegendSortingConfig:function(a,b,c,f){c={order:c&&f?Ua.SORT.ORDER.DESC:Ua.SORT.ORDER.ASC};c.type=
!b||!1===b.sortColor?Ua.SORT.TYPE.ROWS:Ua.SORT.TYPE.VALUES;a.sorting=bd.default.defaults(a.sorting||{},c)},getLegend:function(a,b,c){if(2>(void 0===a?0:1)+b.length)return a||b[0];c=c.selectMode;1<b.length&&![Ua.SELECTMODE.MULTI,Ua.SELECTMODE.MULTI_REQUIRED].includes(c)&&(c=Ua.SELECTMODE.NONE);var f={};b.filter(function(a){return a.getConfig().selectMode!==Ua.SELECTMODE.NONE}).forEach(function(a){bd.default.extend(f,a.getConfig().selectionKeyFct)});c={selectMode:c,selectionKeyFct:f};b=1===b.length?
b[0]:new Rx.default(c,b);return a?new iq.default(c,a,b):b},getRadialLegendFromLayout:function(a,b){if(a&&!a.isConstant()){var c=this.getCommonLegendConfig(b),f=a.getField();return new Sx.default(bd.default.extend(c,{format:f.getFormat(),maxRadius:a.getMaxRadius(),maxValue:a.getMaxValue(),headerText:Ue.defaultText(f.getLabel(),f.getName())}))}},getColorLegendFromPlots:function(a,b,c){if(!bd.default.find(a,function(a){return!Yx.isColor(a.color)||bd.default.isEmpty(a.column)})){var f=this.getCommonLegendConfig(b),
e=a.map(function(a){a=a.column[0];return Ue.defaultText(a.getLabel(),a.getName())});a=bd.default.sortBy(a,function(a){return a.mark===Ua.MARK_TYPE.BAR?0:1});var g=a.map(function(a){a=a.column[0];return Ue.defaultText(a.getLabel(),a.getName())}),k=a.map(function(a){return a.color});a=a.map(function(a){return a.mark});return new jq.default(bd.default.extend(f,{domain:g,unsortedDomain:e,colors:k,marks:a,showPoints:b.showPoints,selectMode:Ua.SELECTMODE.NONE,headerText:Xx.getLabel("@salesforce/charts",
"measure"),sorting:b.legend&&b.legend.sorting,legendName:c}))}},getGradientLegendFromLayout:function(a,b){if(a&&!a.isConstant()&&a.getType()===Ua.CHART_LAYOUT.COLOR_TYPE.GRADIENT){var c=this.getCommonLegendConfig(b),f=a.getField(),e=a.getScale().domain(),g=Ue.defaultText(f.getLabel(),f.getName()),k=b.legend&&b.legend.sorting;return new gl.default(bd.default.extend(c,{domain:e,range:a.getGradient(),format:f.getFormat(),headerText:g,sorting:k}))}},getCategoricalLegendFromLayout:function(a,b,c,f){if(a&&
!a.isConstant()){var e=a.getType();if(e!==Ua.CHART_LAYOUT.COLOR_TYPE.GRADIENT){var g=this.getCommonLegendConfig(b),k=b.selectMode,m=b.trellis,n=b.showPoints,q=b.legend;b=a.getField();var p=a.getScale(),r=Ue.defaultText(b.getLabel(),b.getName()),x=p.domain(),t=a.getUnsortedDomain(),p=p.range(),v=a.getLabels();c=Fs(e,Ue.uniqueColumns(c).length,m,k)?Ua.SELECTMODE.NONE:k;var e=e===Ua.CHART_LAYOUT.COLOR_TYPE.BINS,z=Wx.getValueFct({field:b},e),q=q&&q.sorting,k={};k[f]=e?function(a){a=z(a);return f+"/"+
(a?a.value:"")}:function(a){return f+"/"+z(a)};return new jq.default(bd.default.extend(g,{hotSpots:e?void 0:b.getHotSpots(),columnName:b.getName(),showPoints:n,domain:x,unsortedDomain:t,colors:p,labels:v,headerText:r,mark:a.getLegendSwatchType(),selectMode:c,selectionKeyFct:k,sorting:q,legendName:f}))}}},getColorLegendFromLayout:function(a,b,c,f){if(a&&!a.isConstant())switch(a.getType()){case Mj.GRADIENT:return this.getGradientLegendFromLayout(a,b);default:return this.getCategoricalLegendFromLayout(a,
b,c,f)}},getCommonLegendConfig:function(a){var b=a.legend||{};return{dataCursor:a.dataCursor,swatchSize:b.swatchSize,swatchPadding:b.swatchPadding,showHeader:b.showHeader,fitHeight:b.fitHeight,theme:a.theme}},sanitizeLegendPosition:function(a){var b=a.split("-");a=b[0];b=b[1];Df.includes(["left","right","top","bottom"],a)||(a="right");Df.includes(["left","right"],a)?Df.includes(["top","middle","bottom"],b)||(b="top"):Df.includes(["left","center","right","full"],b)||(b="center");return{area:a,alignment:b}},
computeLegendInfo:function(a,b,c,f,e,g,k,m){var n=c[0];c=c[1];b=new Ux(b);var q=a[0]-b.left-b.right;a=a[1]-b.top-b.bottom;q=("right"===f||"right"===e?q-n-0:"left"===f||"left"===e||"full"===e?0:"center"===e?(q-n)/2:0)+b.left;e=("top"===f||"top"===e?0:"bottom"===f||"bottom"===e?a-c-0:"middle"===e?(a-c)/2:0)+b.top;if(!g)switch(f){case "top":b.top+=c+k;break;case "bottom":b.bottom+=c+k;break;case "left":b.left+=n+m;break;case "right":b.right+=n+m}return{legendPosition:[q,e],chartPadding:b.toJson()}}};
Se.getMetadata=function(){return Tx.default};var ee={};"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.getMetadata=void 0;var Zx=Ef(Q),hl=Ef(O),il=Ef(rg),$x=Ef(Se),ay=Ef({moduleName:"sfdc-abstract-plot"}),kq=hl.default.runtime,by=hl.default.ThemeFactory,lq=hl.default.utils.configUtils,cb=function(a,b,c,f,e){this.config=a;a.theme&&!a.theme._theme&&(a.theme=by.getInstance().getTheme(a.theme));this.rows=b;this.rowsMetadata=c;this.delegate=e;this._settledLayouts=!1;lq.sanitizeChartTitleConfig(a.title)};
cb.prototype.sanitizeConfig=function(){var a=this.config;a.trellis&&1>a.trellis.column.length&&delete a.trellis};cb.prototype.isTrellis=function(){return lq.isTrellis(this.config)};cb.prototype.updateContext=function(a){};cb.prototype.onExportToTrellisCell=function(){};cb.prototype.onAfterTrellisPlot=function(){};cb.prototype.onBeforeTrellisRemove=function(){};cb.prototype.remove=function(a,b){};cb.prototype.getDataFormatter=function(){};cb.prototype.getLegend=function(){};cb.prototype.initScene=
function(a,b){};cb.prototype.plot=function(a,b,c){};cb.prototype.hasSettledLayouts=function(){return!!this._settledLayouts};cb.prototype.resetLayouts=function(){this._settledLayouts=!1};cb.prototype.settleLayouts=function(){this._settledLayouts=!0};cb.prototype.postPlot=function(a,b,c){};cb.prototype.render=function(a){var b,c=this.config,f=this.rows,e=c.theme,g=c.title,k=Zx.default.clone(c.padding),m,n;g&&(m=il.default.getTitleSize(g),c.padding=il.default.adjustChartPaddingForTitle(c.padding,m));
var q=c.legend&&this.getLegend();q&&((n=$x.default.santizeLegendChartConfig(c,q))||(q=void 0));var p=this.initScene(c,f,a);this.updateContext(a);this.plot(c,f,p,a);this.settleLayouts();this.postPlot(c,f,p,a);q&&(kq.getPerf().mark("legend"),q=this.getLegend(),q.extendConfig(n),b=q.render(),b.getCells().forEach(function(a){a.getLayers().forEach(function(a){a.postProcess()})}),kq.getPerf().endMark("legend"));g&&0<m&&(a=p.get("size"),p.prepend(il.default.getTitleCell(c,m,g,e,a,k)));p.getCells().forEach(function(a){a.getLayers().forEach(function(a){a.postProcess()})});
p.legend=b;p.set({config:c,rowsMetadata:this.rowsMetadata,background:e.getBackgroundColor().adjustOpacity(e.getBackgroundOpacity()),dataFormatter:this.getDataFormatter()});return p};ee.default=cb;ee.getMetadata=function(){return ay.default};var fe={};"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.getMetadata=void 0;var jl=Nj(O),cy=Nj(ee),dy=Nj({moduleName:"sfdc-empty-chart"}),ey=jl.default.layoutBuilder,mq=jl.default.shapes,fy=mq.Layer,gy=mq.Text,nq=jl.default.utils.constants,hy=
function(a){function b(b,f,e){a.call(this,b,[]);this.label=e}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.initScene=function(a){var b=a.theme,e=this.label;a=ey.build({layout:"Empty",size:a.size,padding:a.padding});var g=a.cellByKey("empty"),k=g.get("w"),g=new fy({cell:g,x:k/2,y:g.get("h")/2,key:"layer"});new gy({layer:g,x:0,y:0,valign:"middle",halign:"center",text:e,maxWidth:k,stroke:b.getEmptyChartTextColor(),key:"empty_rows",accessibility:{type:nq.ACCESSIBILITY.TYPE.CAPTION,
key:nq.ACCESSIBILITY.CAPTION_KEY.ERROR,value:e}});return a};return b}(cy.default);fe.default=hy;fe.getMetadata=function(){return dy.default};var Ve={};"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.getMetadata=void 0;var ni=Ff(Q),ge=Ff(O),oq=Ff(fe),iy=Ff(ee),jy=Ff({moduleName:"sfdc-trellis-chart"}),ky=ge.default.layoutBuilder,ly=ge.default.ThemeFactory,pq=ge.default.LOC,my=ge.default.ChartContext,oi=ge.default.utils,he=oi.constants,ny=oi.trellisUtils,oy=oi.configUtils,py=oi.columnUtils,
pi=ge.default.shapes,kl=pi.Text,cd=pi.Line,zg=pi.Layer,qy=pi.Point,Gs=ge.default.rowsMetadata.rowsFormatter,ry=function(a){function b(b,f,e){a.call(this,b,f,e.rowsMetadata,e._props,e.delegate);b=ni.default.clone(b.trellis);ni.default.defaults(b,{size:he.TRELLIS.DEFAULT_SIZE,chartsPerLine:he.TRELLIS.CHARTS_PER_LINE,maxNumCells:he.TRELLIS.MAX_NUM_CELLS});this.trellisConfig=b;this._cellChart=e;this.matrix=b=ny.computeDataMatrix(this.trellisConfig,f);b.rows!==f&&(this.rows=this.matrix.rows,e.onChartRowsChanged(this.rows,
!1))}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.updateContext=function(a){var b=this,e=a.getCellKeys();this.traverseCell(function(g){var k=e.indexOf(g);-1<k&&e.splice(k,1);k=a.getCellContext(g);k||(k=new my,a.setCellContext(g,k));b._cellChart.updateContext(k)});e.forEach(function(e){b._cellChart.remove(a.getCellContext(e));a.removeCellContext(e)});return a};b.prototype.remove=function(a,b){var e=this._cellChart;e.onBeforeTrellisRemove(a,b);a&&
(a.forEachCell(function(a,c){e.remove(c,b)}),(!b||!b.isTrellis())&&a.remove())};b.prototype.getCellChart=function(){return this._cellChart};b.prototype.getLegend=function(){var a=this.getCellChart();return a&&a.getLegend()};b.prototype.getTooltipDefaultColumns=function(){var a=this.getCellChart().getTooltipDefaultColumns(),b=oy.getColumns(this.config,"trellis");return py.uniqueColumns(b.concat(a))};b.prototype.getDataFormatter=function(){var a=this.config.tooltip,b=this.getCellChart();(b=b&&b.getDataFormatter())&&
!a.column&&b.setTooltipColumns(this.getTooltipDefaultColumns());return b};b.prototype._showGridLines=function(){return!1!==this.trellisConfig.showGridLines};b.prototype.initScene=function(a){var b=a.size,e=a.padding;a=a.selectMode;var g=this.trellisConfig;1===g.column.length&&"xy"===g.type&&(g.type="x");var k=g.type;return ky.build({layout:"Trellis",size:b,padding:e,transforms:g.transforms,selectMode:a,hasTrellisColHeaders:"x"===k||"xy"===k,hasTrellisRowHeaders:"y"===k||"xy"===k})};b.prototype.traverseCell=
function(a){var b=this.matrix,e=b.colHeaders,g=b.getKeyPrefix,k=b.data;b.rowHeaders.forEach(function(b){e.forEach(function(e){var f=g(e,b);a(f,k[f]||[],e,b)})})};b.prototype._getPosition=function(a,b,e,g){a=a.get("padding");var k=b.get("x");b=b.get("y");return[k+a.left+e,b+a.top+g]};b.prototype.plot=function(a,b,e,g){var k,m,n=this;if(b=this.trellisConfig){var q=ni.default.extend({},a);q.padding={top:0,right:0,bottom:0,left:0};delete q.trellis;delete q.legend;delete q.title;var p=this.matrix,r=q.theme||
ly.getInstance().getDefaultTheme();a=q.transforms;var x=this._showGridLines(),t=this.getCellChart();ni.default.defaults(a,{center:!0});var v=b.type;m=b.size;k=Math.max(1,b.chartsPerLine);a="x"===v||"xy"===v;var z="y"===v||"xy"===v,w="wrap"===v,y=p.getExtraData,H=p.colFields,I=p.rowFields,v=p.colHeaders,p=p.rowHeaders,A=p.length*v.length,B=e.cellByKey("content"),C=e.cellByKey("colHeaders"),ea=e.cellByKey("rowHeaders"),E=e.cellByKey("corner"),F=m[0];m=m[1];var D,J,K;w?(A<k&&(k=A),K=he.TRELLIS.CELL_PADDING_WRAP,
D=k,J=Math.ceil(A/D),A=(B.get("w")+K)/D-K,F=A*m/F):(K=he.TRELLIS.CELL_PADDING,D=v.length,J=p.length,A=Math.max(F,B.get("w")/D-K),F=Math.max(m,B.get("h")/J-K));var R=function(a,b,c){var e;var f=t.config||{};e=f.labels;var k=f.padding,m=f.size,f=f.theme;e=t.hasRows(c)?t.hasMeasures(c)?t:new oq.default({padding:k,theme:f,size:m},c,pq.getLabel("@salesforce/charts","noValues",null,e)):new oq.default({padding:k,theme:f,size:m},c,pq.getLabel("@salesforce/charts","noData",null,e));a=g.getCellContext(a);k=
e.initScene(b,c,a);e.plot(b,c,k,a);return{chart:e,scene:k}},G=A,M=F,N={};q.size=[G,M];t.onChartSizeChanged(G,M);this.traverseCell(function(a,b){N[a]=R(a,q,b)});t.settleLayouts();this.traverseCell(function(a,b){var c=N[a],e=c.scene;c.chart.postPlot(q,b,e,g.getCellContext(a));e.postProcess();c=e.getFullSize();G<c[0]&&(G=c[0]);M<c[1]&&(M=c[1])});var L,Q;w?(G<A-1&&(M=A),L=G+K,Q=M+K+he.TRELLIS.HEADER.WRAP,k=L*D-K,m=Q*J-K,k<B.get("w")+0.1&&B.set({scrollX:!1}),m<B.get("h")+0.1&&B.set({scrollY:!1})):(L=G+
K,Q=M+K,k=L*D,m=Q*J);var gh=0,Um=1<Math.abs(A-G)||1<Math.abs(F-M);Um&&(t.resetLayouts(),q.size=[G,M],t.onChartSizeChanged(G,M),this.traverseCell(function(a,b){N[a]=R(a,q,b)}));var W,S,Ab=!0===b.flipLabels;this.traverseCell(function(a,b,c,f){var k;k=gh++;var m=k%D,p=m*L;k=(k-m)/D*Q;k=w?[p-K/2,k-K/2]:[p,k];p=k[0]+K/2;k=k[1]+K/2;m=N[a];if(w){var s=new zg({key:"title_"+a,cell:B,x:p,y:k+(Ab?M:0)});new kl({key:"title",layer:s,x:G/2,halign:"center",valign:"top",y:Ab?18:4,text:Oj(c,H),maxWidth:G,stroke:r.getTrellisHeaderTextColor()});
x&&new cd({key:"line",layer:s,x0:0,y0:Ab?10:16,x1:G,y1:Ab?10:16,lineWidth:1,stroke:r.getTrellisHeaderLineColor()});Ab||(k+=he.TRELLIS.HEADER.WRAP)}if(m){var s=m.scene,t=g.getCellContext(a);!W&&s.get("selectionKeyFct")&&(W=s.get("selectionKeyFct"),S=s.get("keyTransform"));Um&&(m.chart.postPlot(q,b,s,t),s.postProcess());b=y(c,f);s.exportIntoCell(B,{tx:p,ty:k,keyPrefix:"layer_"+a,extraData:b});n._cellChart.onExportToTrellisCell(t,n._getPosition(e,B,p,k))}});e.set({selectionKeyFct:W,keyTransform:S});
this._cellMatrix=N;if(!w){var Ta=E.get("w"),P=E.get("h"),O=Math.min(B.get("w"),k)-1,U=Math.min(B.get("h"),m)-1,Z=z&&Ab,X=a&&Ab;b=a&&z&&Ab;Z&&B.offsetX(-Ta);X&&B.offsetY(-P);b&&(C.offsetX(-Ta),ea.offsetY(-P));if(a){var ba=new zg({key:"colHeadersLayer",cell:C});v.forEach(function(a,b){var c=b*L;new kl({key:"text-"+a.join("-"),layer:ba,text:Oj(a,H),x:c+L/2,y:P/2+(X?U:0),maxWidth:G,valign:"middle",halign:"center",stroke:r.getTrellisHeaderTextColor()});x&&b<D-1&&new cd({key:"line-"+a.join("-"),layer:ba,
x0:c+L,x1:c+L,y0:0,y1:P+U,stroke:r.getTrellisGridLineColor()})})}if(z){var ca=new zg({key:"rowHeadersLayer",cell:ea});p.forEach(function(a,b){var c=b*Q;new kl({key:"text-"+a.join("-"),layer:ca,text:Oj(a,I),y:c+Q/2,maxWidth:M,x:Ta/2+(Z?O:0),valign:"middle",halign:"center",vertical:!0,stroke:r.getTrellisHeaderTextColor()});x&&b<J-1&&new cd({key:"line-"+a.join("-"),layer:ca,y0:c+Q,y1:c+Q,x0:0,x1:Ta+O,stroke:r.getTrellisGridLineColor()})})}x&&(v=new zg({key:"cornerLayer",cell:E,x:Ta,y:P}),z&&new cd({key:"left",
layer:v,x0:-Ta,x1:-Ta,y0:0+(b?-P:0),y1:U,stroke:r.getTrellisGridLineColor()}),new cd({key:"center",layer:v,x0:0+(Z?O-Ta:0),x1:0+(Z?O-Ta:0),y0:-P,y1:U,stroke:r.getTrellisGridLineColor()}),new cd({key:"right",layer:v,x0:O,x1:O,y0:-P,y1:U+(b?-P:0),stroke:r.getTrellisGridLineColor()}),a&&new cd({key:"top",layer:v,y0:-P,y1:-P,x0:b?-Ta:0,x1:O,stroke:r.getTrellisGridLineColor()}),new cd({key:"middle",layer:v,y0:0+(X?U-P:0),y1:0+(X?U-P:0),x0:-Ta,x1:O,stroke:r.getTrellisGridLineColor()}),new cd({key:"bottom",
layer:v,y0:U,y1:U,x0:-Ta,x1:O+(b?-Ta:0),stroke:r.getTrellisGridLineColor()}))}b=new zg({key:"padding",cell:B});new qy({key:"bot-right-padding",layer:b,x:k,y:m,r:0});this._cellChart.onAfterTrellisPlot(g)}};return b}(iy.default);Ve.default=ry;Ve.getMetadata=function(){return jy.default};var Lc={};"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.getMetadata=void 0;var dd=Gf(Q),ed=Gf(O),sy=Gf(ee),qi=Gf(Se),ty=Gf({moduleName:"sfdc-abstract-chart"}),uy=ed.default.layoutBuilder,vy=ed.default.DataFormatter,
wy=ed.default.ThemeFactory,qq=ed.default.runtime,Mc=ed.default.utils,xb=Mc.configUtils,Jb=Mc.constants,Ag=Mc.dataUtils,xy=Mc.columnUtils,yy=Mc.layoutUtils,ri=Mc.rowsUtils,zy=Mc.sceneUtils,Ay=Mc.percentageUtils,By=Mc.valueFctUtils,Cy=Mc.referenceLineUtils,si=ed.default.enums.SortingEnum,Dy=ed.default.rowsMetadata.RowsMetadata,Ey=ed.default.renderers.CellRendererFactory,rq=ed.default.chartLayouts.layoutsUtils,Fy=function(a){function b(b,f,e,g,k){void 0===e&&(e=[]);void 0===g&&(g={});a.call(this,b,f,
new Dy(xb.hydrateRowsMetadata(f,e)),g,k);this.rowsMetadata&&xb.hydrateConfig(this.config,this.rowsMetadata);this.cellRendererConfigs={};b.theme=b.theme||wy.getInstance().getDefaultTheme();b.plots=b.plots&&0<b.plots.length?b.plots:this.getDefaultPlots();b.isIdenticalColor=xb.isIdenticalColor(b);xb.fixConfig(b,this.getDefaultConfig());this.sanitizeConfig();this.chartProperties=Ag.defaultsDeep(this.getChartProperties(),{layout:"Flat",measuresRequired:!0,rowsRequired:!0,uniqueRowKeyRequired:!0,keyColumns:[],
supportsSorting:!0,markType:Jb.MARK_TYPE.BAR});b.sorting.enabled=b.sorting.enabled&&this.chartProperties.supportsSorting;xb.enrichAxis(b);this.chartProperties.markType&&xb.setMarkType(b,this.chartProperties.markType);this.preProcessRows();this.chartLayouts=this.getChartLayouts(null,!0);this.resetLayouts();this.config.legend&&dd.default.defaults(this.config.legend,{vPad:Jb.LEGEND.VPAD,hPad:Jb.LEGEND.HPAD,position:Jb.LEGEND.POSITION,inside:!1,fitHeight:!0,swatchSize:Jb.COLOR_LEGEND.SWATCH.SIZE,swatchPadding:Jb.COLOR_LEGEND.SWATCH.PADDING});
this.postProcessRows();this._state=g}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getTooltipDefaultColumns=function(){return xy.uniqueColumns(this.chartProperties.tooltipColumns)};b.prototype.getDataFormatter=function(){var a=this.config,b=this.rowsMetadata,e=a.tooltip,a=a.theme,g=e.column,k=e.showPercentage,m=e.showBinLabel,n=e.text,e=e.showNullValues;g||(g=this.getTooltipDefaultColumns());return(new vy).setTooltipColumns(g).setShowPercentage(k).setShowBinLabel(m).setShowNullValues(e).setTheme(a).setRowsMetadata(b).setColorLayouts(this._getColorLayoutsMap(null,
!1)).setText(n)};b.prototype.getLegend=function(){if(this.rows.length){var a=this.chartProperties,b=a.keyColumns,e=a.showColorLegend;void 0===e&&(e=!0);var a=this.chartLayouts,g=a.colorLayouts,k=a.radiusLayout,m=this.config,a=m.selectMode,m=m.plots,n;k&&(n=qi.default.getRadialLegendFromLayout(k,this.config));k=[];if(e){for(var q in g){var e=g[q],p=void 0;e.getType()!==Jb.CHART_LAYOUT.COLOR_TYPE.CONSTANT&&(p=qi.default.getColorLegendFromLayout(e,this.config,b,q),k.push(p))}var r=[];m.forEach(function(a){if(a.column&&
a.column[0]){var b=g[a.column[0].getName()];b&&b.getType()===Jb.CHART_LAYOUT.COLOR_TYPE.CONSTANT&&r.push({column:a.column,mark:a.mark,color:a.color})}});r.length&&(b=qi.default.getColorLegendFromPlots(r,this.config,Jb.CHART_LAYOUT.COLOR_TYPE.CONSTANT),k.push(b))}return qi.default.getLegend(n,k,{selectMode:a})}};b.prototype._getColorLayoutsMap=function(a,b){var e=this;void 0===b&&(b=!1);if(!b&&this._colorLayoutsMap)return this._colorLayoutsMap;this._colorLayoutsMap={};this.config.plots.forEach(function(b,
f){var g=e.getColorLayout({i:f,legendSwatchType:a});b.column&&b.column[0]&&null==e._colorLayoutsMap[b.column[0].getName()]?e._colorLayoutsMap[b.column[0].getName()]=g:e._colorLayoutsMap[""]=g});if(this.config.isIdenticalColor){var g=Object.keys(this._colorLayoutsMap)[0],k=this._colorLayoutsMap[g],g=k.getType()===Jb.CHART_LAYOUT.COLOR_TYPE.CONSTANT?g:k.getColumn();this._colorLayoutsMap={};this._colorLayoutsMap[g]=k}return this._colorLayoutsMap};b.prototype.getKeyFct=function(){return this._keyFct};
b.prototype.getInternalKeyColumn=function(){return this._internalKeyColumn};b.prototype.getInternalSortFct=function(){var a=this.config.sorting.column[0].getName();return function(b){return b[a]}};b.prototype.isTimeChart=function(){return!1};b.prototype.getRowsTransforms=function(){var a=this,b=[],e=this.config,g=this.chartProperties,k=g.uniqueRowKeyRequired,m=g.keyColumns,g=xb.createInternalKeyColumn(),n=xb.getColumns(e,"key"),q=xb.getColumns(e,"trellis"),m=n.length?n:q.concat(m);this._keyTransform=
m=ri.parseInternalKeyTransform(g,m);this._internalKeyColumn=g;this._keyFct=By.getValueFct({field:g,defaultValue:""});b.push(m);var p=xb.getTimeColumns(e);p.forEach(function(a){a.setInternalColumnName(a.getName()+"$parsed");b.push(ri.parseTimeRowTransform(a))});g=this.chartProperties.percentGroupColumns;void 0===g&&(g=[]);e=xb.getColumns(e,"trellis").concat(g);b.push(Ay.getPercentRowTransform(this.rows,e,this.rowsMetadata.getColumnsByType(Jb.COLUMN_TYPE.MEASURE)));if(k){var r={};b.push(function(b){var e=
a._keyFct(b);if(r[e])return null;r[e]=!0;return b})}0<p.length&&this.isTimeChart()&&b.push(function(a){if(null!=a){var b=0<dd.default.filter(p.map(function(b){return b.isFiscalTime()?!a.$$ROW_INTERNAL[b.getName()+"$parsed"]:!1})).length;return 0<dd.default.filter(p.map(function(b){return null==a[b.getName()]||""===a[b.getName()]})).length||b?null:a}return null});return b};b.prototype.preProcessRows=function(){var a=this.getRowsTransforms();0!==a.length&&(a=1===a.length?a[0]:Ag.flow(a),this.rows=dd.default.filter(this.rows.map(a)),
this._sortRows())};b.prototype.postProcessRows=function(){var a=this.chartLayouts.stackLayout;if(a&&(a=a.getRowsTransform()))this.rows=this.rows.map(a);if(a=this._getColorLayoutsMap(null,!1))for(var b in a)if(a[b]){var e=a[b];if(e.getType()===Jb.CHART_LAYOUT.COLOR_TYPE.BINS){var g=Ag.extendDeep({},e.getField()),k=g.getName(),m=e.getBinsInfo();g.setInternalColumnName(Jb.CHART_LAYOUT.COLOR_TYPE.BINS+"_"+b);e.setField(g);g=ri.getInternalValueTransform(g,function(a){a=e.getBinIndex(a[k],m);var b=e.getLabels()[a];
return{value:a,label:b}});this.rows=this.rows.map(g)}}};b.prototype.onChartRowsChanged=function(a,b){this.rows=a;this.chartLayouts=this.getChartLayouts(null,!0);b&&this.preProcessRows()};b.prototype.onChartSizeChanged=function(a,b){var e=this.chartLayouts.radiusLayout;e&&e.setRelativeSize(Math.min(a,b))};b.prototype.renderCell=function(a,b,e){b=b||{};var g=b.cellRenderer||Ey.get().getCellRenderer(this,a,b);qq.getPerf().mark(a.key);g.render(this,a,b,e);qq.getPerf().endMark(a.key);b&&zy.applyTransforms(a,
b.transforms)};b.prototype.initScene=function(a,b,e){b=this.chartProperties;a=uy.build({layout:b.layout,hasTooltip:a.hasTooltip,size:a.size,transforms:a.transforms,padding:a.padding,selectMode:a.selectMode,configLayout:a.layout,cellSizes:b.cellSizes,axisTitleMaxLines:b.axisTitleMaxLines});a.set({selectionKeyFct:this._keyFct,keyTransform:this._keyTransform});return a};b.prototype.plot=function(a,b,e,g){var k=this;g||(g={});yy.adjustLayout(e,a);var m={config:a,rows:b,scene:e,ctx:g},n={};this.cellRenderingOrder&&
this.cellRenderingOrder.forEach(function(a){a=e.cellByKey(a);k.renderCell(a,k.cellRendererConfigs[a.key],m);n[a.key]=a});dd.default.sortBy(e.getCells(),"key").forEach(function(a){dd.default.has(n,a.key)||k.renderCell(a,k.cellRendererConfigs[a.key],m)})};b.prototype.postPlot=function(a,b,e,g){};b.prototype.hasRows=function(a){return!this.chartProperties.rowsRequired||0<a.length};b.prototype.hasMeasures=function(a){var b=this.chartProperties,e=b.measureColumns;return!b.measuresRequired||ri.hasMeasures(a,
e)};b.prototype.isEmpty=function(a){return!this.hasRows(a)||!this.hasMeasures(a)};b.prototype.sanitizeConfig=function(){var b=this;a.prototype.sanitizeConfig.call(this);this.config.sorting.enabled=xb.isSortingSupported(this.config);var f=this.config.plots;f.forEach(function(a,g){a.referenceLines=Cy.getValidReferenceLines(a.referenceLines||[]);null==a.color&&(a.color=xb.getPaletteColor(b.config.theme,g,f.length));var k=b.config,m=k.measureAxis1,k=k.measureAxis2;null==a.column&&(0===g&&m&&m.column?
a.column=m.column:1===g&&(k&&k.column)&&(a.column=k.column))})};b.prototype.getDefaultConfig=function(){return{tooltip:{},sorting:{internal:!1,enabled:!0}}};b.prototype.getChartProperties=function(){return{}};b.prototype.getChartLayouts=function(a,b){return{colorLayouts:this._getColorLayoutsMap(a,b)}};b.prototype.getColorLayout=function(a){void 0===a&&(a={});var b=a.i;void 0===b&&(b=0);var e=a.rows;void 0===e&&(e=this.rows);a=a.legendSwatchType;var g=this.config,k=g.plots,g=g.theme,m=k[b],n=m.color,
m=m.mark;return rq.getChartColorLayout(n,xb.getPaletteColor(g,b,k.length),e,g,a||m)};b.prototype.getPlot=function(a){void 0===a&&(a=0);return this.config.plots[a]};b.prototype.getDefaultPlots=function(){return Ag.range(0,this.getDefaultPlotCount()).map(function(){return{}})};b.prototype.getDefaultPlotCount=function(){return 1};b.prototype.resetLayouts=function(){var b=this.chartLayouts.axisLayouts;b&&(b=Ag.isPlainObject(b)?dd.default.values(b):b,this.resetAxisLayouts(b));a.prototype.resetLayouts.call(this)};
b.prototype.resetAxisLayouts=function(a){for(var b=0;b<a.length;b++)a[b]&&a[b].resetPlot()};b.prototype.settleAxisLayouts=function(a,b,e,g){void 0===e&&(e=!1);void 0===g&&(g=!1);a=dd.default.filter(a);for(var k=a.length,m=0;m<k;m++)a[m].setSize(b);e&&1<k?rq.alignNumericAxisLayouts(a,g):a.forEach(function(a){return a.settleAxisDomainInfo()})};b.prototype._sortRows=function(){var a=this.config.sorting;a.internal&&(a=null!=a.order?si.fromValue(a.order):si.NONE,a!==si.NONE&&null!=this.getInternalSortFct()&&
(this.rows=dd.default.sortBy(this.rows,this.getInternalSortFct()),a===si.DESC&&(this.rows=this.rows.reverse())))};return b}(sy.default);Lc.default=Fy;Lc.getMetadata=function(){return ty.default};var We={};"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.getMetadata=void 0;var sq=oh(Q),ti=oh(O),Gy=oh(Lc),Hy=oh({moduleName:"sfdc-waterfall-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-waterfall-chart",description:"Schema for Waterfall Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},
"with":{properties:{computeTotal:{type:"boolean","default":!0},dimensionAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimensionAxis"},hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},hoverPadding:{type:"integer"},shouldConnect:{type:"boolean"},measureAxis1:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"},negativeColor:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/colorValue"},
positiveColor:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/colorValue"},showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},split:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/split"},startColor:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/colorValue"},totalColor:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/colorValue"},totals:{type:"array",
items:{properties:{row:{type:"integer"},label:{type:"string"}}}},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"},maxBarSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/maxBarSize"},minSpacer:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/minSpacer"},spacerRatio:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/spacerRatio"}}}}},name:"Waterfall Chart"}),pc=ti.default.utils,Iy=
pc.columnUtils,tq=pc.valueFctUtils,Bg=pc.plotUtils,fd=pc.rowsUtils,Jy=pc.mathUtils,uq=pc.sceneUtils,Nc=pc.configUtils,bc=pc.constants,ui=pc.axisUtils,Ky=pc.domainUtils,Ly=pc.layoutUtils,ll=ti.default.shapes,ml=ll.Layer,My=ll.Rect,Ny=ll.Line,nl=ti.default.chartLayouts,wd=ti.default.runtime,Oy=bc.AXIS.LABELS.LAYOUT,ol=bc.VALUETYPE,Py=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){var b=
this.config;return sq.default.extend(a.prototype.getDefaultConfig.call(this),{dimensionAxis:{column:[],showAxis:!0,showTitle:!0,titleMaxLines:1},measureAxis1:{showAxis:!0,showTitle:!0,title:"",scale:bc.SCALE.LINEAR,titleMaxLines:1},totalColor:"#00A1E0",positiveColor:b.theme.getPositiveColor(),negativeColor:b.theme.getNegativeColor(),computeTotal:!0,minSpacer:2,maxBarSize:200,shouldConnect:!1,showGridLines:!0,valueType:ol.COMPACT_NUMBER,transforms:{rotate:!0},hasNiceDomain:!0,hoverPadding:0})};b.prototype.sanitizeConfig=
function(){a.prototype.sanitizeConfig.call(this);var b=this.config,f=b.measureAxis1,e=b.dimensionAxis;b.valueType=Nc.sanitizeValueTypeConfig(b.valueType);Nc.sanitizeAxis(f,f.column,!0);Nc.sanitizeAxis(e,e.column);e.column.length||(b.computeTotal=!1);b.layout=Nc.addLegacyLayout(f,void 0,e)};b.prototype.getChartProperties=function(){var a=this.config,b=Nc.getColumns(a,"dimensionAxis")[0],e=Nc.getColumns(a,"measureAxis1"),g=Nc.getColumns(a,"split")[0],k=Iy.uniqueColumns(b,g),g=!!g,m=Nc.getTooltipColumns(a,
"dimensionAxis","measureAxis1","split");return{layout:"Waterfall",supportsSorting:!1,keyColumns:k,measureColumns:e,dimensionColumn:b,isStack:g,tooltipColumns:m,percentGroupColumns:g?b:[],axisTitleMaxLines:[a.dimensionAxis.titleMaxLines,a.measureAxis1.titleMaxLines]}};b.prototype.getChartLayouts=function(){var b=this.chartProperties,f=b.measureColumns,b=b.dimensionColumn,e=this.config,g=e.theme,k=e.positiveColor,m=e.negativeColor,n=e.measureAxis1,q=e.hasNiceDomain,e=e.transforms,g=Nc.getPlotColorColumn(this.config)?
a.prototype.getColorLayout.call(this):nl.colorLayout.make(bc.CHART_LAYOUT.COLOR_TYPE.BINS,{field:f[0],rows:this.rows,theme:g,breakpoints:[0],bands:[{color:m},{color:k}]});this._colorLayoutsMap={};f.length&&(this._colorLayoutsMap[f[0].getName()]=g);f=this._colorLayoutsMap;(g=nl.layoutsUtils.getChartNumericAxisLayout(n))&&g.setIsX(!0).setHasNiceTicks(n.showAxis&&q).setHasHorizontalTicks(!e.rotate);this.isTrellis()&&(this._dimensionValues=Ky.getOrdinalDomain(this.rows,b).sort());return{colorLayouts:f,
axisLayout:g}};b.prototype.getDataFormatter=function(){var b=a.prototype.getDataFormatter.call(this);b.setCustomColorPickFunction(function(a,b,c){return a[bc.ROW_INTERNAL_KEY]&&a[bc.ROW_INTERNAL_KEY].hasOwnProperty("barFillColor")?a[bc.ROW_INTERNAL_KEY].barFillColor:b.getScale().scale(a[c])});return b};b.prototype.plot=function(a,b,e,g){var k=a.theme,m=a.valueType,n=a.dimensionAxis,q=a.measureAxis1,p=a.minSpacer,r=a.maxBarSize,x=a.totals,t=a.totalColor,v=a.startColor,z=a.computeTotal,w=a.shouldConnect,
y=this.chartProperties,H=y.keyColumns,I=y.measureColumns,A=y.dimensionColumn,B=y.isStack,C=Nc.getColumns(a,"split")[0];a=this.chartLayouts.axisLayout;var y=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]],ea=m!==ol.NONE,E=e.get("transforms").rotate,D=I[0],F=x&&0<x.length,I=uq.cellMap(e);E&&q.showAxis&&I.axis.adjustHeight(Bg.getMeasureAxisCellHeight(q.format,m));n.showTitle||e.adjustColumnToFit(I.dimensionTitle.get("column"));wd.getPerf().mark("layout");this._dimensionValues&&
(b=fd.sortRows(b,A,this._dimensionValues),b=b.map(this._keyTransform));b=fd.addTotalRows(b,x,A,C,D,z);q=fd.parseInternalKeyTransform(this.getInternalKeyColumn(),H);b.filter(function(a){return fd.getRowInternalField(a,"isTotal")}).forEach(q);q=!!C;q=fd.layoutTabularRows(b,A?[A]:void 0,this.getKeyFct(),{forceHierarchy:q});n=nl.layoutsUtils.getChartCategoricalAxisLayout(n,q,{marks:[bc.MARK_TYPE.BAR]},bc.AUTOFIT_MODE.FIT).setMinSpacer(p).setMaxBarSize(r).setIsX(!!E).setSize(I.plot.get("h")).setWidth(I.labels.get("w")).setLabelLayout(n.labelLayout);
p=n.getLayoutInfo();p.axis.layout===Oy.HIDDEN&&e.adjustColumnToFit(I.padding.get("column"));wd.getPerf().endMark("layout");wd.getPerf().mark("labels");var K=ui.yLabels({cell:I.labels,layout:p.axis.layout,numColumns:p.axis.numColumns,rows:n.getRows(),floating:!1,overflowForSlanted:I.labels.get("y"),theme:k});e.adjustColumnToFit(I.labels.get("column"));wd.getPerf().endMark("labels");wd.getPerf().mark("plot");var J=p.plot.barSize,G=n.getScale(),M=y.getScale();e=y.getField();var R=new ml({key:D.getName(),
cell:I.plot,canHover:!0,canSelect:!0,staggerAnim:!1}),L;F&&(L=new ml({key:"totalbars",cell:I.plot,canHover:!0,canSelect:!1,staggerAnim:!1}));var N=this.getKeyFct(),Q=tq.getValueFct({field:e}),P=tq.getValueFct({field:D}),W=Bg.getFormatInfo(m,D).formatter;b.forEach(function(a,b){if(fd.rowHasAllFields(a,D)){var c=fd.getRowInternalField(a,"isTotal"),e=P(a),f=G.range()[b]-J/2,g=W(e);new My({key:N(a),layer:c?L:R,x:0,y:f,stroke:w?k.getTextColorOnDark():null,w:e,h:J,lineWidth:w?1:null,text:ea?g:"",fill:M.scale(Q(a)),
textInside:B,textCenter:!0,textColorLight:k.getTextColorOnLight(),textColorDark:k.getTextColorOnDark(),data:{row:a},accessibility:{type:bc.ACCESSIBILITY.TYPE.DATA}});if(c&&z&&K){var m=A.getName(),c=K.find({type:"Text",data:function(b){return b.row[m]===a[m]}});c.length&&c[0].set({hotSpots:void 0})}}});var O=0,S=[];R.groupByField(A).forEach(function(a,b){!b&&(!B&&v)&&a.forEach(function(a){a.set({fill:v});fd.setRowInternalField(a.get("data").row,"barFillColor",v)});0>a.getChildren()[0].get("w")&&a.getChildren().reverse();
a.applyLayout({type:"stackX",cumulativeProp:"w"});a.offsetX(O);S.push([O,a.getChildren()[0].get("y")]);O+=Jy.sum(a.map(function(a){return a.get("w")}));S.push([O,a.getChildren()[0].get("y")+J])}).flatten();F&&(B?L.groupByField(A).forEach(function(a){a.applyLayout({type:"stackX",cumulativeProp:"w"});var b;a.forEach(function(a){if(!b||b.get("x")<a.get("x"))b=a});S.push([b.get("x")+Math.max(b.get("w"),0),b.get("y")]);S.push([b.get("x")+Math.max(b.get("w"),0),b.get("y")+b.get("h")])}).flatten():L.forEach(function(a){a.set({fill:t});
fd.setRowInternalField(a.get("data").row,"barFillColor",t);S.push([a.get("w"),a.get("y")]);S.push([a.get("w"),a.get("y")])}),z||(L.getChildren().slice().forEach(function(a){a.appendTo(R)}),L.removeFromParent()),a.addPlot(L.getChildren()));if(w){b=new ml({key:"lines",cell:I.plot,canHover:!1,canSelect:!1,staggerAnim:!1});S.sort(function(a,b){return a[1]-b[1]});for(m=2;m<S.length-1;m+=2)e=S[m-1],n=S[m],new Ny({x0:e[0],y0:e[1],x1:n[0],y1:n[1],stroke:k.getTextColorOnDark(),lineWidth:1,key:"line"+m,canHover:!1,
canSelect:!1,layer:b})}a.addPlot(R.getChildren());g.barSize=J;this.w=I.plot.get("w")};b.prototype.settleLayouts=function(){this.chartLayouts.axisLayout.setSize(this.w).settleAxisDomainInfo();a.prototype.settleLayouts.call(this)};b.prototype.postPlot=function(a,b,e,g){b=a.theme;var k=a.valueType,m=a.measureAxis1,n=a.dimensionAxis,q=k!==ol.NONE,p=this.chartProperties,r=p.dimensionColumn,x=p.isStack,p=p.measureColumns[0],t=e.get("transforms").rotate,v=this.chartLayouts.axisLayout;g=g.barSize;var z=uq.cellMap(e),
w=z.plot,y=w.get("h"),H=!!e.get("transforms").rotate,A=!!e.get("transforms").flipX,B=!!e.get("transforms").flipY,C=v.getScale();w.forEach(function(b){b.set({scales:{x:C},viewport:[b.get("x")+C.range()[0],0,C.range()[1],y+3]});x||Bg.applyHoverPadding(b,a)});if(q){var q=w.getChildren(),D=Bg.getFormatInfo(k,p);x&&sq.default.flatten(q.map(function(a){return a.find({type:"Rect"})})).forEach(function(a){var b=D.textFct(a.get("data").row);a.set({text:b})});Bg.adjustBarText(q,t,g,bc.MARK.BAR.TEXT_PADDING,
bc.MARK.BAR.TEXT_SIZE)}wd.getPerf().endMark("plot");wd.getPerf().mark("axis");n.showTitle&&r&&(ui.yTitle({cell:z.dimensionTitle,titles:n.title,titleColor:b.getDimensionAxisTitleColor(),isDimension:!0,axis:n}),Ly.adjustYTitleWidthToFit(z.dimensionTitle),(H&&!B||!H&&A)&&z.dimensionTitle.flipX());m.showTitle&&(ui.xTitle({cell:z.measureAxis1Title,titles:m.title,titleColor:b.getMeasureAxisTitleColor(),isDimension:!1,axis:m,theme:a.theme}),(H&&!A||!H&&!B)&&z.measureAxis1Title.flipY());ui.xNumbers({cell:z.axis,
scale:C,gridLineLength:y,drawGridLines:a.showGridLines,drawAxis:m.showAxis,format:m.format,theme:b});wd.getPerf().endMark("axis");return e};return b}(Gy.default);We.default=Py;We.getMetadata=function(){return Hy.default};var qc={};"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.getMetadata=void 0;var rc=ph(Q),Xe=ph(O),Qy=ph(Lc),Ry=ph({moduleName:"sfdc-abstract-cartesian-chart"}),ie=Xe.default.utils,Z=ie.constants,ja=ie.configUtils,vq=ie.sceneUtils,Sy=ie.columnUtils,za=ie.plotUtils,
Cg=ie.rowsUtils,wq=ie.referenceLineUtils,xq=Xe.default.shapes,Ty=xq.Layer,Uy=xq.Point,vi=Xe.default.runtime,Dg=Xe.default.time,Ye=Xe.default.chartLayouts.layoutsUtils,wi=Z.SMALL_MULTIPLE.CELL_PADDING,Vy=Z.CHART_LAYOUT,Ia=Z.MARK,Kb=Z.MARK_TYPE,xd=Z.VALUETYPE,Wy=Z.SERIES_KEY,xi=Z.TOTAL_SUM_MODE,Xy=Xe.default.color.colorUtils,yi=["measureAxis1","measureAxis2"],Yy=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=
function(){var b,f=ja.hasIcon(this.config.dimensionAxis);return rc.default.extend(a.prototype.getDefaultConfig.call(this),(b={plots:ja.getPlotsDefaults(this.config),r:{column:[],maxRadius:Ia.POINT.RADIUS},dimensionAxis:{column:[],showAxis:!0,showTitle:!0,titleMaxLines:1},timeAxis:{column:[],showAxis:!0,showTitle:!0,titleMaxLines:1}},b[yi[0]]=Pj(),b[yi[1]]=Pj(),b.barSize=f?Z.ICON.SIZE:Ia.BAR.SIZE,b.barSpacer=Ia.BAR.SPACER,b.labelSize=f?Z.ICON.SIZE:Ia.LINE.LABEL_SIZE,b.lineWidth=Ia.LINE.LINE_WIDTH,
b.pointRadius=Ia.LINE.POINT_RADIUS,b.showPoints=!1,b.fillArea=!1,b.missingValue=Z.MISSING_VALUE.DISCONNECT,b.mode=Z.CHART_MODE.CLUSTER,b.normalize=!1,b.autoFitMode=Z.AUTOFIT_MODE.SCROLL,b.axisMode=Z.AXIS_MODE.DUAL,b.alignTicks=!1,b.transforms={rotate:!1},b.hasNiceDomain=!0,b.stack=!1,b.showGridLines=!0,b.hoverPadding=0,b))};b.prototype.isAxisModeMulti=function(){return this.config.axisMode===Z.AXIS_MODE.MULTI};b.prototype.getChartProperties=function(){var a=this.config,b=a.plots,e=a.timeAxis,g=a.dimensionAxis,
k=a.measureAxis1,m=a.measureAxis2,n=ja.getColumns(a,"split")[0],q=ja.getColumns(a,"plots"),p=ja.getColumns(a,"timeAxis")[0],r=ja.getColumns(a,"r")[0],x=p?e:g,t=p?[p]:ja.getColumns(a,"dimensionAxis"),v=Sy.uniqueColumns(t,n),z=!!p,w=!z,y=rc.default.map(b,"mark"),H=-1<y.indexOf(Kb.LINE),A=-1<y.indexOf(Kb.DOT),B=ja.hasSeries(b),C=ja.isStack(a),D;D=this.isAxisModeMulti()?rc.default.map(b,function(b){return a[b.axis]}):[k,m];var E=ja.getCustomCellSize(x),F={};E&&x.showAxis&&(F.axisY=E+"%",F.plot=100-E+
"%");var E=C&&!n?v:v.slice(0,v.length-1),J=ja.getTooltipColumns(a,"dimensionAxis","timeAxis","plots","r","split"),b=this.isAxisModeMulti()?b.reduce(function(b,e){return Math.max(b,a[e.axis].titleMaxLines)},0):0;return{layout:"Cartesian",hasTime:z,isStack:C,hasSeries:B,hasLine:H,hasDot:A,keyColumns:v,percentGroupColumns:E,measureColumns:q,plotColumns:q,timeColumn:p,radiusColumn:r,splitColumn:n,yColumns:t,cellSizes:F,axisX:D,axisY:x,marks:y,tooltipColumns:J,supportsSorting:w,axisTitleMaxLines:[z?e.titleMaxLines:
g.titleMaxLines,b||k&&k.titleMaxLines||0,b||m&&m.titleMaxLines||0]}};b.prototype.getInternalSortFct=function(){return null};b.prototype.getColorLayout=function(b){var f=b.legendSwatchType;return a.prototype.getColorLayout.call(this,{i:b.i,rows:this.chartProperties.hasSeries?rc.default.filter(this.rows,function(a){return!a[Wy]}):this.rows,legendSwatchType:f})};b.prototype.getChartLayouts=function(b,f){var e=a.prototype.getChartLayouts.call(this,b,f),g=this.config,k=this.chartProperties,m=k.axisX,n=
k.hasTime,q=k.hasSeries,p=k.yColumns,r=k.marks,x=k.keyColumns,t=g.timeAxis,v=g.dimensionAxis,z=g.plots,w=g.split,y=g.normalize,H=g.hasNiceDomain,A=g.barSize,B=g.barSpacer,C=g.spacerRatio,E=g.maxBarSize,D=g.minSpacer,F=g.labelSize,J=g.pointRadius,K=g.autoFitMode,G=g.transforms,M=g.stack,k=Ye.getChartRadiusLayout(g.r,g.size,g.padding,this.rows),L,R,r={marks:r,barSize:A,barSpacer:B,labelSize:F,pointRadius:J,stack:M,isAxisModeMulti:this.isAxisModeMulti()};if(n)q=Ye.getChartTimeAxisLayout(t,this.rows,
r,K).setIsX(!!G.rotate);else{L=this.rows;q&&(L=Cg.getRowsForSeries(L,void 0));var N,Q,S,P;g.sorting.enabled&&(N=g.sorting.column?g.sorting.column[0]:void 0);this.isTrellis()?P=N=!0:(Q=null!=N?!1:void 0,N=(S=p.length<x.length)&&null==N);L=Cg.layoutTabularRows(L,p,this.getKeyFct(),{hasHierarchy:Q,forceHierarchy:N,sortHierarchy:P,summarize:S,sorting:g.sorting});q=Ye.getChartCategoricalAxisLayout(v,L,r,K).setHasSeries(q).setIsX(!!G.rotate).setMaxBarSize(E).setMinSpacer(D).setSpacerRatio(C).setLabelLayout(v.labelLayout)}w?
(L||(L=Cg.layoutTabularRows(this.rows,p,this.getKeyFct(),{forceHierarchy:!0})),R=Ye.getChartDimensionStackLayout(L,z.map(function(a){return a.column[0]}),ja.getColumns(g,"trellis"),w,y)):M&&(g=z.filter(function(a){return a.mark===Kb.BAR}).map(function(a){return a.column[0]}),R=Ye.getChartMeasureStackLayout(g));var O={};m.forEach(function(a){if(a){var b=Ye.getChartNumericAxisLayout(a);b&&b.setIsX(!0).setHasNiceTicks(a.showAxis&&H).setHasHorizontalTicks(!G.rotate).setIsNormalized(y).setAdjustMin(n);
O[a.name]=b}});return rc.default.extend(e,{radiusLayout:k,axisLayouts:O,yAxisLayout:q,stackLayout:R})};b.prototype._calculateMultiAxisPlotWidth=function(a,b){return(a+wi)/b-wi};b.prototype._defaultMeasureAxes=function(){var a=this.config;a.plots.forEach(function(b,e){a[b.axis]=a[b.axis]||{};a[b.axis].name=b.axis;rc.default.defaults(a[b.axis],Pj())})};b.prototype.sanitizeConfig=function(){var b=this;a.prototype.sanitizeConfig.call(this);var f=this.config,e=f.plots,g=f.timeAxis,k=f.dimensionAxis,m=
f.theme,n=f.stack,q=this.isAxisModeMulti();f.mode=f.split?Z.CHART_MODE.STACK:Z.CHART_MODE.CLUSTER;ja.convertAxisMode(f.axisMode,f);this._defaultMeasureAxes();f.barSize=Math.max(Ia.BAR.MIN_SIZE,f.barSize);f.barSpacer=Math.max(Ia.BAR.MIN_SPACER,f.barSpacer);f.lineWidth=Math.max(Ia.LINE.MIN_LINE_WIDTH,f.lineWidth);f.labelSize=Math.max(Ia.LINE.MIN_LABEL_SIZE,f.labelSize);f.pointRadius=Math.max(Ia.LINE.MIN_POINT_RADIUS,f.pointRadius);f.r&&(f.r.maxRadius=Math.min(Math.max(f.r.maxRadius,Ia.POINT.MIN_RADIUS),
Ia.POINT.MAX_RADIUS));var p={},r=[],x=null;e.forEach(function(a,g){var k=(a.column[0]&&a.column[0].getName())+"/"+a.series;p[k]||(p[k]=!0,r.push(a),rc.default.defaults(a,{column:[],mark:Kb.BAR,axis:yi[0]}),n&&a.mark===Kb.BAR&&(x?a.axis=x:x=a.axis),b._sanitizeValueType(a,f),Xy.isValidColorConfig(a.color)||(a.color=ja.getPaletteColor(m,g,e.length)))});f.plots=e=r;-1<rc.default.map(e,"mark").indexOf(Kb.BAR)&&(f.fillArea=!!q);var t=ja.getPlotColorColumn(f),v=ja.getColumns(f,"timeAxis")[0],z=this.getPlot().color;
z.type===Vy.COLOR_TYPE.CATEGORICAL&&t&&v&&(f.mode=Z.CHART_MODE.STACK,f.split||(f.split=ja.createDefaultSplitConfig(z)));f.normalize=f.normalize&&f.mode===Z.CHART_MODE.STACK;ja.sanitizeAxis(g,g.column);ja.sanitizeAxis(k,k.column);if(q){var w=!1,y=!1;e.forEach(function(a){var b=f[a.axis];ja.sanitizeAxis(b,a.column,!0);w=w||b.showAxis;y=y||b.showTitle});f.layout=ja.addLegacyLayout({showAxis:w,showTitle:y},{showAxis:!1,showTitle:!1},k,g)}else yi.forEach(function(a,b){var c=f[a],g=ja.getColumns(rc.default.filter(e,
{axis:a}));g.length?ja.sanitizeAxis(c,g,!0):delete f[a]}),f.layout=ja.addLegacyLayout(f.measureAxis1,f.measureAxis2,k,g)};b.prototype._sanitizeValueType=function(a,b){a.valueType=b.normalize&&a.valueType!==xd.NONE?xd.PERCENT:a.valueType;a.valueType||(a.valueType=a.mark===Kb.LINE?b.valueTypeOnLine||xd.NONE:b.valueType||xd.COMPACT_NUMBER)};b.prototype._getYAxisRenderConfig=function(a,b,e,g){var k=a.barSize,m=a.labelSize;e=a.autoFitMode;var n=a.showCrosshair,q=this.chartProperties,p=q.cellSizes,r=q.timeColumn,
x=q.marks,q=q.hasTime,t=a.timeAxis,v=a.dimensionAxis,z=this.chartLayouts.yAxisLayout;vi.getPerf().mark("layout");var w=q?t:v,y=g.plot.get("h"),A=a.transforms.rotate?8:0;w.showTitle?g.axisYTitle.adjustWidth((q?Z.AXIS.TIME.TITLE.HEIGHT*t.titleMaxLines:Z.AXIS.LABELS.TITLE.HEIGHT*v.titleMaxLines)+A):g.axisYTitle.adjustColumnToFit();q&&g.padding.adjustColumnToFit();t=z.setSize(y).setWidth(g.axisY.get("w")).getLayoutInfo();z.needsScroll()||(g.plot.set({scrollY:!1}),g.axisY.set({scrollY:!1}));k=e!==Z.AUTOFIT_MODE.SCROLL?
-1<x.indexOf(Ia.BAR)?t.plot.barSize/k:t.plot.labelSize/m:1;a._autoFitRatio=k;vi.getPerf().endMark("layout");if(q)return{type:Z.CELL_RENDERER_TYPE.TIME,orientation:"y",scale:t.scale,drawAxis:z.showAxis(),granularity:z.getGranularity(),dataFormat:z.getDataFormat(),fiscalGranularity:z.getFiscalGranularity(),formats:z.getFormats(),isDiscrete:z.isDiscrete(),firstDayOfWeek:z.getFirstDayOfWeek(),formatter:r&&r.getFormatter(),showCrosshair:n};t.axis.layout===Z.AXIS.LABELS.LAYOUT.HIDDEN&&!p.axisY&&b.adjustColumnToFit(g.padding.get("column"));
return{type:Z.CELL_RENDERER_TYPE.DIMENSION,orientation:"y",layout:t.axis.layout,numColumns:t.axis.numColumns,rows:z.getRows(),showSeparationLines:t.axis.layout===Z.AXIS.LABELS.LAYOUT.SLANTED?!1:z.hasHierarchy(),floating:e!==Z.AUTOFIT_MODE.FIT,overflowForSlanted:g.axisY.get("y"),icon:v.icon,resizeCell:!p.axisY,scale:t.scale,showCrosshair:n}};b.prototype.plot=function(b,f,e,g){var k=this.chartProperties,m=k.axisX,n=k.axisY,k=k.hasTime,q=b.transforms,p=b.theme,r=this.isAxisModeMulti(),x=vq.cellMap(e);
if(q.rotate&&m[0]&&m[0].showAxis)if(r){var t=m.reduce(function(a,b){return Math.max(a,za.getMeasureAxisCellHeight(b.format))},0);x.measureAxis1.adjustHeight(t)}else x.measureAxis1.adjustHeight(za.getMeasureAxisCellHeight(m[0].format));r||!m[1]?(x.measureAxis2.adjustRowToFit(),x.measureAxis2Title.adjustRowToFit()):q.rotate&&m[1].showAxis&&x.measureAxis2.adjustHeight(za.getMeasureAxisCellHeight(m[1].format));m=this._getYAxisRenderConfig(b,e,g,x);q=b.transforms.rotate;this.cellRenderingOrder=["axisY",
"plot","axisYTitle"];this.cellRendererConfigs={axisY:m,plot:{createLayer:!1},axisYTitle:{type:Z.CELL_RENDERER_TYPE.TITLE,orientation:"y",axis:n,isDimension:!0,titleColor:k?p.getTimeAxisTitleColor():void 0,titleOffset:q?8:0}};a.prototype.plot.call(this,b,f,e,g)};b.prototype.plotCell=function(a){var b=this,e=a.cell,g=a.rows,k=a.config;a=a.ctx;var m=k.lineWidth,n=k.missingValue,q=k.normalize,p=k.pointRadius,r=k.showPoints,x=k.split,t=k.theme,v=k.timeAxis,z=k.autoFitMode,w=k.isIdenticalColor,y=k.plots,
A=this.chartProperties,B=A.isStack,C=A.hasSeries,E=A.hasTime,D=A.yColumns,F=A.radiusColumn,J=A.splitColumn,A=this.chartLayouts,K=A.radiusLayout,L=A.axisLayouts,G=A.yAxisLayout,M=A.stackLayout,R=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]],N=G.getLayoutInfo(),Q=N.plot,S={value:{type:Z.ACCESSIBILITY.TYPE.DATA}},P=ja.getPlotColorColumn(k),O=R.getScale(),A=this.isAxisModeMulti(),W=K.getScale(),U=G.getScale(),X=this.getKeyFct(),ba=[],ca={};y.forEach(function(a,b){ca[a.column[0].getName()]=
b});A||(y=za.reorderPlots(k.plots));y.forEach(function(a){var c=ca[a.column[0].getName()],y=R,z=P,A=O;w||(y=b.chartLayouts.colorLayouts[a.column[0].getName()],z=ja.getPlotColorColumn(k,c),A=y.getScale());var y=a.axis,H=a.mark,Z=a.aggregationLevel,T=a.series,da=a.totals,fa=a.valueType,Y=a.column[0],ha=za.getFormatInfo(fa,Y),ga=Q.offsets[c],$=Cg.filterOutRowsWithMissingFields(g,Y,F);C&&($=Cg.getRowsForSeries($,T));T=function(a){return{row:a,column:Y.getName()}};switch(H){case Kb.BAR:var da={value:0},
aa={field:Y};a=Y.getName();M&&(da={field:M.getStartColumn(a)},q&&(aa={field:M.getNormalizedColumn(a)}));T={key:{value:X},x:da,y:E?{field:D,defaultValue:Dg.getConstantEpoch(),scale:U,useParsedData:!0}:{value:X,scale:U},w:aa,h:{value:Q.barSize},text:ha.textFct,data:{value:T},textInside:{value:B},textCenter:{value:B},textColorLight:{value:t.getTextColorOnLight()},textColorDark:{value:t.getTextColorOnDark()},fill:{field:z,scale:A},accessibility:S};z=x&&x.totalSumMode;if(z===xi.NET||z===xi.ABSOLUTE)T.stackTotal=
{totalSumMode:z,field:D,formatter:za.getFormatInfo(xd.COMPACT_NUMBER,Y).formatter,backgroundColor:t.getBackgroundColor()};T=za.rect(T,$).set({key:Y.getName()});break;case Kb.LINE:var aa=E?D:b.getInternalKeyColumn(),ia=N.categories,ha=a.area;a="dashed"===a.lineStyle;1===Z&&!E&&(aa=D,B||(aa=D.slice(0,D.length-1)),ia=G.getCategories(Math.max(aa.length-1,0)),U=G.getScale(aa.length-1));A={field:z,scale:A};T={key:{value:X},x:{field:Y},y:{field:aa,defaultValue:Dg.getConstantEpoch(),scale:U,useParsedData:E},
lines:J?{field:J}:null,predictiveLine:v.predictiveLine,data:{value:T},stroke:A,showPoints:r,pointRadius:p,lineWidth:a?4:m,dashed:a?9:void 0,categories:ia,missingValue:n,accessibility:S};T=za.line(T,$).set({key:Y.getName(),canSelect:!da});ha&&1<ha.length&&(z={y:{field:aa,defaultValue:Dg.getConstantEpoch(),scale:U,useParsedData:E},groups:z?{field:z}:null,stroke:A},za.area(ha,z,$,T));break;case Kb.DOT:da=fa!==xd.NONE;T={defaultValue:Dg.getConstantEpoch(),key:{value:X},x:{field:Y},y:E?{field:D,defaultValue:Dg.getConstantEpoch(),
scale:U,useParsedData:!0}:{value:X,scale:U},data:{value:T},r:{field:F,scale:W},stroke:{field:z,scale:A},fill:{field:z,scale:A},lineWidth:{value:1},accessibility:S};T=za.point(T,$).set({key:Y.getName()});za.adjustPointFill(T.getChildren(),K,Ia.DOT.OPACITY_POS_VALUE,Ia.DOT.OPACITY_NEG_VALUE);F&&T.sortBy(function(a){return-a.get("r")});da&&F&&za.addValueText(T,F,k);break;default:throw Error("invalid mark type"+H);}$=T.getKey();e.layerByKey($)&&T.set("key",$+c);T.appendTo(e).forEach(function(a){return a.offsetY(ga)});
L[y].addPlot(T.getChildren());ba.push({axis:y,column:Y,layer:T,mark:H,offset:ga,valueType:fa})});a.plotsInfo=ba;this.plotWidth=this._calculateMultiAxisPlotWidth(e.get("w"),A?y.length:1);z!==Z.AUTOFIT_MODE.FIT&&z!==Z.AUTOFIT_MODE.KEEP_LABELS&&e.adjustRowToFit()};b.prototype.settleLayouts=function(){var b=this.config.alignTicks;this.settleAxisLayouts(this.chartLayouts.axisLayouts,this.plotWidth,!this.isAxisModeMulti(),b);a.prototype.settleLayouts.call(this)};b.prototype._drawAxis=function(a,b,e,g,k,
m,n,q,p,r,x,t,v,z,w,y){var A=k.get("h");this.renderCell(g,{type:Z.CELL_RENDERER_TYPE.TITLE,orientation:"x",size:x,key:a+"title",axis:b,normalize:q,isDimension:!1,offsetX:p,adjustToFit:y},{scene:v,rows:w});this.renderCell(e,{type:Z.CELL_RENDERER_TYPE.MEASURE,orientation:"x",key:a,axis:b,scale:m,gridLineLength:A,drawGridLines:n,drawAxisLine:!n,normalize:q,offsetX:p,adjustToFit:y},{scene:v,rows:w});b.referenceLines&&(a=wq.xRefLines({key:"reflines-"+a,cell:k,length:A,lines:b.referenceLines,scale:m,theme:z.theme,
formatMultiplier:ja.getFormatMultiplier(b),rotateLabel:!1}),r&&a.flipY(),a.offsetX(p),m=m.range(),a.set({viewport:[a.get("x")+m[0],0,m[1]-m[0],t]}));r&&e.flipY()};b.prototype.postPlot=function(a,b,e,g){var k=this,m=a.normalize,n=a.theme,q=a.fillArea,p=a.transforms,r=a.split,x=this.plotWidth,t=g.plotsInfo;g=this.chartProperties;var v=g.hasTime,z=g.axisX;g=g.timeColumn;var w=this.chartLayouts,y=w.axisLayouts,A=w.yAxisLayout,B=w.stackLayout,C=A.getLayoutInfo(),D=C.plot.plotSize,E=vq.cellMap(e),F=e.cellByKey("plot"),
J=!!p.rotate,K=this.isAxisModeMulti(),G={};g&&(p=C.scale,G.type="time",G.dataGranularity=g.getGranularity(),G.format=g.getFormat(),G.customDomain=A.getCustomDomain(),G.domain=A.getDomain(),G.scale=p,G.firstDayOfWeek=g.getFirstDayOfWeek(),G.fiscalGranularity=g.getFiscalGranularity(),G.dataSeparator=g.getDataSeparator());vi.getPerf().mark("axis");var p=(new Ty({key:"padding"})).append(new Uy({key:"padding",x:0,y:D,r:0,fill:"#000"})),L={};Object.keys(y).forEach(function(a){var b=y[a],b=b&&b.getScale();
L[a]=b});var M=[];t.forEach(function(b,f){var g=b.axis,k=b.mark,m=b.offset,p=b.layer,s=b.column,t=b.valueType,v=y[g],w=L[g];p.set({scales:{x:w}});K&&p.offsetX((x+wi)*f);var g=w.range(),z=C.scale.range();if(k===Kb.LINE){q&&za.adjustLineFill(p,!1,n.getLineFillAreaColor().toRGBA().a,v.showZero(),w);var v={w:g[1]-g[0],h:D},w=J?8:12,A=J?12:8,H=p.find({type:"Point"}).length;if(t!==xd.NONE&&(C.plot.labelSize>w/2||v.w/H>A/2))s=za.addPointValueLabel(p,n,J,t,s,v),K?M.push(s):M[0]=(M[0]||[]).concat(s)}k===Kb.BAR&&
(B||za.applyHoverPadding(p,a),t!==xd.NONE&&za.adjustBarText(F.getChildren(),e.get("transforms").rotate,C.plot.barSize,Ia.BAR.TEXT_PADDING,Ia.BAR.TEXT_SIZE),r&&(r.totalSumMode===xi.NET||r.totalSumMode===xi.ABSOLUTE)&&za.adjustStackTotalText(p,e.get("transforms").rotate,C.plot.barSize,Ia.BAR.TEXT_PADDING,Ia.BAR.TEXT_SIZE));k=K?"brush-"+p.key:"brush-"+p.getParent().key;p.set({viewport:[p.get("x")+g[0],0,g[1]-g[0],D],brush:rc.default.extend({key:k,area:{width:g[1],height:z[z.length-1]-(m||0)},color:{stroke:n.getBrushStrokeColor(),
fill:n.getBrushFillColor(),text:n.getBrushTextColor()}},G)})});M.forEach(function(a){za.adjustLineLabels(a)});F.append(p).adjustRowToFit();z.forEach(function(g,n){g&&k._drawAxis("axis"+n,g,K||!n?E.measureAxis1:E.measureAxis2,K||!n?E.measureAxis1Title:E.measureAxis2Title,F,L[g.name],a.showGridLines&&(K||!z[0]||!z[1]),m,K?(x+wi)*n:0,!K&&1===n,x,D,e,a,b,!K||n===z.length-1)});vi.getPerf().endMark("axis");v&&(t=E.plot,v=this._drawTimeReferenceLines(a,t,C.scale),this._changeLineStyleAfterPredictiveLine(a,
t,g.getParser(),C.scale),v&&v.set({viewport:[v.get("x"),0,t.get("w"),D]}))};b.prototype._drawTimeReferenceLines=function(a,b,e){var g=a.theme,k=a.timeAxis;a=k.predictiveLine;if((k=k.referenceLines)&&k.length||a)return a=a&&k?k.concat(a):a?[a]:k,wq.yRefLines({cell:b,key:"reflines-timeaxis",scale:e,length:b.get("w"),lines:a,theme:g,rotateLabel:!0}).flipY()};b.prototype._changeLineStyleAfterPredictiveLine=function(a,b,e,g){var k=this,m=a.missingValue,n=a.plots;if(a=a.timeAxis.predictiveLine){var p=g.scale(e(a.time)),
r=a.lineStyleAfter;b.forEach(function(a,b){n[b]&&n[b].mark===Kb.LINE&&a.find({type:"Path"}).map(function(a){return k._convertPredictivePath(a,p,r,m)}).filter(rc.default.identity).forEach(function(b){return a.prepend(b)})})}};b.prototype._partition=function(a,b){for(var e=[],g=[],k=0;k<a.length;++k){var m=a[k];b(m)?e.push(m):g.push(m)}return[e,g]};b.prototype._convertPredictivePath=function(a,b,e,g){var k=a.get("points"),m=a.get("closePath");e="dashed"===e;var n=null;if(k){var p=this._partition(k,
function(a){return a[1]>=b}),k=p[0],p=p[1];this._addDummyPointAtPredLine(b,p,k,g);k.length&&!m&&(n=a.clone().set({key:a.get("key")+"-predictive",points:k,fill:void 0,baseX:void 0,baseY:void 0}),e&&n.set({dashed:9,lineWidth:4}),a.set("points",p.concat(k.slice(0,1))))}return n};b.prototype._addDummyPointAtPredLine=function(a,b,e,g){if(g!==Z.MISSING_VALUE.DISCONNECT){var k=b.length&&b[b.length-1];b=k[0];var k=k[1],m=e.length&&e[0],n=m[0],m=m[1];g=g===Z.MISSING_VALUE.CONNECT?(n-b)/(m-k)*(a-k)+b:b;k<a&&
a<m&&e.unshift([g,a])}};return b}(Qy.default);qc.default=Yy;qc.getMetadata=function(){return Ry.default};var je={};"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.getMetadata=void 0;var Zy=Qj(O),$y=Qj(qc),az=Qj({moduleName:"sfdc-bar-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-bar-chart",description:"Schema for Horizontal Bar Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{autoFitMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/autoFitMode"},
axisMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/axisMode"},barSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/barSize"},barSpacer:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/barSpacer"},hoverPadding:{type:"integer"},stack:{type:"boolean"},maxBarSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/maxBarSize"},minSpacer:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/minSpacer"},
spacerRatio:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/spacerRatio"},dimensionAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimensionAxis"},hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},normalize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/normalize"},showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},
split:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/split"},timeAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/timeAxis"}},patternProperties:{"^measureAxis\\d+$":{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"}}}}},name:"Bar Chart",shortname:"Bar"}),yq=Zy.default.utils,bz=yq.configUtils,cz=yq.constants,dz=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
b.prototype.constructor=b;b.prototype.sanitizeConfig=function(){bz.setMarkType(this.config,cz.MARK_TYPE.BAR);a.prototype.sanitizeConfig.call(this)};return b}($y.default);je.default=dz;je.getMetadata=function(){return az.default};var db={};"use strict";Object.defineProperty(db,"__esModule",{value:!0});db.getMetadata=void 0;var Eg=Rj(Q),zq=Rj(O),ez=Rj({moduleName:"lightning-lightningAdapter"}),pl=zq.default.utils,Aq=pl.convertConfigUtils,ql=pl.constants,fz=pl.configUtils,Bq=zq.default.rowsMetadata.rowsMetadataUtils,
Fg=ql.VALUETYPE;db.default={getLegend:function(a){var b={type:ql.SORT.TYPE.ROWS};a.legend&&(a.legend.sorting=Eg.default.defaults(a.legend.sorting||{},b));return a.legendPosition?{position:"Bottom"===a.legendPosition?"bottom-left":"right-top",showHeader:!0}:a.legend},getValueType:function(a){return"auto"===a.numberUnits?Fg.COMPACT_NUMBER:Fg.NUMBER},getSanitizedValueTypeForLine:function(a,b){return a?b&&b!==Fg.NONE?b:Fg.COMPACT_NUMBER:Fg.NONE},cleanseColor:function(a){var b=a.color&&a.color.fields[0];
b&&["colors","domain"].forEach(function(c){void 0!==b[c]&&(a.color[c]=b[c],delete b[c])});a.color&&(a.color.sortColor=!1)},convertMarkColor:function(a){null!=a.markColor&&(a.color=a.markColor)},convertCommon:function(a){this.convertMarkColor(a);this.convertRangesToColor(a);a.color&&a.plots.forEach(function(a){"line"!==a.mark&&delete a.color})},convertSimpleChart:function(a){var b=Bq.getRowsMetadataFromConfig(a);this.convertHasTooltip(a);this.convertFields2Column(a);this.convertDimensionMeasure2Plots(a);
this.convertCommon(a);return{config:a,rowsMetadata:b}},convertRangesToColor:function(a){if(a.ranges){var b=a.ranges;delete a.ranges;var c=b.breakpoints;c&&2<c.length&&(a.domain=[c[0],c[c.length-1]],c=c.slice(1,c.length-1));b.column=a.plots[0].column;b.breakpoints=c;b.type="bins";a.color=b}},convertAxisDomain:function(a,b){b&&(a.axisRange&&"manual"===a.axisRangeOption)&&(b.domain=[a.axisRange.min,a.axisRange.max]);delete a.axisRange;delete a.axisRangeOption},convertCartesianChart:function(a,b,c){var f=
Bq.getRowsMetadataFromConfig(a),e=a.dimension,g=a.time,k=a.measure,m=a.layout;this.convertHasTooltip(a);e&&(a.dimensionAxis=this.convertDimension(e,m),e.icon&&(f[f.length]=e.icon));g&&(a.timeAxis=this.convertTime(g,m));Eg.default.extend(a,Aq.measures2Axes(k.fields));a.plots=this.convertPlots(k,b,c);this.convertFields2Column(a);this.convertCommon(a);delete a.dimension;delete a.measure;delete a.valueType;return{config:a,rowsMetadata:f}},convertHasTooltip:function(a){a.tooltip={showPercentage:!0};!1===
a.hasTooltip&&(a.tooltip.column=[]);return a},convertDefaultTrue:function(a,b){return!(!1===a||!1===b)},convertFields:function(a){return!a?void 0:Eg.default.map(a,"column")},convertDimensionMeasure2Plots:function(a){var b=a.measure;if(b=a.dimension||b)a.plots=[b],delete a.measure,delete a.dimension},convertFields2Column:function(a){var b=this;Eg.default.keys(a).forEach(function(c){c=a[c];Eg.default.isObject(c)&&c.fields&&(c.column=b.convertFields(c.fields),delete c.fields)})},convertDimension:function(a,
b){if(a&&a.fields)return b||(b={}),{column:this.convertFields(a.fields),showAxis:this.convertDefaultTrue(b.showDimension,a.showAxis),showTitle:this.convertDefaultTrue(b.showDimensionTitle,a.showTitle),title:b.dimensionTitle||a.label||"",size:a.size,icon:a.icon,titleMaxLines:a.titleMaxLines||1}},convertAxis:function(a){if(a&&a.fields){var b=Aq.measures2Axis(a.fields);b.column=this.convertFields(a.fields);return b}},convertTime:function(a,b){if(a&&a.fields){var c=a.fields[0];b||(b={});return{column:this.convertFields(a.fields),
showAxis:this.convertDefaultTrue(b.showTime,a.showAxis),showTitle:this.convertDefaultTrue(b.showTimeTitle,a.showTitle),title:b.timeTitle||a.label||"",granularity:a.granularity,formats:a.formats,predictiveLine:c&&c.predictiveLine,size:a.size,titleMaxLines:a.titleMaxLines||1}}},convertPlots:function(a,b,c){if(a)return a.fields.map(function(a){return{column:[a.column],mark:a.mark,color:a.color,series:a.series,aggregationLevel:a.subtotals?1:0,axis:a.axis,valueType:a.mark===ql.MARK_TYPE.LINE?c:b}})},sanitizeStackConfig:function(a){!a.split&&
a.color&&(a.split=fz.createDefaultSplitConfig(a.color,"fields"))},fixColorAndDimensionForStackBarChart:function(a){var b=a.dimension&&a.dimension.fields,c=a.color&&a.color.fields;b&&c&&(a.dimension.fields=b.filter(function(a){return c[0].column!==a.column}))},fixColorAndDimensionForBarChart:function(a){var b=a.dimension&&a.dimension.fields||[];a.color&&(a.color.fields&&0<a.color.fields.length)&&(b.push(a.color.fields[0]),a.dimension.fields=b);1<b.length&&!a.color&&(a.color={fields:b.slice(-1)})}};
db.getMetadata=function(){return ez.default};var ke={};"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.getMetadata=void 0;var zi=qh(Q),Cq=qh(O),gz=qh(Lc),hz=qh({moduleName:"sfdc-pie-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-pie-chart",$schema:"http://json-schema.org/draft-07/schema#",description:"Schema for Pie Chart",type:"object",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{centerText:{type:"string"},
centerValueType:{"enum":["compactNumber","none","number","percent","text"]},dimension:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimension"},inner:{type:"integer"},showMeasureTitle:{type:"boolean"},showPercentage:{type:"boolean"},total:{type:"number"},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"}}}}},name:"Pie Chart",shortname:"Pie"}),yd=Cq.default.utils,rl=yd.rowsUtils,iz=yd.columnUtils,sl=yd.plotUtils,Gg=yd.configUtils,
Dq=yd.valueFctUtils,jz=yd.mathUtils,kz=yd.layoutUtils,zd=yd.constants,lz=Cq.default.shapes.Arc,Ai=zd.VALUETYPE,mz=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getChartProperties=function(){var a=this.config,b=Gg.getColumns(a,"dimension")[0],e=[b],g=Gg.getColumns(a,"plots"),k=Gg.getTooltipColumns(a,"plots","dimension");return{layout:"FlatWithHeader",dimensionColumn:b,keyColumns:e,measureColumns:g,
tooltipColumns:k,markType:zd.MARK_TYPE.DOT,axisTitleMaxLines:[a.plots[0].titleMaxLines||1]}};b.prototype.getDefaultConfig=function(){return zi.default.extend(a.prototype.getDefaultConfig.call(this),{inner:zd.MARK.PIE.INNER_RADIUS_PERCENT,centerValueType:zd.CENTER_VALUE_TYPE.COMPACT_NUMBER,showMeasureTitle:!0})};b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);var b=this.config,f=b.showMeasureTitle,e=b.inner,g=b.valueType;0>e&&(e=0);99<e&&(e=99);b.inner=e;b.valueType=Gg.sanitizeValueTypeConfig(g);
b.layout={showMeasureTitle:f}};b.prototype.plot=function(b,f,e){var g=this.chartProperties.measureColumns[0],k=iz.defaultText(g.getLabel(),g.getName());this.cellRendererConfigs={title:kz.getTitleCellRendererConfig(this.config,k,g,this.getChartProperties().axisTitleMaxLines)};a.prototype.plot.call(this,b,f,e)};b.prototype.plotCell=function(a){var b=this,e=a.scene,g=a.rows,k=a.cell,m=a.layer;a=this.config;var n=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]],p=Gg.getPlotColorColumn(a),
r=this.chartProperties.measureColumns[0],u=Dq.getValueFct({field:r}),x=a.theme,t=a.valueType,v=a.showPercentage,z=a.inner,w=a.centerValueType,y=a.centerText,A=n&&n.getScale(),g=rl.filterOutRowsWithMissingFields(g,r),n=a.total,B=this._radius(k),C=B*z/100;m.set({key:r.getName(),x:k.get("w")/2,y:B,canSelect:!0,canHover:!0,staggerAnim:!1});var D=this.getKeyFct(),E=Dq.getValueFct({field:p}),F,K;void 0!==n&&("number"===typeof n?F=K=n:console.warn("EclairNG:sfdc/charts/pie.js::field 'total' in config parameter should be a number"));
void 0===F&&(F=rl.measureSum(g,r,!0));void 0===K&&(K=rl.measureSum(g,r));var G=r.getName();if(zi.default.some(g,function(a){return 0!==u(a)})){g.forEach(function(a){var b=u(a),c=0<=b;new lz({layer:m,r1:B-(c?0:1),r2:C+(c?0:1),angle:Math.abs(b),startAngle:0,fill:A.scale(E(a)).adjustOpacity(c?1:0.1),stroke:A.scale(E(a)),lineWidth:c?0:1,key:D(a),data:{row:a},accessibility:{type:zd.ACCESSIBILITY.TYPE.DATA}})});m.applyLayout({type:"stackAngle"});g=m.getChildren();F=zi.default.last(g).get();var J=2*Math.PI/
(F.angle+F.startAngle),L=x.getTextColorOnLight(),M=x.getTextColorOnDark();F=Math.min(B-C,0.6*B);var R=B-F/2,N=Math.max(F/(t===Ai.COMPACT_NUMBER&&v?5.5:v?5:4),8),S=0.8*N,Q=sl.getFormatInfo(a.valueType,r),P=sl.getFormatInfo(Ai.PERCENT,r);g.forEach(function(a){a.set({angle:a.get("angle")*J,startAngle:a.get("startAngle")*J-Math.PI/2,textR:R});if(t!==zd.VALUETYPE.NONE||v){var c=a.get(),e=c.data,c=c.stroke,g=0<=e.row[r.getName()],e=b._getArcTextsInfo(t,v,Q,P,e.row);a.set({textColorLight:g?L:c,textColorDark:g?
M:c,text:e.text,subText:e.subText,fontSize:N,subTextFontSize:S})}})}if(w!==zd.CENTER_VALUE_TYPE.NONE){a={centerValueType:w,centerText:y,theme:x,format:r.getFormat(),number:K,x:k.get("w")/2,y:B,innerRadius:C,compact:w===zd.CENTER_VALUE_TYPE.COMPACT_NUMBER};sl.addInnerText(a).set({key:"center-total"}).appendTo(k);var T=k.find({type:"NumberText"})[0];T&&(e.onSelectionChanged=function(a){var b=K;a=zi.default.filter(a.map(function(a){return m.shapeByKey(a)}));a.length&&(b=jz.sum(a.map(function(a){return a.get("data").row[G]})));
T.set({number:b})})}};b.prototype._getArcTextsInfo=function(a,b,e,g,k){var m;a===Ai.COMPACT_NUMBER?(a=e.textFct(k),m=b?"("+g.textFct(k)+")":void 0):a=a===Ai.PERCENT||b?g.textFct(k):e.textFct(k);return{text:a,subText:m}};b.prototype._radius=function(a){return Math.min(a.get("w")/2,a.get("h")/2)-1};return b}(gz.default);ke.default=mz;ke.getMetadata=function(){return hz.default};var Ze={};"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.getMetadata=void 0;var nz=Hf(Q),oz=Hf(O),Hg=Hf(db),
pz=Hf(ke),qz=Hf({moduleName:"lightning-donut-chart",name:{section:"EclairConfig",id:"donutLongName",fallback:"Donut Chart"},shortname:{section:"EclairConfig",id:"donutShortName",fallback:"Donut"},config:[{type:"MEASURE",label:{section:"EclairConfig",id:"value",fallback:"Value"},min:1,max:1,property:"measure"},{type:"DIMENSION",label:{section:"EclairConfig",id:"slicedBy",fallback:"Sliced By"},min:1,max:1,property:"dimension",colorable:!0},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",
id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",
fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,defaults:[!0],property:"showValues"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showPercentages",fallback:"Show Percentages"},min:1,max:1,defaults:[!1],property:"showPercentage"},{type:"BOOLEAN",
label:{section:"EclairConfig",id:"combineSmallGroups",fallback:'Combine Small Groups into "Others"'},min:1,max:1,defaults:[!0],property:"combineSmallGroups"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showTotal",fallback:"Show Total"},min:1,max:1,defaults:[!0],property:"showCenterValue"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},
{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",
label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),tl=oz.default.utils,rz=tl.configUtils,sz=tl.dataUtils,ul=tl.constants.VALUETYPE,tz=function(a){function b(b,f,e){nz.default.defaults(b,{inner:60,showMeasureTitle:!0});b.color=b.dimension;Hg.default.cleanseColor(b);b.legend=
Hg.default.getLegend(b);e=Hg.default.convertAxis(b.measure);delete b.dimension;delete b.legendPosition;b.centerValueType=b.showCenterValue?Hg.default.getValueType(b):ul.NONE;b.valueType=b.showValues?ul.COMPACT_NUMBER:ul.NONE;rz.defaultShowValues(b);b=Hg.default.convertSimpleChart(b);b.config.dimension=sz.deepCopy(b.config.color);b.config.plots[0].titleMaxLines=e.titleMaxLines;a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=
b}(pz.default);Ze.default=tz;Ze.getMetadata=function(){return qz.default};var Ig={};"use strict";Object.defineProperty(Ig,"__esModule",{value:!0});Ig.getMetadata=void 0;var vl=rh(Q),wl=rh(O),uz=rh(Lc),vz=rh({moduleName:"sfdc-funnel-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-funnel-chart",description:"Schema for Funnel Chart",type:"object",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{dimension:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimension"},
scaleFont:{type:"boolean"},showMeasureTitle:{type:"boolean"},showPercentage:{type:"boolean"},showTotal:{type:"boolean"},stemSegments:{type:"integer"},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"}}}}},name:"Funnel Chart",shortname:"Funnel"}),Ad=wl.default.utils,cc=Ad.plotUtils,Jg=Ad.rowsUtils,Eq=Ad.columnUtils,Kg=Ad.configUtils,wz=Ad.layoutUtils,xl=Ad.valueFctUtils,Fq=Ad.constants,yl=Ad.scales,zl=wl.default.shapes,xz=zl.Layer,yz=zl.Polygon,Al=zl.Text,
zz=wl.default.formatNumber,Bl=Fq.VALUETYPE,Bi,Ci,Az=function(a){function b(b,f,e,g){a.call(this,b,f,e,g);Bi||(Bi=cc.getDefaultFontSize());Ci||(Ci=cc.getMinFontSize())}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return vl.default.extend(a.prototype.getDefaultConfig.call(this),{valueType:Bl.COMPACT_NUMBER,showPercentage:!1,showTotal:!1,stemSegments:0,showMeasureTitle:!0,scaleFont:!0})};b.prototype.getChartProperties=
function(){var a=this.config,b=Kg.getColumns(a,"dimension")[0],e=[b],g=Kg.getColumns(a,"plots"),k=Kg.getTooltipColumns(a,"plots","dimension");return{layout:"FlatWithHeader",keyColumns:e,dimensionColumn:b,measureColumns:g,tooltipColumns:k,axisTitleMaxLines:[a.plots[0].titleMaxLines||1]}};b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);var b=this.config,f=b.valueType,e=b.stemSegments;b.stemSegments=Math.floor(0>e?0:e);b.valueType=Kg.sanitizeValueTypeConfig(f);f=this.getPlot().color;
vl.default.defaults(f,{sortColor:!1});b.layout={showMeasureTitle:b.showMeasureTitle}};b.prototype.plot=function(b,f,e,g){var k=this.chartProperties;g=k.dimensionColumn;k=k.measureColumns[0];f=Jg.filterOutRowsWithMissingFields(f,k);var m=Jg.measureSum(f,k,!0),n=Jg.measureSum(f,k),p=zz(k.getFormat(),!0),n=Eq.defaultText(k.getLabel(),k.getName())+(b.showTotal?": "+p(n):"");this.cellRendererConfigs={title:wz.getTitleCellRendererConfig(b,n,k,this.getChartProperties().axisTitleMaxLines)};g={dimension:g,
measure:k,absSumTotal:m,measureFct:xl.getValueFct({field:k}),keyFct:this.getKeyFct(),colorFct:xl.getValueFct({field:Kg.getPlotColorColumn(b)}),dimensionFct:xl.getValueFct({field:g}),valueTextFormatInfo:cc.getFormatInfo(b.valueType,k),percentFormatInfo:cc.getFormatInfo(Bl.PERCENT,k)};a.prototype.plot.call(this,b,f,e,g)};b.prototype.plotCell=function(a){var b=this,e=a.cell,g=a.layer,k=a.rows,m=a.scene,n=a.ctx;a=this.config;var p=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]].getScale(),
k=Jg.filterOutRowsWithMissingFields(k,n.measure);g.set({key:n.measure.getName(),staggerAnim:!0,canHover:!0,canSelect:!0});var r=new xz({cell:e,key:"funnel-text"}),u=this.calculateFunnelWidthsAndHeight(e),x=u.funnelTopWidth,t=u.funnelBottomWidth,v=u.height,z=vl.default.map(Eq.uniqueColumns(n.dimension,n.measure),"column"),u=0,w,y;0<a.stemSegments&&(u=this.computeStemRowsScaleHeight(k,x,t,v,n),w=u.stemRows,y=u.stemScale,u=u.stemHeight,v-=u,u*=t);if(0<k.length){var k=this.computeSegmentInfos(k,v,x,t,
(x+t)*v/2+u,n),A=this.computeSegmentsScale(k,n),B=0,C=e.get("w")/2-k[0].tw/2;k.forEach(function(a){var c=a.tw,e=a.bw,k=a.h;a=a.row;k={x:C+B,y:A.scale(n.keyFct(a)),tw:c,bw:e,h:k};b.drawFunnelSegment(a,k,p,z,g,r,n);B+=(c-e)/2})}if(0<a.stemSegments){var E=(e.get("w")-t)/2,D=0;w.forEach(function(a){var c=y.scale(Math.abs(n.measureFct(a)));b.drawFunnelSegment(a,{x:E,y:v+D,tw:t,bw:t,h:c},p,z,g,r,n);D+=c})}m.adjustRowToFit(e.get("row"))};b.prototype.computeStemRowsScaleHeight=function(a,b,e,g,k){var m=Math.min(this.config.stemSegments,
a.length);a=a.splice(-m);m=Jg.measureSum(a,k.measure,!0);b=(b+e)*g/(b+e+2*((k.absSumTotal-m)/m)*e);e=yl.linear().domain([0,m]).range([0,b]);return{stemRows:a,stemScale:e,stemHeight:b}};b.prototype.computeSegmentsScale=function(a,b){var e=a.map(function(a){return b.keyFct(a.row)}),g=0,k=a.map(function(a){var b=g;g+=a.h;return b});return yl.ordinal().domain(e).range(k)};b.prototype.computeSegmentInfos=function(a,b,e,g,k,m){var n=0,p=e,r=yl.linear().domain([0,m.absSumTotal]).range([0,k]);return a.map(function(a){e=
p;var c=Math.abs(m.measureFct(a)),c=0<c?r.scale(c):0,k=b-n,v=e-g;if(0<c){var z=Math.sqrt(e*e*k*k-2*c*k*v),k=(e*k-z)/v;p=Math.abs(2*c/k-e);k?0>k&&(k=-k,p=Math.abs(2*c/k-e)):p=e}else k=0,p=e;n+=k;return{tw:e,bw:p,h:k,row:a}})};b.prototype.drawFunnelSegment=function(a,b,e,g,k,m,n){g=n.keyFct(a);var p=n.measureFct(a),r=n.colorFct(a),p=0<=p,u=e.scale(n.colorFct(a)),x=this.polygonPoints(b,p);new yz({key:g,layer:k,fill:u.adjustOpacity(p?1:0.1),lineWidth:p?0:1,stroke:e.scale(r),points:x,data:{row:a},accessibility:{type:Fq.ACCESSIBILITY.TYPE.DATA}});
this.drawSegmentText(b,g,m,a,p,u,n,!1)};b.prototype.drawSegmentText=function(a,b,e,g,k,m,n,p){var r=a.x,u=a.y,x=a.tw,t=a.bw,v=a.h;void 0===p&&(p=!1);var z;this.config.scaleFont?(a=Math.min(0.2*Math.min(t,v),2*Bi),a=Math.max(Ci,a),z=Math.ceil(0.76*a)):(a=Bi,z=a-2);z=Math.max(Ci,z);var w=this.config,y=w.showPercentage,A=w.theme,B=w.valueType,w=n.percentFormatInfo;n=n.valueTextFormatInfo.textFct(g);w=w.textFct(g);B=B!==Bl.NONE;g=this.getAvailableWidths(x,t,v,a);var t=g[0],C=g[1];g=g[2];var D=this.doesTextFitOnOneLine(B,
y,n,w,t,v,a,z),C=this.doesTextFitOnTwoLines(n,w,C,g,v,a,z);!D&&(!C&&y)&&(y=!1,D=this.doesTextFitOnOneLine(B,y,n,w,t,v,a,z));if(D||C){n=this.getLabels(B,y,D,C,n,w,p);p=n.leftText;y=n.rightText;n=n.secondLineLabel;var w=u+v/2+(n?-a/2:0),u=u+v/2+a/2,E;p&&(E=k?m.toHighContrast(A.getTextColorOnLight(),A.getTextColorOnDark()):m,B=this.config.transforms,B.flipY&&n&&(v=w,w=u,u=v),v=cc.getTextWidth(p,a),C=y?cc.getTextWidth(y,z):0,B=B.rotate&&B.flipY,C=v+(y?2:0)+C,C=B?x-(x-C)/2:(x-C)/2,D=B?"right":"left",new Al({layer:e,
x:r+C,y:w,stroke:E,valign:"middle",halign:D,text:p,key:"l1-left-"+b,maxWidth:t,size:a,skipInFind:!0}),y&&new Al({layer:e,x:r+(C+(B?-v:v)),y:w,stroke:E,valign:"middle",halign:D,text:" "+y,key:"l1-right-"+b,maxWidth:t,size:z,skipInFind:!0}));n&&new Al({layer:e,x:r+x/2,y:u,stroke:E||(k?m.toHighContrast(A.getTextColorOnLight(),A.getTextColorOnDark()):m),halign:"center",valign:"middle",text:n,key:"l2-"+b,maxWidth:g,size:z,skipInFind:!0})}};b.prototype.polygonPoints=function(a,b){var e=a.x,g=a.y,k=a.tw,
m=a.bw,n=a.h,n=n+(b?0:-1);return[[e,g],[e+k+(b?0:-1),g],[e+k/2+m/2+(b?0:-1),g+n],[e+k/2-m/2,g+n]]};b.prototype.calculateFunnelWidthsAndHeight=function(a){var b=a.get("h"),e=3*b/4;a.get("w")<e&&(e=a.get("w"),b=4*e/3);return{funnelTopWidth:e,funnelBottomWidth:e/2,height:b}};b.prototype.doesTextFitOnOneLine=function(a,b,e,g,k,m,n,p){var r=n+4,u;a&&b?u=cc.getTextWidth(e,n)+cc.getTextWidth(" ("+g+")",p)+6:a?u=cc.getTextWidth(e,n)+4:b&&(u=cc.getTextWidth(g,n)+4);return m>=r&&k>=u};b.prototype.doesTextFitOnTwoLines=
function(a,b,e,g,k,m,n){var p=m+n+6;a=cc.getTextWidth(a,m)+4;b=cc.getTextWidth("("+b+")",n)+4;return k>=p&&e>=a&&g>=b};b.prototype.getLabels=function(a,b,e,g,k,m,n){var p,r,u;if(a&&b)e&&!n?(p=k,r="("+m+")"):g&&(p=k,u="("+m+")");else if((a||b)&&e)p=a?k:m;return{leftText:p,rightText:r,secondLineLabel:u}};b.prototype.getAvailableWidths=function(a,b,e,g){if(a===b)return[b,b,b];a=0.5*(a-b)/e;return[a*(e-g)+b,a*e+b,a*(e-2*g)+b]};return b}(uz.default);Ig.default=Az;Ig.getMetadata=function(){return vz.default};
var $e={};"use strict";Object.defineProperty($e,"__esModule",{value:!0});$e.getMetadata=void 0;var Bz=If(Q),Cz=If(O),Lg=If(db),Dz=If(Ig),Ez=If({moduleName:"lightning-funnel-chart",name:{section:"EclairConfig",id:"funnelLongName",fallback:"Funnel Chart"},shortname:{section:"EclairConfig",id:"funnelShortName",fallback:"Funnel"},config:[{type:"MEASURE",label:{section:"EclairConfig",id:"value",fallback:"Value"},min:1,max:1,property:"measure"},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",
id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",
fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"DIMENSION",label:{section:"EclairConfig",id:"color",fallback:"Color By"},min:1,max:1,property:"color",colorable:!0},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,defaults:[!0],property:"showValues"},{type:"BOOLEAN",label:{section:"EclairConfig",
id:"showPercentages",fallback:"Show Percentages"},min:1,max:1,defaults:[!1],property:"showPercentage"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"combineSmallGroups",fallback:'Combine Small Groups into "Others"'},min:1,max:1,defaults:[!0],property:"combineSmallGroups"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showTotal",fallback:"Show Total"},min:1,max:1,defaults:[!1],property:"showTotal"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},
min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",
label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),Cl=Cz.default.utils,Fz=Cl.configUtils,Gz=Cl.constants,Hz=Cl.dataUtils,Iz=function(a){function b(b,f,e){Bz.default.defaults(b,
{stemSegments:0,showMeasureTitle:!1});Lg.default.cleanseColor(b);b.legend=Lg.default.getLegend(b);e=Lg.default.convertAxis(b.measure);delete b.dimension;delete b.legendPosition;b.valueType=b.showValues?Lg.default.getValueType(b):Gz.VALUETYPE.NONE;Fz.defaultShowValues(b);b=Lg.default.convertSimpleChart(b);b.config.dimension=Hz.deepCopy(b.config.color);b.config.plots[0].titleMaxLines=e.titleMaxLines;a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
return b.prototype.constructor=b}(Dz.default);$e.default=Iz;$e.getMetadata=function(){return Ez.default};var af={};"use strict";Object.defineProperty(af,"__esModule",{value:!0});af.getMetadata=void 0;var Gq=sh(Q),Jz=sh(O),Kz=sh(Lc),Lz=sh({moduleName:"sfdc-abstract-metric-chart"}),Di=Jz.default.utils,Ei=Di.constants,Hq=Di.configUtils,Mz=Di.rangeUtils,Nz=Di.plotUtils,Oz=[33,66],Pz=[0,100],Qz=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
b.prototype.constructor=b;b.prototype.getChartProperties=function(){return{layout:"Flat",measureColumns:Hq.getColumns(this.config,"plots"),tooltipColumns:Hq.getColumns(this.config,"plots")}};b.prototype.getDefaultConfig=function(){var b=a.prototype.getDefaultConfig.call(this),f=this.getDefaultBinning();return f?Gq.default.extend(b,{valueType:Ei.VALUETYPE.COMPACT_NUMBER,domain:Pz,plots:[{color:{type:Ei.CHART_LAYOUT.COLOR_TYPE.BINS,breakpoints:f.breakpoints,bands:f.bands,column:this.getPlot().column}}]}):
b};b.prototype.getDefaultBinning=function(){var a=this.config.theme.getGradientBandColors().map(function(a){return{color:a.toJSON()}});return{breakpoints:Oz,bands:a}};b.prototype.computePercent=function(a,b,e){void 0===a&&(a=0);void 0===e&&(e=[]);var g=b[0];b=b[1];null==g&&(g=e[0]);null==b&&(b=e[1]);return null==g||null==b||b===g?0:100*(a-g)/Math.abs(b-g)};b.prototype.computeValue=function(a,b,e,g){void 0===g&&(g=[]);return a.valueType===Ei.VALUETYPE.PERCENT?this.computePercent(b,e,g):b};b.prototype.getMeasureValue=
function(a){var b=this.chartProperties.measureColumns[0].getName();return a[b]};b.prototype.getFormatInfo=function(){return Nz.getFormatInfo(this.config.valueType,this.chartProperties.measureColumns[0])};b.prototype.plotCell=function(a){var b=a.cell,e=a.layer;a=a.rows;var g=this.config,k=this.getMeasureValue(a[0]),m=this.getPlot(),n=this.getFormatInfo(),p=!this.getDefaultBinning(),m=Gq.default.map(m.referenceLines,"value"),g=Mz.correctBreakpoints(g.domain,m.concat([k]),p),k=n.valueType!==Ei.VALUETYPE.NONE,
p=this.getMeasureValue(a[0]),m=(m=this.config.color)&&m.column?a[0][m.column[0].getName()]:p;this.drawMetric({cell:b,layer:e,row:a[0],formatInfo:n,adjustedDomain:g,showValue:k,value:p,colorValue:m})};return b}(Kz.default);af.default=Qz;af.getMetadata=function(){return Lz.default};var Mg={};"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});Mg.getMetadata=void 0;var Rz=th(Q),Ng=th(O),Sz=th(af),Tz=th({moduleName:"sfdc-gauge-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-gauge-chart",
description:"Schema for Gauge Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{angle:{description:"The number of degrees the gauge will span",type:"integer",minimum:90,maximum:270,"default":180},domain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/domain"},showLabel:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showLabel"},showRange:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showRange"},
valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"}}}}},name:"Gauge",shortname:"Gauge"}),Fi=Ng.default.utils,Uz=Fi.plotUtils,Oc=Fi.constants,Iq=Fi.scales,Vz=Fi.rangeUtils,Bd=Ng.default.shapes,Wz=Bd.Polygon,Xz=Bd.ShapeGroup,Yz=Bd.Line,Zz=Bd.Arc,Dl=Bd.NumberText,$z=Bd.Point,aA=Bd.Layer,Jq=Bd.Text,El=Ng.default.formatNumber,Fl=Ng.default.LOC,bA=Ng.default.Settings,cA=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&
a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return Rz.default.extend(a.prototype.getDefaultConfig.call(this),{angle:Oc.MARK.GAUGE.ANGLE,inner:Oc.MARK.GAUGE.INNER_RADIUS_PERCENT,showPercentage:!1,showValue:!0,showRange:!0,showLabel:!0})};b.prototype.getDefaultBinning=function(){var b=a.prototype.getDefaultBinning.call(this),f=this.config.theme.getFlatBandColors(),e=[Fl.getLabel("@salesforce/charts","low"),Fl.getLabel("@salesforce/charts","medium"),Fl.getLabel("@salesforce/charts",
"high")];b.bands.forEach(function(a,b){a.color=f[b];a.label=e[b]});return b};b.prototype.getDataFormatter=function(){var b=a.prototype.getDataFormatter.call(this);b.setFormatterFunction(function(a){return[{label:"",value:a.range}]});return b};b.prototype.drawMetric=function(a){var b=a.cell,e=a.layer,g=a.formatInfo,k=a.adjustedDomain,m=a.showValue,n=a.value,p=a.colorValue,r=this.config;a=r.transforms.flipY||!1;var u=r.domain,x=r.theme,t=b.get("w"),v=b.get("h"),z=[t,v],w=Oc.MARK.GAUGE.MAX_ANGLE*Math.PI/
180,y=Math.min(w,Math.max(r.angle*Math.PI/180,Oc.MARK.GAUGE.MIN_ANGLE*Math.PI/180)),A=(Math.PI+y)/2,B=this.chartProperties.measureColumns[0],C=g.compact,D=B.getFormat(),E=r.showPercentage,F=r.showRange,K=r.showLabel,G=Iq.linear().domain([0,Math.PI/2]).range([v/6,2*v/3]),J=y-Math.PI,L=0>=J,G=L?F||K||m||E?F||K?5*v/7:4*v/5:14*v/15:v-G.scale(J/2),G=Math.min(t/2,G)-2,M=G*r.inner/100,N=[z[0]/2,G];e.set({key:"text",canSelect:!1,staggerAnim:!1});for(var R=new aA({cell:b,key:"gauge",canSelect:!1,canHover:!0,
staggerAnim:!1}),S=El(B.getFormat(),C),Q=this.getPlot().color,P=[k[0]],T=[],O=0;O<Q.breakpoints.length;O++){var U=Q.breakpoints[O];if(U>k[0]&&U<=k[1])P.push(U),T.push(Q.bands[O]);else if(U>k[1]){T.push(Q.bands[O]);break}}P[P.length-1]!==k[1]&&(P.push(k[1]),T.length!==P.length-1&&T.push(Q.bands[Q.bands.length-1]));R.set({accessibility:{type:Oc.ACCESSIBILITY.TYPE.CAPTION,key:Oc.ACCESSIBILITY.CAPTION_KEY.BREAKPOINTS,value:P.map(S).join(" ")}});p=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]].getScale().scale(p)||
x.getDimensionAxisTextColor();x=L?G:M;Q=E&&m?Math.round(x/8):Math.round(x/6);O=Iq.linear().domain([0,w-Math.PI]).range([G/6,G/2]);x=w=null;J=L?N[1]+G/6:N[1]+O.scale(J);O=J+Q+Oc.MIN_FONT_SIZE-v;0<O&&(N[1]-=O,G-=O,M-=O,J-=O);var W=null,U=O=null;E&&(O=this.computePercent(n,u,k),k=0<=O?"#%":bA.isRTL()?"#%-":"-#%",U=[m?"("+k+")":k,1],W=El(U,!0)(Math.abs(O)));k=Math.max(y,Math.PI);k=Math.min(2*Math.tan(Math.PI-k/2-3*Math.PI/180)*(J-N[1]),t);S=[m?S(n):null,W].filter(function(a){return a}).join(" ");k=(new Jq({text:S})).fitToSize(k-
2*Oc.PADDING,6*(v-J)/7,1,Q).get("size");if(k>=Oc.MIN_FONT_SIZE){if(m&&(w=new Dl({key:"value"+g.keySuffix,layer:e,x:N[0],y:J,size:k,valign:"middle",halign:"center",compact:C,format:D,number:n,stroke:p,includeDescender:!1})),E&&(x=new Dl({key:"percent",layer:e,x:N[0],y:J,size:k,valign:"middle",halign:"center",format:U,compact:!0,number:Math.abs(O),stroke:p,includeDescender:!1})),m&&E&&(g=Uz.getTextWidth(w.get("text")+" "+x.get("text"),k),w.set({x:N[0]-g/2,halign:"left"}),x.set({x:N[0]+g/2,halign:"right"})),
F||K)new Jq({layer:e,x:N[0],y:L&&!m&&!E?J:J+k,size:Math.max(10,2*k/3),halign:"center",valign:"middle",text:Vz.formatBandLabel(n,T,P,F,K),stroke:p,key:"bandText",maxWidth:2*Math.sin(Math.PI-Math.max(Math.PI,y)/2)*M-20,includeDescender:!0})}else L&&(G=Math.min(t/2,14*v/15),M=G*r.inner/100,N=[z[0]/2,G]);m=y/(P[0]-P[P.length-1]);this.drawArcs({cell:b,breakpoints:P,gaugeLayer:R,r:G,offsetAngle:A,scaleRatio:m,innerRadius:M,measure:B,bands:T});this.drawTicks({breakpoints:P,layer:e,r:G,offsetAngle:A,scaleRatio:m,
innerRadius:M,totalAngle:y,gaugeCenter:N,format:D});this.drawNeedle({breakpoints:P,value:n,gaugeLayer:R,r:G,offsetAngle:A,scaleRatio:m,measure:B,innerRadius:M,isFlipY:a})};b.prototype.drawArcs=function(a){var b=a.cell,e=a.breakpoints,g=a.gaugeLayer,k=a.r,m=a.offsetAngle,n=a.scaleRatio,p=a.innerRadius,r=a.bands,u=[],x=El(a.measure.getFormat(),!1);for(a=1;a<e.length;a++){var t=Math.abs((e[a]-e[a-1])*n);1<=t*k&&u.push({angle:t,band:r[a-1],index:a})}u.forEach(function(a,b){var c=x(e[a.index-1])+" - "+
x(e[a.index]);new Zz({layer:g,r1:k,r2:p,data:{row:{range:r[b].label?r[b].label+" ("+c+")":c}},angle:a.angle,startAngle:-m+0.1*Math.PI/180,fill:a.band.color,key:"breakpoint-"+a.index,roundedCornerStart:0===b,roundedCornerEnd:b===u.length-1,accessibility:{type:Oc.ACCESSIBILITY.TYPE.DATA}})});g.applyLayout({type:"stackAngle"}).set({x:b.get("w")/2,y:k})};b.prototype.drawTicks=function(a){var b=a.breakpoints,e=a.layer,g=a.offsetAngle,k=a.scaleRatio,m=a.innerRadius,n=a.gaugeCenter,p=a.format;a=Math.round(11*
(a.totalAngle/Math.PI));0===a%2&&a--;for(var r=Math.abs(b[b.length-1]-b[0])/(a-1),u=Math.max(Math.min(0.06*m,14),10),x=0.95*m,t=m*(60>m?0.75:0.8),v=0;v<a;v++){var z=-g-r*v*k,w=this.getPositionAlongArc(n,m,z),y=this.getPositionAlongArc(n,x,z);new Yz({layer:e,stroke:this.config.theme.getMeasureAxisTickMarkColor(),x0:w[0],y0:w[1],x1:y[0],y1:y[1],lineWidth:2,key:"tick"+v});if(40<t&&(10<u||0===v||v===a-1||(55>t?v===(a-1)/2:0===v%2)))z=this.getPositionAlongArc(n,t,z),new Dl({layer:e,x:z[0],y:z[1],halign:"center",
valign:"middle",size:u,compact:!0,format:p,number:b[0]+v*r,stroke:this.config.theme.getMeasureAxisTickLabelColor(),key:"ticklabel"+v,includeDescender:!0})}};b.prototype.drawNeedle=function(a){var b=a.gaugeLayer,e=a.scaleRatio,g=a.innerRadius,k=a.isFlipY,m=a.r/15;a=-a.offsetAngle-Math.abs(a.value-a.breakpoints[0])*e;e=new Xz({layer:b,key:"needleShapeGroup",canHover:!1,canSelect:!1});new $z({shapeGroup:e,layer:b,fill:this.config.theme.getGaugeNeedleColor(),r:m,x:0,y:0,key:"center",canHover:!1,canSelect:!1});
new Wz({shapeGroup:e,layer:b,key:"needle",fill:this.config.theme.getGaugeNeedleColor(),angle:a,points:[[0,-m+(k?1:-1)],[0.68*g,0],[0,m]],canHover:!1,canSelect:!1})};b.prototype.getPositionAlongArc=function(a,b,e){return[a[0]+b*Math.cos(e),a[1]+b*Math.sin(e)]};return b}(Sz.default);Mg.default=cA;Mg.getMetadata=function(){return Tz.default};var bf={};"use strict";Object.defineProperty(bf,"__esModule",{value:!0});bf.getMetadata=void 0;var dA=uh(O),eA=uh(Mg),jn=uh(db),fA=uh({moduleName:"lightning-gauge-chart",
name:{section:"EclairConfig",id:"gaugeLongName",fallback:"Gauge"},shortname:{section:"EclairConfig",id:"gaugeShortName",fallback:"Gauge"},config:[{type:"MEASURE",label:{section:"EclairConfig",id:"measure",fallback:"Measure"},min:1,max:1,property:"measure",colorable:!1},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",
label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",
fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showPercentages",fallback:"Show Percentages"},min:1,max:1,defaults:[!1],property:"showPercentage"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,defaults:[!0],property:"showValue"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showRange",fallback:"Show Range"},min:1,max:1,defaults:[!1],property:"showRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",
id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",
id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"RANGE",label:{section:"EclairConfig",id:"segmentRanges",fallback:"Segment Ranges"},colorable:!0,labelable:!0,extremas:!0,min:3,max:3,property:"ranges"}]}),Sj=dA.default.utils.constants,gA=function(a){function b(b,f){var e=jn.default.convertSimpleChart(Hs(b));a.call(this,e.config,f,e.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=
b}(eA.default);bf.default=gA;bf.getMetadata=function(){return fA.default};var Gi={moduleName:"sfdc-combo-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-combo-chart",description:"Schema for Combo Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{autoFitMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/autoFitMode"},lineWidth:{type:"integer"},axisMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/axisMode"},
barSpacer:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/barSpacer"},dimensionAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimensionAxis"},hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},hoverPadding:{type:"integer"},stack:{type:"boolean"},missingValue:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/missingValue"},labelSize:{type:"integer"},barSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/barSize"},
pointRadius:{type:"integer"},r:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/r"},showPoints:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showPoints"},split:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/split"},timeAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/timeAxis"},maxBarSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/maxBarSize"},minSpacer:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/minSpacer"},
showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},spacerRatio:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/spacerRatio"},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"},valueTypeOnLine:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType"}},patternProperties:{"^measureAxis\\d+$":{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"}}}}},
name:"Combo Chart",shortname:"Combo"},gd={};"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.getMetadata=void 0;var hA=Gi&&Gi.__esModule?Gi:{"default":Gi},iA=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}((qc&&qc.__esModule?qc:{"default":qc}).default);gd.default=iA;gd.getMetadata=function(){return hA.default};var cf={};"use strict";Object.defineProperty(cf,"__esModule",{value:!0});cf.getMetadata=
void 0;var jA=Jf(Q),kA=Jf(O),df=Jf(db),lA=Jf(gd),mA=Jf({moduleName:"lightning-hbar-chart",name:{section:"EclairConfig",id:"hbarLongName",fallback:"Horizontal Bar Chart"},shortname:{section:"EclairConfig",id:"hbarShortName",fallback:"HBar"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"yAxis",fallback:"Y-Axis"},min:1,max:2,multimetricMax:1,property:"dimension",colorable:!0},{type:"MEASURE",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},min:1,max:4,multidimensionalMax:1,property:"measure",
colorable:!0,supportsReferenceLines:!0},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",
fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,defaults:[!0],property:"showValues"},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showChatterPhotos",fallback:"Show Chatter Photos"},
min:1,max:1,defaults:[!1],property:"showChatterPhotos"},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionX",fallback:"X-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionX",fallback:"X-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"manual",label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionX",
fallback:"X-Axis Range"},property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",
label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",
id:"legendPositionBottom",fallback:"Bottom"}}]}]}),Kq=kA.default.utils,nA=Kq.configUtils,Lq=Kq.constants,oA=function(a){function b(b,f){var e;jA.default.defaults(b,{barSize:25,barSpacer:1,autoFitMode:Lq.AUTOFIT_MODE.KEEP_LABELS});b.mode=Lq.CHART_MODE.CLUSTER;b.transforms.rotate=!1;b.respectColorAndDimension||df.default.fixColorAndDimensionForBarChart(b);df.default.cleanseColor(b);0<b.measure.fields.length&&df.default.convertAxisDomain(b,b.measure.fields[0]);b.legend=df.default.getLegend(b);delete b.legendPosition;
nA.defaultShowValues(b);e=b.valueType;var g=df.default.getSanitizedValueTypeForLine(b.showValuesOnLine,e);e=df.default.convertCartesianChart(b,e,g);a.call(this,e.config,f,e.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(lA.default);cf.default=oA;cf.getMetadata=function(){return mA.default};var ef={};"use strict";Object.defineProperty(ef,"__esModule",{value:!0});ef.getMetadata=void 0;var pA=Kf(Q),qA=Kf(O),ff=Kf(db),rA=Kf(gd),sA=Kf({moduleName:"lightning-hcombo-chart"}),
Mq=qA.default.utils,tA=Mq.configUtils,Nq=Mq.constants,uA=function(a){function b(b,f,e){pA.default.defaults(b,{barSize:25,barSpacer:1,labelSize:25,lineWidth:2,autoFitMode:Nq.AUTOFIT_MODE.KEEP_LABELS,missingValue:Nq.MISSING_VALUE.CONNECT});b.transforms.rotate=!1;b.legend=ff.default.getLegend(b);b.valueType=ff.default.getValueType(b);delete b.legendPosition;delete b.axis1;delete b.axis2;ff.default.cleanseColor(b);tA.defaultShowValues(b);ff.default.sanitizeStackConfig(b);e=b.valueType;var g=ff.default.getSanitizedValueTypeForLine(b.showValuesOnLine,
e);b=ff.default.convertCartesianChart(b,e,g);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(rA.default);ef.default=uA;ef.getMetadata=function(){return sA.default};var le={};"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.getMetadata=void 0;var vA=vh(Q),wA=vh(O),xA=vh(qc),yA=vh({moduleName:"sfdc-line-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-line-chart",description:"Schema for Line Chart",
$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{autoFitMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/autoFitMode"},axisMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/axisMode"},dimensionAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/dimensionAxis"},fillArea:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/fillArea"},
hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},missingValue:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/missingValue"},pointRadius:{type:"integer"},showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},showPoints:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showPoints"},split:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/split"},
timeAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/timeAxis"}},patternProperties:{"^measureAxis\\d+$":{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"}}}}},name:"Line Chart",shortname:"Line"}),Oq=wA.default.utils,zA=Oq.configUtils,AA=Oq.constants,BA=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return vA.default.extend(a.prototype.getDefaultConfig.call(this),
{fillArea:!0,showCrosshair:!0})};b.prototype.sanitizeConfig=function(){zA.setMarkType(this.config,AA.MARK_TYPE.LINE);a.prototype.sanitizeConfig.call(this)};return b}(xA.default);le.default=BA;le.getMetadata=function(){return yA.default};var gf={};"use strict";Object.defineProperty(gf,"__esModule",{value:!0});gf.getMetadata=void 0;var CA=Lf(Q),DA=Lf(O),hf=Lf(db),EA=Lf(le),FA=Lf({moduleName:"lightning-line-chart",name:{section:"EclairConfig",id:"lineLongName",fallback:"Line Chart"},shortname:{section:"EclairConfig",
id:"lineShortName",fallback:"Line"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},role:"PRIMARY",min:1,max:2,multimetricMax:1,property:"dimension",colorable:!0},{type:"MEASURE",label:{section:"EclairConfig",id:"yAxis",fallback:"Y-Axis"},role:"PRIMARY",min:1,max:2,multidimensionalMax:1,property:"measure",colorable:!0,supportsReferenceLines:!0},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,defaults:[!1],property:"showValues"},
{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},
{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",
id:"automatic",fallback:"Automatic"}},{value:"manual",label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",
id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",
id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),Gl=DA.default.utils.constants,GA=function(a){function b(b,f,e){CA.default.defaults(b,{labelSize:25,lineWidth:2,autoFitMode:Gl.AUTOFIT_MODE.KEEP_LABELS,axisMode:Gl.AXIS_MODE.SYNC,missingValue:Gl.MISSING_VALUE.CONNECT});b.transforms.rotate=!0;e=b.dimension&&
b.dimension.fields||[];1<e.length&&!b.color&&(b.color={fields:[e.pop()]});hf.default.cleanseColor(b);0<b.measure.fields.length&&hf.default.convertAxisDomain(b,b.measure.fields[0]);b.legend=hf.default.getLegend(b);delete b.legendPosition;b.showValues||(b.valueType=hf.default.getSanitizedValueTypeForLine(b.showValues));hf.default.sanitizeStackConfig(b);e=b.valueType;b=hf.default.convertCartesianChart(b,e,e);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);
return b.prototype.constructor=b}(EA.default);gf.default=GA;gf.getMetadata=function(){return FA.default};var Og={};"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.getMetadata=void 0;var HA=wh(Q),Pq=wh(O),IA=wh(af),JA=wh({moduleName:"sfdc-metric-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-metric-chart",description:"Schema for Metric Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},"with":{properties:{showLabel:{type:"boolean",
"default":!0},showRange:{type:"boolean","default":!0},valueType:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/valueType","default":"compactNumber"}}}}},name:"Metric",shortname:"Metric"}),Hl=Pq.default.utils,Hi=Hl.constants,KA=Hl.rangeUtils,LA=Hl.plotUtils,Qq=Pq.default.shapes,MA=Qq.NumberText,NA=Qq.Text,OA=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getDefaultConfig=function(){return HA.default.extend(a.prototype.getDefaultConfig.call(this),
{showRange:!0,showLabel:!0,valueType:Hi.VALUETYPE.COMPACT_NUMBER})};b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);var b=this.config;b.valueType===Hi.VALUETYPE.PERCENT&&(b.valueType=Hi.VALUETYPE.COMPACT_NUMBER)};b.prototype.getDefaultBinning=function(){};b.prototype.drawMetric=function(a){var b=a.cell,e=a.layer,g=a.formatInfo,k=a.adjustedDomain;a=a.value;var m=this.config,n=m.showRange,m=m.showLabel,p=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]],
r=p.getScale(),u=(p=p.getType()===Hi.CHART_LAYOUT.COLOR_TYPE.BINS)?0.16:0,x=1-u;e.set({key:"valueLabel",canSelect:!1,staggerAnim:!1});g=(new MA({layer:e,y:0,x:0,halign:"left",valign:"middle",format:g.format,compact:g.compact,number:this.computeValue(g,a,this.config.domain,k),stroke:r.scale(a),key:"metric",includeDescender:!0})).fitToSize(b.get("w"),b.get("h")*x,1,LA.getTextHeight(135));b=g.boundingBox().h;k=b/x;g.set({x:-0.015*k,y:b/2});p&&(g=Math.max(k*u,12),p=this.getPlot().color,k=p.bands,p=p.breakpoints,
p=[-Infinity].concat(p,[Infinity]),new NA({layer:e,x:0,y:b+g/2,size:g,halign:"left",valign:"middle",text:KA.formatBandLabel(a,k,p,n,m),stroke:r.scale(a),key:"bandDescriptor"}))};return b}(IA.default);Og.default=OA;Og.getMetadata=function(){return JA.default};var jf={};"use strict";Object.defineProperty(jf,"__esModule",{value:!0});jf.getMetadata=void 0;var PA=Tj(Og),Rq=Tj(db),QA=Tj({moduleName:"lightning-metric-chart",name:{section:"EclairConfig",id:"metricLongName",fallback:"Metric Chart"},shortname:{section:"EclairConfig",
id:"metricShortName",fallback:"Metric"},config:[{type:"MEASURE",label:{section:"EclairConfig",id:"measure",fallback:"Measure"},min:1,max:1,property:"measure",colorable:!1},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",
label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showRange",fallback:"Show Range"},
min:1,max:1,defaults:[!1],property:"showRange"},{type:"RANGE",label:{section:"EclairConfig",id:"ranges",fallback:"Ranges"},colorable:!0,labelable:!0,extremas:!1,min:3,max:3,property:"ranges"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",
id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]}]}),RA=function(a){function b(b,f){var e=Rq.default.convertSimpleChart(b);e.config.valueType=Rq.default.getValueType(b);a.call(this,Is(e.config),f,
e.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(PA.default);jf.default=RA;jf.getMetadata=function(){return QA.default};var Pg={};"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});Pg.getMetadata=void 0;var Il=xh(Q),Ii=xh(O),SA=xh(Lc),TA=xh({moduleName:"sfdc-scatter-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-scatter-chart",description:"Schema for Scatter Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},
"with":{properties:{hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},r:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/r"},x:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"},y:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"},shouldConnect:{type:"boolean"},showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},
fillArea:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/fillArea"}}}}},name:"Scatter Plot",shortname:"Scatter"}),UA=Ii.default.shapes.Path,me=Ii.default.utils,Pc=me.configUtils,VA=me.columnUtils,Jl=me.rowsUtils,kf=me.plotUtils,Sq=me.sceneUtils,lb=me.constants,Tq=me.referenceLineUtils,Kl=Ii.default.chartLayouts.layoutsUtils,WA=Ii.default.color.colorUtils,XA=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=
b;b.prototype.getChartProperties=function(){var a=this.config,b=Pc.getColumns(a,"plots"),e=Pc.getPlotColorColumn(a),g=Pc.getColumns(a,"r")[0],b=VA.uniqueColumns(b,e),e=Pc.getColumns(a,"x","y","r"),k=b.slice(0,b.length-1),m=Pc.getTooltipColumns(a,"plots","x","y","r"),n=a.plots[0].color&&!WA.isColor(a.plots[0].color);return{layout:"AxisAxis",supportsSorting:!1,measureColumns:e,keyColumns:b,radiusColumn:g,tooltipColumns:m,percentGroupColumns:k,markType:lb.MARK_TYPE.DOT,showColorLegend:n,axisTitleMaxLines:[a.y.titleMaxLines,
a.x.titleMaxLines]}};b.prototype.getDefaultConfig=function(){return Il.default.extend(a.prototype.getDefaultConfig.call(this),{valueType:lb.VALUETYPE.COMPACT_NUMBER,x:kn(),y:kn(),r:{column:[],radiusRatio:lb.MARK.POINT.MAX_RATIO},hasNiceDomain:!0,shouldConnect:!1,fillArea:!1,transforms:{rotate:!1},showGridLines:!0})};b.prototype.getChartLayouts=function(b,f){var e=a.prototype.getChartLayouts.call(this,b,f),g=this.config,k=g.x,m=g.y,n=g.hasNiceDomain,p=g.transforms,g=Kl.getChartRadiusLayout(g.r,g.size,
g.padding,this.rows),k={x:Kl.getChartNumericAxisLayout(k).setIsX(!0).setHasNiceTicks(k.showAxis&&n).setHasHorizontalTicks(!p.rotate),y:Kl.getChartNumericAxisLayout(m).setIsX(!1).setHasNiceTicks(m.showAxis&&n).setHasHorizontalTicks(p.rotate)};return Il.default.extend(e,{radiusLayout:g,axisLayouts:k})};b.prototype.sanitizeConfig=function(){a.prototype.sanitizeConfig.call(this);var b=this.config,f=b.r,e=b.x,b=b.y;Pc.sanitizeAxis(e,e.column,!0);Pc.sanitizeAxis(b,b.column,!0);f.radiusRatio=null==f.radiusRatio?
lb.MARK.POINT.MAX_RATIO:Math.max(Math.min(f.radiusRatio,lb.MARK.POINT.MAX_RATIO),lb.MARK.POINT.MIN_RATIO)};b.prototype.plot=function(b,f,e){var g=b.x,k=b.y,m=b.valueType,n=Sq.cellMap(e),p=n.axisX,n=n.axisY;e.get("transforms").rotate?p.showAxis&&p.adjustHeight(kf.getMeasureAxisCellHeight(g.format,m)):n.showAxis&&n.adjustWidth(kf.getMeasureAxisCellHeight(k.format,m));this.cellRendererConfigs={plot:{createLayer:!1},"axis-x-title":{type:lb.CELL_RENDERER_TYPE.TITLE,orientation:"x",axis:g,isDimension:!1},
"axis-y-title":{type:lb.CELL_RENDERER_TYPE.TITLE,orientation:"y",axis:k,isDimension:!1}};this.cellRenderingOrder=["plot"];a.prototype.plot.call(this,b,f,e)};b.prototype.plotCell=function(a){var b=a.rows;a=a.cell;var e=this.config,g=this.chartProperties.radiusColumn,k=this.chartLayouts,m=k.radiusLayout,k=k.axisLayouts,n=this.chartLayouts.colorLayouts[Object.keys(this.chartLayouts.colorLayouts)[0]],p=e.x.column[0],r=e.y.column[0],u=Pc.getPlotColorColumn(this.config),b=Jl.filterOutRowsWithMissingFields(b,
p,r,g),x=e.valueType!==lb.VALUETYPE.NONE,t=m.getScale(),n=n.getScale(),p={key:{value:this.getKeyFct()},x:{field:p},y:{field:r},r:{field:g,scale:t},fill:{field:u,scale:n},stroke:{field:u,scale:n},lineWidth:{value:1},accessibility:{value:{type:lb.ACCESSIBILITY.TYPE.DATA}}},b=kf.point(p,b).set({key:"plot-layer-scatter"}).appendTo(a),p=b.getChildren();kf.adjustPointFill(p,m,lb.MARK.DOT.OPACITY_POS_VALUE,lb.MARK.DOT.OPACITY_NEG_VALUE);var v=[];e.shouldConnect&&b.groupByField(u).forEach(function(a,b){var c=
a.getChildren();1<c.length&&v.push(new UA({points:c.sort(function(a,b){return a.get("x")-b.get("x")}).map(function(a){return[a.get("x"),a.get("y")]}),stroke:c[0].get("fill"),lineWidth:2,key:"shapeLines "+b}))}).flatten();g&&b.sortBy(function(a){return-a.get("r")});x&&g&&kf.addValueText(b,g,e);b.prependAll(v);k.x.addPlot(p);k.y.addPlot(p);this.w=a.get("w");this.h=a.get("h")};b.prototype.settleLayouts=function(){var b=this.chartLayouts.axisLayouts;b.x.setSize(this.w).settleAxisDomainInfo();b.y.setSize(this.h).settleAxisDomainInfo();
a.prototype.settleLayouts.call(this)};b.prototype.postPlot=function(a,b,e){var g=Sq.cellMap(e),k=this.chartLayouts.axisLayouts,m=e.cellByKey("plot"),n=e.cellByKey("axis-x"),p=e.cellByKey("axis-y"),r=a.theme,u=a.x,x=a.y,t=m.get(),v=t.w,t=t.h,z=k.x.getScale(),w=k.y.getScale(),g=g.plot.getChildren()[0];a.fillArea&&kf.adjustLineFill(g,!0,a.theme.getLineFillAreaColor().toRGBA().a,k.x.showZero(),z);g.set({scales:{x:z,y:w},viewport:[0,0,v,t]}).flipY();var k=w.range(),y=z.range();g.set({brush:{key:g.key+
"-brushLayer",area:{width:y[y.length-1],height:-k[k.length-1]},color:{stroke:r.getBrushStrokeColor(),fill:r.getBrushFillColor()}}});this.renderCell(n,{type:lb.CELL_RENDERER_TYPE.MEASURE,orientation:"x",axis:u,scale:z,gridLineLength:t,drawGridLines:a.showGridLines,transforms:{flipY:!0}},{scene:e,rows:b});u.referenceLines&&Tq.xRefLines({key:"reflines-x",cell:m,length:t,lines:u.referenceLines,scale:z,theme:r,formatMultiplier:Pc.getFormatMultiplier(u)}).flipY();this.renderCell(p,{type:lb.CELL_RENDERER_TYPE.MEASURE,
orientation:"y",axis:x,scale:w,gridLineLength:v,drawGridLines:a.showGridLines},{scene:e,rows:b});x.referenceLines&&Tq.yRefLines({key:"reflines-y",cell:m,length:v,lines:x.referenceLines,scale:w,theme:r,formatMultiplier:Pc.getFormatMultiplier(x)})};b.prototype.hasMeasures=function(a){a=Jl.filterOutRowsWithMissingFields.apply(Jl,[a].concat(this.chartProperties.measureColumns));return!Il.default.isEmpty(a)};return b}(SA.default);Pg.default=XA;Pg.getMetadata=function(){return TA.default};var lf={};"use strict";
Object.defineProperty(lf,"__esModule",{value:!0});lf.getMetadata=void 0;var YA=Mf(Q),Uq=Mf(O),ZA=Mf(Pg),Cd=Mf(db),aB=Mf({moduleName:"lightning-scatter-chart",name:{section:"EclairConfig",id:"scatterLongName",fallback:"Scatter Chart"},shortname:{section:"EclairConfig",id:"scatterShortName",fallback:"Scatter"},config:[{type:"MEASURE",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},min:1,max:1,property:"x",colorable:!1,supportsReferenceLines:!0},{type:"MEASURE",label:{section:"EclairConfig",
id:"yAxis",fallback:"Y-Axis"},min:1,max:1,property:"y",colorable:!1,supportsReferenceLines:!0},{type:"DIMENSION",label:{section:"EclairConfig",id:"detail",fallback:"Detail"},min:1,max:1,role:"PRIMARY",property:"dimension",colorable:!1},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",
id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"OR",
nullable:!0,label:{section:"EclairConfig",id:"add",fallback:"Add"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"colorBy",fallback:"Color By"},min:1,max:1,role:"SECONDARY",property:"color",colorable:!0}]},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"manual",
label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},
{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},
min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),bB=Uq.default.utils.configUtils,cB=Uq.default.rowsMetadata.rowsMetadataUtils,dB=function(a){function b(b,f,e){b.r||(b.r={});YA.default.defaults(b.r,{radiusRatio:2});Cd.default.cleanseColor(b);b.legend=Cd.default.getLegend(b);bB.defaultShowValues(b);delete b.legendPosition;e=b.x;var g=b.y,k=cB.getRowsMetadataFromConfig(b);
b.x=Cd.default.convertAxis(e);b.y=Cd.default.convertAxis(g);Cd.default.convertAxisDomain(b,b.y);Cd.default.convertFields2Column(b);Cd.default.convertDimensionMeasure2Plots(b);Cd.default.convertHasTooltip(b);a.call(this,b,f,k)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(ZA.default);lf.default=dB;lf.getMetadata=function(){return aB.default};var mf={};"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.getMetadata=void 0;var eB=Nf(Q),fB=
Nf(O),gB=Nf(je),nf=Nf(db),hB=Nf({moduleName:"lightning-stackhbar-chart",name:{section:"EclairConfig",id:"stackhbarLongName",fallback:"Stacked Horizontal Bar Chart"},shortname:{section:"EclairConfig",id:"stackhbarShortName",fallback:"StackHBar"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"yAxis",fallback:"Y-Axis"},min:1,max:1,role:"PRIMARY",property:"dimension"},{type:"MEASURE",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},min:1,max:1,property:"measure",supportsReferenceLines:!0},
{type:"DIMENSION",label:{section:"EclairConfig",id:"stackBy",fallback:"Stack By"},min:1,max:1,role:"SECONDARY",property:"color",colorable:!0},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",
id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"normalizeValues",fallback:"Stack to 100%"},min:1,
max:1,defaults:[!1],property:"normalize"},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionX",fallback:"X-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionX",fallback:"X-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"manual",label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionX",fallback:"X-Axis Range"},
property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",
id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),
Vq=fB.default.utils,iB=Vq.configUtils,Wq=Vq.constants,jB=function(a){function b(b,f,e){eB.default.defaults(b,{showValues:!1,barSize:25,barSpacer:1,autoFitMode:Wq.AUTOFIT_MODE.KEEP_LABELS});b.mode=Wq.CHART_MODE.STACK;b.transforms.rotate=!1;b.respectColorAndDimension||nf.default.fixColorAndDimensionForStackBarChart(b);nf.default.cleanseColor(b);0<b.measure.fields.length&&nf.default.convertAxisDomain(b,b.measure.fields[0]);b.legend=nf.default.getLegend(b);delete b.legendPosition;nf.default.sanitizeStackConfig(b);
iB.defaultShowValues(b);b=nf.default.convertCartesianChart(b,b.valueType);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(gB.default);mf.default=jB;mf.getMetadata=function(){return hB.default};var of={};"use strict";Object.defineProperty(of,"__esModule",{value:!0});of.getMetadata=void 0;var kB=Of(Q),lB=Of(O),mB=Of(gd),pf=Of(db),nB=Of({moduleName:"lightning-stackvbar-chart",name:{section:"EclairConfig",id:"stackvbarLongName",
fallback:"Stacked Vertical Bar Chart"},shortname:{section:"EclairConfig",id:"stackvbarShortName",fallback:"StackVBar"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},min:1,max:1,role:"PRIMARY",property:"dimension"},{type:"MEASURE",label:{section:"EclairConfig",id:"yAxis",fallback:"Y-Axis"},min:1,max:2,property:"measure",supportsReferenceLines:!0,secondMeasureIsLine:!0},{type:"DIMENSION",label:{section:"EclairConfig",id:"stackBy",fallback:"Stack By"},min:1,max:1,
role:"SECONDARY",property:"color",colorable:!0},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",
id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"normalizeValues",fallback:"Stack to 100%"},min:1,max:1,defaults:[!1],property:"normalize"},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionY",
fallback:"Y-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"manual",label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",
fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",
fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),Xq=lB.default.utils,oB=Xq.configUtils,Yq=Xq.constants,pB=function(a){function b(b,
f,e){kB.default.defaults(b,{showValues:!1,barSize:25,barSpacer:1,autoFitMode:Yq.AUTOFIT_MODE.KEEP_LABELS});b.mode=Yq.CHART_MODE.STACK;b.transforms.rotate=!0;b.respectColorAndDimension||pf.default.fixColorAndDimensionForStackBarChart(b);pf.default.cleanseColor(b);0<b.measure.fields.length&&pf.default.convertAxisDomain(b,b.measure.fields[0]);b.legend=pf.default.getLegend(b);delete b.legendPosition;pf.default.sanitizeStackConfig(b);oB.defaultShowValues(b);b=pf.default.convertCartesianChart(b,b.valueType);
a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(mB.default);of.default=pB;of.getMetadata=function(){return nB.default};var ne={};"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.getMetadata=void 0;var Zq=yh(Q),qB=yh(O),rB=yh(qc),sB=yh({moduleName:"sfdc-timeline-chart",schema:{$id:"http://salesforce.com/charts/modules/sfdc-timeline-chart",description:"Schema for Timeline Chart",$merge:{source:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/common"},
"with":{properties:{autoFitMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/autoFitMode"},axisMode:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/axisMode"},fillArea:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/fillArea"},hasNiceDomain:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/hasNiceDomain"},labelSize:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/labelSize"},
missingValue:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/missingValue"},pointRadius:{type:"integer"},showGridLines:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showGridLines"},showPoints:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/showPoints"},split:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/split"},timeAxis:{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/timeAxis"}},
patternProperties:{"^measureAxis\\d+$":{$ref:"http://salesforce.com/charts/schema/core/definitions#/definitions/measureAxis"}}}}},name:"Time Line",shortname:"Timeline"}),$q=qB.default.utils,tB=$q.configUtils,Ji=$q.constants,uB=function(a){function b(){a.apply(this,arguments)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getChartProperties=function(){return Zq.default.extend(a.prototype.getChartProperties.call(this),{markType:Ji.MARK_TYPE.LINE})};
b.prototype.getDefaultConfig=function(){return Zq.default.extend(a.prototype.getDefaultConfig.call(this),{time:{},fillArea:!0,autoFitMode:Ji.AUTOFIT_MODE.FIT,pointRadius:Ji.MARK.LINE.TIME_POINT_RADIUS,showCrosshair:!0})};b.prototype.sanitizeConfig=function(){tB.setMarkType(this.config,Ji.MARK_TYPE.LINE);a.prototype.sanitizeConfig.call(this)};b.prototype.isTimeChart=function(){return!0};return b}(rB.default);ne.default=uB;ne.getMetadata=function(){return sB.default};var qf={};"use strict";Object.defineProperty(qf,
"__esModule",{value:!0});qf.getMetadata=void 0;var vB=Uj(ne),Ll=Uj(db),wB=Uj({moduleName:"lightning-timeline-chart"}),xB=function(a){function b(b,f,e){b.transforms.rotate=!0;Ll.default.sanitizeStackConfig(b);e=Ll.default.getSanitizedValueTypeForLine(b.showValues);b=Ll.default.convertCartesianChart(b,e,e);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(vB.default);qf.default=xB;qf.getMetadata=function(){return wB.default};
var rf={};"use strict";Object.defineProperty(rf,"__esModule",{value:!0});rf.getMetadata=void 0;var yB=Pf(Q),zB=Pf(O),sf=Pf(db),AB=Pf(gd),BB=Pf({moduleName:"lightning-vbar-chart",name:{section:"EclairConfig",id:"vbarLongName",fallback:"Vertical Bar Chart"},shortname:{section:"EclairConfig",id:"vbarShortname",fallback:"VBar"},config:[{type:"DIMENSION",label:{section:"EclairConfig",id:"xAxis",fallback:"X-Axis"},min:1,max:2,multimetricMax:2,property:"dimension",colorable:!0},{type:"MEASURE",label:{section:"EclairConfig",
id:"yAxis",fallback:"Y-Axis"},min:1,max:4,multidimensionalMax:2,property:"measure",colorable:!0,supportsReferenceLines:!0,supportsLineForSecondMeasure:!0},{type:"ENUM",property:"numberUnits",label:{section:"EclairConfig",id:"displayUnits",fallback:"Display Units"},min:1,max:1,options:[{value:"auto",label:{section:"EclairConfig",id:"unitsShortenNumber",fallback:"Shortened Number"}},{value:"whole",label:{section:"EclairConfig",id:"unitsWholeNumber",fallback:"Full Number"}},{value:"hundreds",label:{section:"EclairConfig",
id:"unitsHundreds",fallback:"Hundreds"}},{value:"thousands",label:{section:"EclairConfig",id:"unitsThousands",fallback:"Thousands"}},{value:"millions",label:{section:"EclairConfig",id:"unitsMillions",fallback:"Millions"}},{value:"billions",label:{section:"EclairConfig",id:"unitsBillions",fallback:"Billions"}},{value:"trillions",label:{section:"EclairConfig",id:"unitsTrillions",fallback:"Trillions"}}]},{type:"BOOLEAN",label:{section:"EclairConfig",id:"showValues",fallback:"Show Values"},min:1,max:1,
defaults:[!0],property:"showValues"},{type:"RADIO",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},legend:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},options:[{value:"auto","default":!0,label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"manual",label:{section:"EclairConfig",id:"custom",fallback:"Custom"}}],property:"axisRangeOption"},{type:"AXISRANGE",label:{section:"EclairConfig",id:"axisRangeOptionY",fallback:"Y-Axis Range"},
property:"axisRange"},{type:"ENUM",property:"decimalPlaces",label:{section:"EclairConfig",id:"decimalPlaces",fallback:"Decimal Places"},min:1,max:1,options:[{value:"-1",label:{section:"EclairConfig",id:"automatic",fallback:"Automatic"}},{value:"0",label:{section:"EclairConfig",id:"decimalPlacesZero",fallback:"0"}},{value:"1",label:{section:"EclairConfig",id:"decimalPlacesOne",fallback:"1"}},{value:"2",label:{section:"EclairConfig",id:"decimalPlacesTwo",fallback:"2"}},{value:"3",label:{section:"EclairConfig",
id:"decimalPlacesThree",fallback:"3"}},{value:"4",label:{section:"EclairConfig",id:"decimalPlacesFour",fallback:"4"}},{value:"5",label:{section:"EclairConfig",id:"decimalPlacesFive",fallback:"5"}}]},{type:"ENUM",property:"legendPosition",label:{section:"EclairConfig",id:"legendPosition",fallback:"Legend Position"},min:1,max:1,options:[{value:"Right",label:{section:"EclairConfig",id:"legendPositionRight",fallback:"Right"}},{value:"Bottom",label:{section:"EclairConfig",id:"legendPositionBottom",fallback:"Bottom"}}]}]}),
ar=zB.default.utils,CB=ar.configUtils,br=ar.constants,DB=function(a){function b(b,f,e){yB.default.defaults(b,{barSize:25,barSpacer:1,labelSize:25,lineWidth:2,autoFitMode:br.AUTOFIT_MODE.KEEP_LABELS});b.mode=br.CHART_MODE.CLUSTER;b.transforms.rotate=!0;b.respectColorAndDimension||sf.default.fixColorAndDimensionForBarChart(b);sf.default.cleanseColor(b);0<b.measure.fields.length&&sf.default.convertAxisDomain(b,b.measure.fields[0]);b.legend=sf.default.getLegend(b);delete b.legendPosition;null==b.showValuesOnLine&&
(b.showValuesOnLine=b.showValues);CB.defaultShowValues(b);e=b.valueType;var g=sf.default.getSanitizedValueTypeForLine(b.showValuesOnLine,e);b=sf.default.convertCartesianChart(b,e,g);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(AB.default);rf.default=DB;rf.getMetadata=function(){return BB.default};var tf={};"use strict";Object.defineProperty(tf,"__esModule",{value:!0});tf.getMetadata=void 0;var EB=Qf(Q),FB=Qf(O),
Qg=Qf(db),GB=Qf(gd),HB=Qf({moduleName:"lightning-vcombo-chart"}),cr=FB.default.utils,IB=cr.configUtils,dr=cr.constants,JB=function(a){function b(b,f,e){EB.default.defaults(b,{barSize:25,barSpacer:1,labelSize:25,lineWidth:2,autoFitMode:dr.AUTOFIT_MODE.KEEP_LABELS,missingValue:dr.MISSING_VALUE.CONNECT});b.transforms.rotate=!0;b.legend=Qg.default.getLegend(b);delete b.legendPosition;delete b.axis1;delete b.axis2;Qg.default.cleanseColor(b);IB.defaultShowValues(b);Qg.default.sanitizeStackConfig(b);e=b.valueType;
var g=Qg.default.getSanitizedValueTypeForLine(b.showValuesOnLine,e);b=Qg.default.convertCartesianChart(b,e,g);a.call(this,b.config,f,b.rowsMetadata)}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);return b.prototype.constructor=b}(GB.default);tf.default=JB;tf.getMetadata=function(){return HB.default};var er={};"use strict";Object.defineProperty(er,"__esModule",{value:!0});var KB=pa(Q),pb=pa(Up),LB=pa({name:"wave",properties:{BACKGROUND_COLOR:"rgba(255,255,255,0)",AXIS:{NUMBER:{AXIS_LINE:"rgba(197,211,224,1)",
GRID_LINE:"rgba(197,211,224,0.5)",MINOR_GRID_LINE:"rgba(197,211,224,0.3)",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#706e6b",TITLE:"#080707"},LABEL:{TEXT:{COLOR:"#080707",BACKGROUND:"#A3B8CC",HOVER:"#ffffff"},SEPARATOR_LINE:"#C5D3E0",TITLE:"#000000"},TIME:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",TITLE:"#080707",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#080707"}},TOOLTIP:{BACKGROUND_COLOR:"#16325C",LABEL_COLOR:"#9faab5",TRUNCATION_BACKGROUND_COLOR:"rgba(255, 255, 194, 1)",
VALUE_COLOR:"#fff"},LEGEND:{BACKGROUND:"rgba(255,255,255,0.8)",BORDER:"rgba(197,211,224,1)",TEXT:{COLOR:"#080707",BACKGROUND:"#A3B8CC",HOVER:"#ffffff"},HEADER:"#706e6b",HEADER_LINE:"#fff"},GRADIENT_LEGEND:{TEXT:"#080707"},RADIAL_LEGEND:{BACKGROUND:"rgba(244,246,249,0.7)",BORDER:"#A3B8CC",TEXT:"#080707"},HOTSPOT:{COLOR:"#ffffff",BACKGROUND:"#A3B8CC",HOVER:"#ffffff",HOVER_BACKGROUND:"#706e6b"},CONDITIONAL_COLOR:{POSITIVE:"#0BA976",NEGATIVE:"#E41E42",TEXT_COLOR_DARK:"#080707",TEXT_COLOR_LIGHT:"#fff"},
TITLE:{COLOR:"#080707",SUBTITLE_COLOR:"#706e6b"},MARK:{LINE:{FILL_AREA:"rgba(255,255,255,0.1)"},POLAR_GAUGE:{TRACK:"rgba(204,221,238,1)"},SPARK_LINE:{COLOR_LINE:"#080707",COLOR_HIGH:"#0BA976",COLOR_LOW:"#D4504C"},MAP:{COLOR_EMPTY:"#e0e5ee",COLOR_STROKE:"#fff",COLOR_LINE:"#a8b7c7"},GAUGE:{NEEDLE:"rgba(0,0,0,1)"}},TRELLIS:{GRID_LINE:"#E6ECF2",HEADER_TEXT:"#080707",HEADER_LINE:"#E6ECF2"},EMPTY_CHART:{TEXT:"#080707"},GRADIENT_COLORS:["linear-gradient(to bottom, #C5DBF7, #1674D9)"],BAND_COLORS:{FLAT:["#1674D9",
"#1674D9","#1674D9"],GRADIENT:["linear-gradient(to bottom, #F71979, #CC203D)","linear-gradient(to bottom, #FED444, #F29946)","linear-gradient(to bottom, #7BDE4E, #169913)"]},PALETTE:"#52b7d8 #e16032 #ffb03b #54a77b #4fd2d2 #e287b2 #f39654 #6dce56 #f5d73e #5296d9 #eb6e83 #a9d158".split(" "),REFERENCE_LINE:{LINE_STROKE:"#8932ed"},BINS:{DEFAULT_COLOR:"#A9A9A9"},BRUSH:{STROKE:"rgba(150, 150, 150, 0.5)",FILL:"rgba(200, 200, 200, 0.3)",TEXT:"rgba(0, 0, 0, 0.8)"},ICON:{FILL:"rgba(0, 0, 0, 0.1)"},CROSSHAIR:{STROKE:"rgba(255, 255, 255, 1)",
FILL:"rgba(1,118,211,1)"}}}),MB=pa({name:"dark",properties:{BACKGROUND_COLOR:"#091A3E",BACKGROUND_OPACITY:1,AXIS:{NUMBER:{AXIS_LINE:"rgba(92,122,153, 0.25)",GRID_LINE:"rgba(92,122,153, 0.25)",MINOR_GRID_LINE:"rgba(92,122,153, 0.25)",TICK_MARK:"rgba(92,122,153, 0.25)",TICK_LABEL:"#A3B8CC",TITLE:"#fff"},TITLE:{TEXT:{BACKGROUND:"#11295C"}},LABEL:{TEXT:{COLOR:"#fff",BACKGROUND:"#11295C",HOVER:"#ffffff"},SEPARATOR_LINE:"rgba(92,122,153, 0.35)",TITLE:"#A3B8CC"},TIME:{AXIS_LINE:"rgba(92,122,153, 0.25)",
GRID_LINE:"rgba(92,122,153, 0.25)",TITLE:"#fff",TICK_MARK:"rgba(92,122,153, 0.25)",TICK_LABEL:"#A3B8CC"}},TOOLTIP:{BACKGROUND_COLOR:"#193F61",TRUNCATION_BACKGROUND_COLOR:"rgba(255, 255, 194, 1)",LABEL_COLOR:"#EEF1F6",VALUE_COLOR:"#EEF1F6"},LEGEND:{BACKGROUND:"rgba(41,71,102,0.4)",BORDER:"#fff",TEXT:{COLOR:"#fff",BACKGROUND:"#11295C",HOVER:"#ffffff"},HEADER:"#A3B8CC",HEADER_LINE:"rgba(255,255,255,0)"},GRADIENT_LEGEND:{TEXT:"#fff"},RADIAL_LEGEND:{BACKGROUND:"#294766",BORDER:"rgba(92,122,153, 0.8)",
TEXT:"#fff"},HOTSPOT:{COLOR:"#ffffff",BACKGROUND:"#5C7A99",HOVER:"#ffffff",HOVER_BACKGROUND:"#706e6b"},CONDITIONAL_COLOR:{POSITIVE:"#0BA976",NEGATIVE:"#E41E42",TEXT_COLOR_DARK:"#080707",TEXT_COLOR_LIGHT:"#fff"},TITLE:{COLOR:"#fff",SUBTITLE_COLOR:"#A3B8CC"},MARK:{LINE:{FILL_AREA:"rgba(255,255,255,0.15)"},POLAR_GAUGE:{TRACK:"#37526D"},SPARK_LINE:{COLOR_LINE:"#347FDB",COLOR_HIGH:"#27C223",COLOR_LOW:"#f00"},MAP:{COLOR_EMPTY:"#080707",COLOR_STROKE:"rgba(92,122,153, 0.2)",COLOR_LINE:"rgba(92,122,153, 0.2)"},
GAUGE:{NEEDLE:"#5C7A99"}},TRELLIS:{GRID_LINE:"rgba(92,122,153, 0.25)",HEADER_TEXT:"#fff",HEADER_LINE:"rgba(92,122,153, 0.25)"},EMPTY_CHART:{TEXT:"#A3B8CC"},GRADIENT_COLORS:["linear-gradient(to bottom, #BDD6F1, #1468C3)"],BAND_COLORS:{FLAT:["#1674D9","#1674D9","#1674D9"],GRADIENT:["linear-gradient(to bottom, #F71979, #CC203D)","linear-gradient(to bottom, #FED444, #F29946)","linear-gradient(to bottom, #7BDE4E, #169913)"]},PALETTE:"#347FDB #8B52F1 #4DA9A3 #B998F6 #D8248C #1B5CAD #75ABE7 #613AA8 #7ED97A #057870 #1EA81A #FED444 #EAB718 #F39F62 #F08337 #F06800 #ED7D90 #E22946 #E14EA3 #981962".split(" "),
REFERENCE_LINE:{LINE_STROKE:"#8932ed"},BINS:{DEFAULT_COLOR:"#A9A9A9"},BRUSH:{STROKE:"rgba(255, 255, 255, 0.5)",FILL:"rgba(100, 100, 100, 0.3)",TEXT:"rgba(255, 255, 255, 0.8)"},ICON:{FILL:"rgba(255, 255, 255, 0.1)"},CROSSHAIR:{STROKE:"rgba(255, 255, 255, 1)",FILL:"rgba(1,118,211,1)"}}}),NB=pa({name:"light",properties:{BACKGROUND_COLOR:"rgba(255,255,255,0)",AXIS:{NUMBER:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",MINOR_GRID_LINE:"rgba(197,211,224,0.3)",TICK_MARK:"rgba(197,211,224,0.5)",
TICK_LABEL:"#706e6b",TITLE:"#080707"},LABEL:{TEXT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#080707"},SEPARATOR_LINE:"#C5D3E0",TITLE:"#706e6b"},TIME:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",TITLE:"#080707",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#080707"}},TOOLTIP:{BACKGROUND_COLOR:"#16325C",TRUNCATION_BACKGROUND_COLOR:"rgba(255, 255, 194, 1)",LABEL_COLOR:"#9faab5",VALUE_COLOR:"#fff"},LEGEND:{BACKGROUND:"rgba(255,255,255,0.4)",BORDER:"rgba(197,211,224,1)",TEXT:{COLOR:"#080707",
BACKGROUND:"#E6EAF5",HOVER:"#080707"},HEADER:"#706e6b",HEADER_LINE:"#fff"},GRADIENT_LEGEND:{TEXT:"#080707"},RADIAL_LEGEND:{BACKGROUND:"rgba(244,246,249,0.7)",BORDER:"#A3B8CC",TEXT:"#080707"},HOTSPOT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#ffffff",HOVER_BACKGROUND:"#706e6b"},CONDITIONAL_COLOR:{POSITIVE:"#0BA976",NEGATIVE:"#E41E42",TEXT_COLOR_DARK:"#080707",TEXT_COLOR_LIGHT:"#fff"},TITLE:{COLOR:"#080707",SUBTITLE_COLOR:"#706e6b"},MARK:{LINE:{FILL_AREA:"rgba(255,255,255,0.1)"},POLAR_GAUGE:{TRACK:"rgba(204,221,238,1)"},
SPARK_LINE:{COLOR_LINE:"#080707",COLOR_HIGH:"#0BA976",COLOR_LOW:"#D4504C"},MAP:{COLOR_EMPTY:"#e0e5ee",COLOR_STROKE:"#fff",COLOR_LINE:"#a8b7c7"},GAUGE:{NEEDLE:"#080707"}},TRELLIS:{GRID_LINE:"#E6ECF2",HEADER_TEXT:"#080707",HEADER_LINE:"#E6ECF2"},EMPTY_CHART:{TEXT:"#080707"},GRADIENT_COLORS:["linear-gradient(to bottom, #C5DBF7, #1674D9)"],BAND_COLORS:{FLAT:["#DC3912","#109618","#FF9900"],GRADIENT:["linear-gradient(to bottom, #F71979, #CC203D)","linear-gradient(to bottom, #FED444, #F29946)","linear-gradient(to bottom, #7BDE4E, #169913)"]},
PALETTE:"#1674D9 #8955F2 #73ACE8 #B899F7 #E2CE7D #4CA9A3 #66B6B0 #29C221 #7ED979 #E14DA3 #E87ABA #E32444 #EE7C8F #3A93BA #F18233 #F49E60 #FFD33F #FFE17A".split(" "),REFERENCE_LINE:{LINE_STROKE:"#8932ed"},BINS:{DEFAULT_COLOR:"#A9A9A9"},BRUSH:{STROKE:"rgb(0, 0, 0)",FILL:"rgba(100, 100, 100, 0.2)",TEXT:"rgba(0, 0, 0, 0.8)"},ICON:{FILL:"rgba(0, 0, 0, 0.1)"},CROSSHAIR:{STROKE:"rgba(255, 255, 255, 1)",FILL:"rgba(1,118,211,1)"}}}),OB=pa({name:"colorblind",properties:{BACKGROUND_COLOR:"rgba(255,255,255,0)",
AXIS:{NUMBER:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",MINOR_GRID_LINE:"rgba(197,211,224,0.3)",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#706e6b",TITLE:"#080707"},LABEL:{TEXT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#080707"},SEPARATOR_LINE:"#C5D3E0",TITLE:"#706e6b"},TIME:{AXIS_LINE:"rgba(197,211,224,1)",GRID_LINE:"rgba(197,211,224,0.5)",TITLE:"#080707",TICK_MARK:"rgba(197,211,224,0.5)",TICK_LABEL:"#080707"}},TOOLTIP:{BACKGROUND_COLOR:"#16325C",TRUNCATION_BACKGROUND_COLOR:"rgba(255, 255, 194, 1)",
LABEL_COLOR:"#9faab5",VALUE_COLOR:"#fff"},LEGEND:{BACKGROUND:"rgba(255,255,255,0.4)",BORDER:"rgba(197,211,224,1)",TEXT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#080707"},HEADER:"#706e6b",HEADER_LINE:"#fff"},GRADIENT_LEGEND:{TEXT:"#080707"},RADIAL_LEGEND:{BACKGROUND:"rgba(244,246,249,0.7)",BORDER:"#A3B8CC",TEXT:"#080707"},HOTSPOT:{COLOR:"#080707",BACKGROUND:"#E6EAF5",HOVER:"#ffffff",HOVER_BACKGROUND:"#5368a6"},CONDITIONAL_COLOR:{POSITIVE:"#0BA976",NEGATIVE:"#E41E42",TEXT_COLOR_DARK:"#080707",TEXT_COLOR_LIGHT:"#fff"},
TITLE:{COLOR:"#080707",SUBTITLE_COLOR:"#706e6b"},MARK:{LINE:{FILL_AREA:"rgba(255,255,255,0.1)"},POLAR_GAUGE:{TRACK:"rgba(204,221,238,1)"},SPARK_LINE:{COLOR_LINE:"#080707",COLOR_HIGH:"#0BA976",COLOR_LOW:"#D4504C"},MAP:{COLOR_EMPTY:"#e0e5ee",COLOR_STROKE:"#fff",COLOR_LINE:"#a8b7c7"}},TRELLIS:{GRID_LINE:"#E6ECF2",HEADER_TEXT:"#080707",HEADER_LINE:"#E6ECF2"},EMPTY_CHART:{TEXT:"#080707"},GRADIENT_COLORS:["linear-gradient(to bottom, #D4B7C6, #711042)"],BAND_COLORS:{FLAT:["#711042","#711042","#711042"],
GRADIENT:["linear-gradient(to bottom, #711042, #CC203D)","linear-gradient(to bottom, #711042, #F29946)","linear-gradient(to bottom, #711042, #169913)"]},PALETTE:"#529EE0 #D9A6C2 #08916D #F59B00 #006699 #F0E442 #DB5F00 #404040 #000".split(" "),REFERENCE_LINE:{LINE_STROKE:"#8932ed"},BINS:{DEFAULT_COLOR:"#A9A9A9"},ICON:{FILL:"rgba(0, 0, 0, 0.1)"}}}),PB=pa(fe),QB=pa(Ve),RB=pa(We),SB=pa(je),TB=pa(Ze),UB=pa($e),VB=pa(bf),WB=pa(cf),XB=pa(ef),YB=pa(gf),ZB=pa(jf),$B=pa(lf),aC=pa(mf),bC=pa(of),cC=pa(qf),dC=
pa(rf),eC=pa(tf),mn=pa({"sfdc-lightning/charts/donut.js":"lightning-donut-chart","sfdc-lightning/charts/funnel.js":"lightning-funnel-chart","sfdc-lightning/charts/gauge.js":"lightning-gauge-chart","sfdc-lightning/charts/hbar.js":"lightning-hbar-chart","sfdc-lightning/charts/hcombo.js":"lightning-hcombo-chart","sfdc-lightning/charts/line.js":"lightning-line-chart","sfdc-lightning/charts/metric.js":"lightning-metric-chart","sfdc-lightning/charts/scatter.js":"lightning-scatter-chart","sfdc-lightning/charts/stackhbar.js":"lightning-stackhbar-chart",
"sfdc-lightning/charts/stackvbar.js":"lightning-stackvbar-chart","sfdc-lightning/charts/timeline.js":"lightning-timeline-chart","sfdc-lightning/charts/vbar.js":"lightning-vbar-chart","sfdc-lightning/charts/vcombo.js":"lightning-vcombo-chart"}),fC=pa(ke),gC=pa(le),hC=pa(ne),on={};[{"default":PB.default,getMetadata:fe.getMetadata},{"default":QB.default,getMetadata:Ve.getMetadata},{"default":RB.default,getMetadata:We.getMetadata},{"default":SB.default,getMetadata:je.getMetadata},{"default":TB.default,
getMetadata:Ze.getMetadata},{"default":UB.default,getMetadata:$e.getMetadata},{"default":VB.default,getMetadata:bf.getMetadata},{"default":WB.default,getMetadata:cf.getMetadata},{"default":XB.default,getMetadata:ef.getMetadata},{"default":YB.default,getMetadata:gf.getMetadata},{"default":ZB.default,getMetadata:jf.getMetadata},{"default":$B.default,getMetadata:lf.getMetadata},{"default":aC.default,getMetadata:mf.getMetadata},{"default":bC.default,getMetadata:of.getMetadata},{"default":cC.default,getMetadata:qf.getMetadata},
{"default":dC.default,getMetadata:rf.getMetadata},{"default":eC.default,getMetadata:tf.getMetadata},{"default":fC.default,getMetadata:ke.getMetadata},{"default":gC.default,getMetadata:le.getMetadata},{"default":hC.default,getMetadata:ne.getMetadata}].forEach(function(a){pb.default.__getPrivateApi().registerModule(a);on[a.getMetadata().moduleName]=a});var fr=function(){function a(b,c){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this._path=b;this._metadata=c}a.prototype.path=
function(){return this._path};a.prototype.metadata=function(){return this._metadata};return a}(),iC=pb.default.__getPrivateApi().getModule.bind(pb.default.__getPrivateApi());pb.default.__getPrivateApi().getModule=function(a,b,c){return iC(ln(a),b,c)};pb.default.scripts=function(){return Object.keys(mn.default).map(function(a){return new fr(a,nn(a))})};pb.default.script=function(a){return new fr(a,nn(a))};if("undefined"!=typeof $A&&null!=$A){var Ki=$A.get("$Locale");if(null!=Ki){var Ml=Ki.userLocaleLang,
gr=Ki.userLocaleCountry;Ml&&pb.default.setLocale(gr?Ml+"-"+gr:Ml);pb.default.__getPrivateApi().getSettings().setLocaleDirection(Ki.dir)}var hr=$A.get("$Label").EclairConfig;hr&&pb.default.setLabels({"@salesforce/charts":KB.default.extend({},hr)})}pb.default.registerTheme(LB.default);pb.default.registerTheme(MB.default);pb.default.registerTheme(NB.default);pb.default.registerTheme(OB.default);window.EclairNG=pb.default;er.default=pb.default})();

//# sourceMappingURL=/javascript/1696969159730/ui-analytics-reporting/source/EclairNG.js.map
